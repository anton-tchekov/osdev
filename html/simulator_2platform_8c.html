<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OS Dev: platform/simulator/platform.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OS Dev<span id="projectnumber">&#160;0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c5a52a81292cf9a5167198f4f346d6d9.html">platform</a></li><li class="navelem"><a class="el" href="dir_bbccd843e99f353786fe6e7f46c1b68d.html">simulator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">platform.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>OS simulator platform.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="emulator_8h_source.html">emulator.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="platform_8h_source.html">platform.h</a>&gt;</code><br />
<code>#include &lt;SDL2/SDL.h&gt;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;<a class="el" href="time_8h_source.html">time.h</a>&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="util_8h_source.html">util.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="status_8h_source.html">status.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="keyboard-shared_8h_source.html">keyboard-shared.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="layout_8h_source.html">layout.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="gfx-types_8h_source.html">gfx-types.h</a>&gt;</code><br />
</div>
<p><a href="simulator_2platform_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3adf7b7b13572f2baf3379a8f2f4220a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a3adf7b7b13572f2baf3379a8f2f4220a">WINDOW_TITLE</a>&#160;&#160;&#160;&quot;OS Simulator&quot;</td></tr>
<tr class="separator:a3adf7b7b13572f2baf3379a8f2f4220a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86e1969b50e55e5d506233078ca0fa4c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a86e1969b50e55e5d506233078ca0fa4c">READ_SIZE</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a86e1969b50e55e5d506233078ca0fa4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acf57f1ce47563167d4ef978ef1a7ab49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#acf57f1ce47563167d4ef978ef1a7ab49">env_memory_size</a> (void)</td></tr>
<tr class="memdesc:acf57f1ce47563167d4ef978ef1a7ab49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size of the installed memory.  <br /></td></tr>
<tr class="separator:acf57f1ce47563167d4ef978ef1a7ab49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7ab32a3f56a5eb22459591ded6cb9ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#ab7ab32a3f56a5eb22459591ded6cb9ec">env_memory_read</a> (<a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> addr, void *data, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> size)</td></tr>
<tr class="memdesc:ab7ab32a3f56a5eb22459591ded6cb9ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from physical memory.  <br /></td></tr>
<tr class="separator:ab7ab32a3f56a5eb22459591ded6cb9ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22d4f443fb95499e0acccc1f263e99c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a22d4f443fb95499e0acccc1f263e99c7">env_memory_write</a> (<a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> addr, const void *data, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> size)</td></tr>
<tr class="memdesc:a22d4f443fb95499e0acccc1f263e99c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to physical memory.  <br /></td></tr>
<tr class="separator:a22d4f443fb95499e0acccc1f263e99c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a778ab3a1d0d6b430c575bd4429ae2c0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a778ab3a1d0d6b430c575bd4429ae2c0c">memory_dump</a> (<a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> address, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> length)</td></tr>
<tr class="memdesc:a778ab3a1d0d6b430c575bd4429ae2c0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump emulator memory from address with length.  <br /></td></tr>
<tr class="separator:a778ab3a1d0d6b430c575bd4429ae2c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0005c1c8e628e687ab0112a21b96255e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a0005c1c8e628e687ab0112a21b96255e">gfx_init</a> (void)</td></tr>
<tr class="memdesc:a0005c1c8e628e687ab0112a21b96255e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize SDL graphics.  <br /></td></tr>
<tr class="separator:a0005c1c8e628e687ab0112a21b96255e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1177d6efdbcd3fccf3d4d83e8489736d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a1177d6efdbcd3fccf3d4d83e8489736d">gfx_destroy</a> (void)</td></tr>
<tr class="memdesc:a1177d6efdbcd3fccf3d4d83e8489736d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor for SDL graphics renderer.  <br /></td></tr>
<tr class="separator:a1177d6efdbcd3fccf3d4d83e8489736d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cc2bcdce3a6cef65d6e19b8c3bd3c65"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a7cc2bcdce3a6cef65d6e19b8c3bd3c65">gfx_color</a> (<a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> r, <a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> g, <a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> b)</td></tr>
<tr class="memdesc:a7cc2bcdce3a6cef65d6e19b8c3bd3c65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate ABGR color from red, green and blue channel values.  <br /></td></tr>
<tr class="separator:a7cc2bcdce3a6cef65d6e19b8c3bd3c65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2f53b0384a6be55e7d9bda545a7c29d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#ad2f53b0384a6be55e7d9bda545a7c29d">_abgr_r</a> (<a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> color)</td></tr>
<tr class="memdesc:ad2f53b0384a6be55e7d9bda545a7c29d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract red channel from ABGR color.  <br /></td></tr>
<tr class="separator:ad2f53b0384a6be55e7d9bda545a7c29d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a276cadc53afdd89636035fe4ad8e8084"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a276cadc53afdd89636035fe4ad8e8084">_abgr_g</a> (<a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> color)</td></tr>
<tr class="memdesc:a276cadc53afdd89636035fe4ad8e8084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract green channel from ABGR color.  <br /></td></tr>
<tr class="separator:a276cadc53afdd89636035fe4ad8e8084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2b02d48400d091151747b4a2ee85b7f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#aa2b02d48400d091151747b4a2ee85b7f">_abgr_b</a> (<a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> color)</td></tr>
<tr class="memdesc:aa2b02d48400d091151747b4a2ee85b7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract blue channel from ABGR color.  <br /></td></tr>
<tr class="separator:aa2b02d48400d091151747b4a2ee85b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a856c69c0d9d9bc4b29adee2bd02fc8ee"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a856c69c0d9d9bc4b29adee2bd02fc8ee">_abgr_to_argb</a> (<a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> color)</td></tr>
<tr class="memdesc:a856c69c0d9d9bc4b29adee2bd02fc8ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a ABGR color to a ARGB color.  <br /></td></tr>
<tr class="separator:a856c69c0d9d9bc4b29adee2bd02fc8ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30908338975f39796f517393a86334be"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a30908338975f39796f517393a86334be">_color_merge</a> (<a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> color1, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> color2, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> ratio)</td></tr>
<tr class="memdesc:a30908338975f39796f517393a86334be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mix two colors according to a ratio. A ratio of 255 means 100% of the first color and 0% of the second color will be mixed together.  <br /></td></tr>
<tr class="separator:a30908338975f39796f517393a86334be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50ddca19f29fb4e8caa1f0540f72d9c3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a50ddca19f29fb4e8caa1f0540f72d9c3">_rgb565_to_bgra</a> (<a class="el" href="types_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a> color)</td></tr>
<tr class="memdesc:a50ddca19f29fb4e8caa1f0540f72d9c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a RGB565 color to an BGRA color.  <br /></td></tr>
<tr class="separator:a50ddca19f29fb4e8caa1f0540f72d9c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac453e2fa7f27ee825e5fd898bbce47ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#ac453e2fa7f27ee825e5fd898bbce47ce">env_gfx_rect</a> (<a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> x, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> y, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> w, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> h, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> color)</td></tr>
<tr class="memdesc:ac453e2fa7f27ee825e5fd898bbce47ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw rectangle.  <br /></td></tr>
<tr class="separator:ac453e2fa7f27ee825e5fd898bbce47ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ec534a76e1a69d2f4667abe4f7f8ff1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a5ec534a76e1a69d2f4667abe4f7f8ff1">env_gfx_image_rgba</a> (<a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> x, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> y, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> w, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> h, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> addr)</td></tr>
<tr class="memdesc:a5ec534a76e1a69d2f4667abe4f7f8ff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw an RGBA image.  <br /></td></tr>
<tr class="separator:a5ec534a76e1a69d2f4667abe4f7f8ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ac0a4bc195845f77f7392de411499b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a6ac0a4bc195845f77f7392de411499b8">env_gfx_image_rgb</a> (<a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> x, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> y, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> w, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> h, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> addr)</td></tr>
<tr class="memdesc:a6ac0a4bc195845f77f7392de411499b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw an RGB image.  <br /></td></tr>
<tr class="separator:a6ac0a4bc195845f77f7392de411499b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d50f649582cee2b61d52a87fbd0e05f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a6d50f649582cee2b61d52a87fbd0e05f">env_gfx_image_rgb565</a> (<a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> x, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> y, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> w, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> h, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> addr)</td></tr>
<tr class="memdesc:a6d50f649582cee2b61d52a87fbd0e05f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw an RGB565 image.  <br /></td></tr>
<tr class="separator:a6d50f649582cee2b61d52a87fbd0e05f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5a8e615c9cee94d1065f812ff38707"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a7d5a8e615c9cee94d1065f812ff38707">env_gfx_image_grayscale</a> (<a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> x, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> y, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> w, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> h, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> addr, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> fg, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> bg)</td></tr>
<tr class="memdesc:a7d5a8e615c9cee94d1065f812ff38707"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a colored grayscale image.  <br /></td></tr>
<tr class="separator:a7d5a8e615c9cee94d1065f812ff38707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbf69bdfb45e7893298d5b8eb75ca3c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#afbf69bdfb45e7893298d5b8eb75ca3c0">env_gfx_image_1bit</a> (<a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> x, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> y, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> w, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> h, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> addr, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> fg, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> bg)</td></tr>
<tr class="memdesc:afbf69bdfb45e7893298d5b8eb75ca3c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a colored 1-bit image.  <br /></td></tr>
<tr class="separator:afbf69bdfb45e7893298d5b8eb75ca3c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10a5a2d20838f25eba5db18f43f94158"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a10a5a2d20838f25eba5db18f43f94158">env_serial_write</a> (const void *data, <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> len)</td></tr>
<tr class="memdesc:a10a5a2d20838f25eba5db18f43f94158"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data over the serial interface.  <br /></td></tr>
<tr class="separator:a10a5a2d20838f25eba5db18f43f94158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac25a788a06cf437544e5edaf5faf4e2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#ac25a788a06cf437544e5edaf5faf4e2f">env_random_get</a> (void)</td></tr>
<tr class="memdesc:ac25a788a06cf437544e5edaf5faf4e2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a pseudo-random number.  <br /></td></tr>
<tr class="separator:ac25a788a06cf437544e5edaf5faf4e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d7a2412663c9b0521415553939b1b05"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a2d7a2412663c9b0521415553939b1b05">timer_init</a> (void)</td></tr>
<tr class="memdesc:a2d7a2412663c9b0521415553939b1b05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize simulated millisecond timer.  <br /></td></tr>
<tr class="separator:a2d7a2412663c9b0521415553939b1b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0be14c6c6a205ee06b64f11184884e5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a0be14c6c6a205ee06b64f11184884e5e">env_millis</a> (void)</td></tr>
<tr class="memdesc:a0be14c6c6a205ee06b64f11184884e5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of milliseconds since boot.  <br /></td></tr>
<tr class="separator:a0be14c6c6a205ee06b64f11184884e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a870f528e9f4763ae4a34304889be51f7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="keyboard-shared_8h.html#a48752551c4279f8cddf3585f8272092a">Key</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a870f528e9f4763ae4a34304889be51f7">_convert_key</a> (<a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> scancode, <a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> mod)</td></tr>
<tr class="memdesc:a870f528e9f4763ae4a34304889be51f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Combine scancode and key modifiers into one value.  <br /></td></tr>
<tr class="separator:a870f528e9f4763ae4a34304889be51f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a3c04138a5bfe5d72780bb7e82a18e627"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simulator main function.  <br /></td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af6f613b61d5bebc8c982e22e18f37442"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#af6f613b61d5bebc8c982e22e18f37442">_memory</a> [3 *128 *1024]</td></tr>
<tr class="separator:af6f613b61d5bebc8c982e22e18f37442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7db97d90c5bcb218e6607991010e45c1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a7db97d90c5bcb218e6607991010e45c1">_pixels</a> [<a class="el" href="gfx-types_8h.html#a11b59534db467ebd1fb19b758e6fffd7">GFX_HEIGHT</a> *<a class="el" href="gfx-types_8h.html#aae91ae7a3ca585293a2c1031652a49f9">GFX_WIDTH</a>]</td></tr>
<tr class="separator:a7db97d90c5bcb218e6607991010e45c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b6ea31d89d396e1e9ec6f6a892a10a9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a2b6ea31d89d396e1e9ec6f6a892a10a9">_sec_start</a></td></tr>
<tr class="separator:a2b6ea31d89d396e1e9ec6f6a892a10a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52810ae9486c3852a18b8a7a3d67df01"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a52810ae9486c3852a18b8a7a3d67df01">_usec_start</a></td></tr>
<tr class="separator:a52810ae9486c3852a18b8a7a3d67df01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb4163b750b340c250c11d4db91016b8"><td class="memItemLeft" align="right" valign="top">static SDL_Texture *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#aeb4163b750b340c250c11d4db91016b8">_framebuffer</a></td></tr>
<tr class="separator:aeb4163b750b340c250c11d4db91016b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e721a97183db093899a7a38ff00ba2"><td class="memItemLeft" align="right" valign="top">static SDL_Window *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#aa6e721a97183db093899a7a38ff00ba2">_window</a></td></tr>
<tr class="separator:aa6e721a97183db093899a7a38ff00ba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a626c7a4e8aed645a08b05efaa50fdac5"><td class="memItemLeft" align="right" valign="top">static SDL_Renderer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simulator_2platform_8c.html#a626c7a4e8aed645a08b05efaa50fdac5">_renderer</a></td></tr>
<tr class="separator:a626c7a4e8aed645a08b05efaa50fdac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>OS simulator platform. </p>
<dl class="section author"><dt>Author</dt><dd>Anton Tchekov </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>25.05.2023 </dd></dl>

<p class="definition">Definition in file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a86e1969b50e55e5d506233078ca0fa4c" name="a86e1969b50e55e5d506233078ca0fa4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86e1969b50e55e5d506233078ca0fa4c">&#9670;&#160;</a></span>READ_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_SIZE&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of bytes to read at once when loading binary </p>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00030">30</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="a3adf7b7b13572f2baf3379a8f2f4220a" name="a3adf7b7b13572f2baf3379a8f2f4220a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3adf7b7b13572f2baf3379a8f2f4220a">&#9670;&#160;</a></span>WINDOW_TITLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WINDOW_TITLE&#160;&#160;&#160;&quot;OS Simulator&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Title of the simulator window </p>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00027">27</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa2b02d48400d091151747b4a2ee85b7f" name="aa2b02d48400d091151747b4a2ee85b7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2b02d48400d091151747b4a2ee85b7f">&#9670;&#160;</a></span>_abgr_b()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> _abgr_b </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extract blue channel from ABGR color. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color</td><td>ABGR Color </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Blue value </dd></dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00197">197</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  197</span>{ <span class="keywordflow">return</span> (color &gt;&gt;  8) &amp; 0xFF; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a276cadc53afdd89636035fe4ad8e8084" name="a276cadc53afdd89636035fe4ad8e8084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a276cadc53afdd89636035fe4ad8e8084">&#9670;&#160;</a></span>_abgr_g()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> _abgr_g </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extract green channel from ABGR color. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color</td><td>ABGR Color </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Green value </dd></dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00189">189</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  189</span>{ <span class="keywordflow">return</span> (color &gt;&gt; 16) &amp; 0xFF; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2f53b0384a6be55e7d9bda545a7c29d" name="ad2f53b0384a6be55e7d9bda545a7c29d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2f53b0384a6be55e7d9bda545a7c29d">&#9670;&#160;</a></span>_abgr_r()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> _abgr_r </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extract red channel from ABGR color. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color</td><td>ABGR Color </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Red value </dd></dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00181">181</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  181</span>{ <span class="keywordflow">return</span> (color &gt;&gt; 24) &amp; 0xFF; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a856c69c0d9d9bc4b29adee2bd02fc8ee" name="a856c69c0d9d9bc4b29adee2bd02fc8ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a856c69c0d9d9bc4b29adee2bd02fc8ee">&#9670;&#160;</a></span>_abgr_to_argb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> _abgr_to_argb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a ABGR color to a ARGB color. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color</td><td>ABGR color value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ARGB color value </dd></dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00205">205</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  206</span>{</div>
<div class="line"><span class="lineno">  207</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="simulator_2platform_8c.html#a7cc2bcdce3a6cef65d6e19b8c3bd3c65">gfx_color</a>(</div>
<div class="line"><span class="lineno">  208</span>        <a class="code hl_function" href="avr_2platform_8c.html#ad2f53b0384a6be55e7d9bda545a7c29d">_abgr_r</a>(color),</div>
<div class="line"><span class="lineno">  209</span>        <a class="code hl_function" href="avr_2platform_8c.html#a276cadc53afdd89636035fe4ad8e8084">_abgr_g</a>(color),</div>
<div class="line"><span class="lineno">  210</span>        <a class="code hl_function" href="avr_2platform_8c.html#aa2b02d48400d091151747b4a2ee85b7f">_abgr_b</a>(color));</div>
<div class="line"><span class="lineno">  211</span>}</div>
<div class="ttc" id="aavr_2platform_8c_html_a276cadc53afdd89636035fe4ad8e8084"><div class="ttname"><a href="avr_2platform_8c.html#a276cadc53afdd89636035fe4ad8e8084">_abgr_g</a></div><div class="ttdeci">static u8 _abgr_g(u32 color)</div><div class="ttdef"><b>Definition:</b> <a href="avr_2platform_8c_source.html#l00039">platform.c:39</a></div></div>
<div class="ttc" id="aavr_2platform_8c_html_aa2b02d48400d091151747b4a2ee85b7f"><div class="ttname"><a href="avr_2platform_8c.html#aa2b02d48400d091151747b4a2ee85b7f">_abgr_b</a></div><div class="ttdeci">static u8 _abgr_b(u32 color)</div><div class="ttdef"><b>Definition:</b> <a href="avr_2platform_8c_source.html#l00042">platform.c:42</a></div></div>
<div class="ttc" id="aavr_2platform_8c_html_ad2f53b0384a6be55e7d9bda545a7c29d"><div class="ttname"><a href="avr_2platform_8c.html#ad2f53b0384a6be55e7d9bda545a7c29d">_abgr_r</a></div><div class="ttdeci">static u8 _abgr_r(u32 color)</div><div class="ttdef"><b>Definition:</b> <a href="avr_2platform_8c_source.html#l00036">platform.c:36</a></div></div>
<div class="ttc" id="asimulator_2platform_8c_html_a7cc2bcdce3a6cef65d6e19b8c3bd3c65"><div class="ttname"><a href="simulator_2platform_8c.html#a7cc2bcdce3a6cef65d6e19b8c3bd3c65">gfx_color</a></div><div class="ttdeci">static u32 gfx_color(u8 r, u8 g, u8 b)</div><div class="ttdoc">Generate ABGR color from red, green and blue channel values.</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00167">platform.c:167</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="avr_2platform_8c_source.html#l00042">_abgr_b()</a>, <a class="el" href="avr_2platform_8c_source.html#l00039">_abgr_g()</a>, <a class="el" href="avr_2platform_8c_source.html#l00036">_abgr_r()</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00167">gfx_color()</a>.</p>

<p class="reference">Referenced by <a class="el" href="simulator_2platform_8c_source.html#l00335">env_gfx_image_1bit()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00269">env_gfx_image_rgba()</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00255">env_gfx_rect()</a>.</p>

</div>
</div>
<a id="a30908338975f39796f517393a86334be" name="a30908338975f39796f517393a86334be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30908338975f39796f517393a86334be">&#9670;&#160;</a></span>_color_merge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> _color_merge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>color1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>color2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>ratio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mix two colors according to a ratio. A ratio of 255 means 100% of the first color and 0% of the second color will be mixed together. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color1</td><td>First ABGR color </td></tr>
    <tr><td class="paramname">color2</td><td>Second ABGR color </td></tr>
    <tr><td class="paramname">ratio</td><td>Merge ratio from 0-255 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Merged ARGB color value </dd></dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00222">222</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  223</span>{</div>
<div class="line"><span class="lineno">  224</span>    <a class="code hl_typedef" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> r1, g1, b1, r2, g2, b2;</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>    r1 = <a class="code hl_function" href="avr_2platform_8c.html#ad2f53b0384a6be55e7d9bda545a7c29d">_abgr_r</a>(color1);</div>
<div class="line"><span class="lineno">  227</span>    g1 = <a class="code hl_function" href="avr_2platform_8c.html#a276cadc53afdd89636035fe4ad8e8084">_abgr_g</a>(color1);</div>
<div class="line"><span class="lineno">  228</span>    b1 = <a class="code hl_function" href="avr_2platform_8c.html#aa2b02d48400d091151747b4a2ee85b7f">_abgr_b</a>(color1);</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>    r2 = <a class="code hl_function" href="avr_2platform_8c.html#ad2f53b0384a6be55e7d9bda545a7c29d">_abgr_r</a>(color2);</div>
<div class="line"><span class="lineno">  231</span>    g2 = <a class="code hl_function" href="avr_2platform_8c.html#a276cadc53afdd89636035fe4ad8e8084">_abgr_g</a>(color2);</div>
<div class="line"><span class="lineno">  232</span>    b2 = <a class="code hl_function" href="avr_2platform_8c.html#aa2b02d48400d091151747b4a2ee85b7f">_abgr_b</a>(color2);</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="simulator_2platform_8c.html#a7cc2bcdce3a6cef65d6e19b8c3bd3c65">gfx_color</a>(</div>
<div class="line"><span class="lineno">  235</span>        (r1 * ratio + r2 * (255 - ratio)) / 255,</div>
<div class="line"><span class="lineno">  236</span>        (g1 * ratio + g2 * (255 - ratio)) / 255,</div>
<div class="line"><span class="lineno">  237</span>        (b1 * ratio + b2 * (255 - ratio)) / 255);</div>
<div class="line"><span class="lineno">  238</span>}</div>
<div class="ttc" id="atypes_8h_html_a92c50087ca0e64fa93fc59402c55f8ca"><div class="ttname"><a href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a></div><div class="ttdeci">uint8_t u8</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00038">types.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="avr_2platform_8c_source.html#l00042">_abgr_b()</a>, <a class="el" href="avr_2platform_8c_source.html#l00039">_abgr_g()</a>, <a class="el" href="avr_2platform_8c_source.html#l00036">_abgr_r()</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00167">gfx_color()</a>.</p>

<p class="reference">Referenced by <a class="el" href="simulator_2platform_8c_source.html#l00318">env_gfx_image_grayscale()</a>.</p>

</div>
</div>
<a id="a870f528e9f4763ae4a34304889be51f7" name="a870f528e9f4763ae4a34304889be51f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a870f528e9f4763ae4a34304889be51f7">&#9670;&#160;</a></span>_convert_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="keyboard-shared_8h.html#a48752551c4279f8cddf3585f8272092a">Key</a> _convert_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>scancode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>mod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Combine scancode and key modifiers into one value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scancode</td><td>Scancode </td></tr>
    <tr><td class="paramname">mod</td><td>Key Modifiers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Combined Keycode </dd></dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00413">413</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  414</span>{</div>
<div class="line"><span class="lineno">  415</span>    <a class="code hl_typedef" href="keyboard-shared_8h.html#a48752551c4279f8cddf3585f8272092a">Key</a> key = scancode;</div>
<div class="line"><span class="lineno">  416</span> </div>
<div class="line"><span class="lineno">  417</span>    <span class="keywordflow">if</span>(mod &amp; (KMOD_LCTRL | KMOD_RCTRL))</div>
<div class="line"><span class="lineno">  418</span>    {</div>
<div class="line"><span class="lineno">  419</span>        key |= MOD_CTRL;</div>
<div class="line"><span class="lineno">  420</span>    }</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordflow">if</span>(mod &amp; KMOD_LALT)</div>
<div class="line"><span class="lineno">  423</span>    {</div>
<div class="line"><span class="lineno">  424</span>        key |= MOD_ALT;</div>
<div class="line"><span class="lineno">  425</span>    }</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>    <span class="keywordflow">if</span>(mod &amp; KMOD_RALT)</div>
<div class="line"><span class="lineno">  428</span>    {</div>
<div class="line"><span class="lineno">  429</span>        key |= MOD_ALT_GR;</div>
<div class="line"><span class="lineno">  430</span>    }</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    <span class="keywordflow">if</span>(mod &amp; (KMOD_LGUI | KMOD_RGUI))</div>
<div class="line"><span class="lineno">  433</span>    {</div>
<div class="line"><span class="lineno">  434</span>        key |= MOD_OS;</div>
<div class="line"><span class="lineno">  435</span>    }</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>    <span class="keywordflow">if</span>(mod &amp; (KMOD_LSHIFT | KMOD_RSHIFT))</div>
<div class="line"><span class="lineno">  438</span>    {</div>
<div class="line"><span class="lineno">  439</span>        key |= MOD_SHIFT;</div>
<div class="line"><span class="lineno">  440</span>    }</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordflow">return</span> key;</div>
<div class="line"><span class="lineno">  443</span>}</div>
<div class="ttc" id="akeyboard-shared_8h_html_a48752551c4279f8cddf3585f8272092a"><div class="ttname"><a href="keyboard-shared_8h.html#a48752551c4279f8cddf3585f8272092a">Key</a></div><div class="ttdeci">u32 Key</div><div class="ttdef"><b>Definition:</b> <a href="keyboard-shared_8h_source.html#l00024">keyboard-shared.h:24</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="simulator_2platform_8c_source.html#l00454">main()</a>.</p>

</div>
</div>
<a id="a50ddca19f29fb4e8caa1f0540f72d9c3" name="a50ddca19f29fb4e8caa1f0540f72d9c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50ddca19f29fb4e8caa1f0540f72d9c3">&#9670;&#160;</a></span>_rgb565_to_bgra()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> _rgb565_to_bgra </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a>&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a RGB565 color to an BGRA color. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color</td><td>RGB565 color </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>BGRA color </dd></dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00246">246</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  247</span>{</div>
<div class="line"><span class="lineno">  248</span>    <a class="code hl_typedef" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> r, g, b;</div>
<div class="line"><span class="lineno">  249</span>    r = (((((<a class="code hl_typedef" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>)color &gt;&gt; 11) &amp; 0x1F) * 527) + 23) &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  250</span>    g = (((((<a class="code hl_typedef" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>)color &gt;&gt; 5) &amp; 0x3F) * 259) + 33) &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  251</span>    b = ((((<a class="code hl_typedef" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>)color &amp; 0x1F) * 527) + 23) &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  252</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="simulator_2platform_8c.html#a7cc2bcdce3a6cef65d6e19b8c3bd3c65">gfx_color</a>(r, g, b);</div>
<div class="line"><span class="lineno">  253</span>}</div>
<div class="ttc" id="atypes_8h_html_afaa62991928fb9fb18ff0db62a040aba"><div class="ttname"><a href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a></div><div class="ttdeci">uint32_t u32</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00032">types.h:32</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00167">gfx_color()</a>.</p>

<p class="reference">Referenced by <a class="el" href="simulator_2platform_8c_source.html#l00303">env_gfx_image_rgb565()</a>.</p>

</div>
</div>
<a id="afbf69bdfb45e7893298d5b8eb75ca3c0" name="afbf69bdfb45e7893298d5b8eb75ca3c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbf69bdfb45e7893298d5b8eb75ca3c0">&#9670;&#160;</a></span>env_gfx_image_1bit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void env_gfx_image_1bit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>fg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>bg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a colored 1-bit image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>X-Coordinate </td></tr>
    <tr><td class="paramname">y</td><td>Y-Coordinate </td></tr>
    <tr><td class="paramname">w</td><td>Width </td></tr>
    <tr><td class="paramname">h</td><td>Height </td></tr>
    <tr><td class="paramname">addr</td><td>Image memory address </td></tr>
    <tr><td class="paramname">fg</td><td>ABGR foreground color </td></tr>
    <tr><td class="paramname">bg</td><td>ABGR background color </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00335">335</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  337</span>{</div>
<div class="line"><span class="lineno">  338</span>    <a class="code hl_typedef" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> byte, stride;</div>
<div class="line"><span class="lineno">  339</span>    <a class="code hl_typedef" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> x0, y0, byte_offset, bit_mask;</div>
<div class="line"><span class="lineno">  340</span>    <a class="code hl_typedef" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *image;</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>    image = (<a class="code hl_typedef" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *)(<a class="code hl_variable" href="simulator_2platform_8c.html#af6f613b61d5bebc8c982e22e18f37442">_memory</a> + addr);</div>
<div class="line"><span class="lineno">  343</span>    fg = <a class="code hl_function" href="simulator_2platform_8c.html#a856c69c0d9d9bc4b29adee2bd02fc8ee">_abgr_to_argb</a>(fg);</div>
<div class="line"><span class="lineno">  344</span>    bg = <a class="code hl_function" href="simulator_2platform_8c.html#a856c69c0d9d9bc4b29adee2bd02fc8ee">_abgr_to_argb</a>(bg);</div>
<div class="line"><span class="lineno">  345</span>    stride = (w + 7) / 8;</div>
<div class="line"><span class="lineno">  346</span>    <span class="keywordflow">for</span>(y0 = y; y0 &lt; y + h; ++y0)</div>
<div class="line"><span class="lineno">  347</span>    {</div>
<div class="line"><span class="lineno">  348</span>        bit_mask = 0x80;</div>
<div class="line"><span class="lineno">  349</span>        byte_offset = 0;</div>
<div class="line"><span class="lineno">  350</span>        <span class="keywordflow">for</span>(x0 = x; x0 &lt; x + w; ++x0)</div>
<div class="line"><span class="lineno">  351</span>        {</div>
<div class="line"><span class="lineno">  352</span>            <span class="keywordflow">if</span>(bit_mask == 0x80)</div>
<div class="line"><span class="lineno">  353</span>            {</div>
<div class="line"><span class="lineno">  354</span>                <span class="keywordtype">byte</span> = image[byte_offset++];</div>
<div class="line"><span class="lineno">  355</span>                bit_mask = 1;</div>
<div class="line"><span class="lineno">  356</span>            }</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>            <a class="code hl_variable" href="simulator_2platform_8c.html#a7db97d90c5bcb218e6607991010e45c1">_pixels</a>[y0 * <a class="code hl_define" href="gfx-types_8h.html#aae91ae7a3ca585293a2c1031652a49f9">GFX_WIDTH</a> + x0] = (<span class="keywordtype">byte</span> &amp; bit_mask) ? fg : bg;</div>
<div class="line"><span class="lineno">  359</span>            bit_mask &lt;&lt;= 1;</div>
<div class="line"><span class="lineno">  360</span>        }</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>        image += stride;</div>
<div class="line"><span class="lineno">  363</span>    }</div>
<div class="line"><span class="lineno">  364</span>}</div>
<div class="ttc" id="agfx-types_8h_html_aae91ae7a3ca585293a2c1031652a49f9"><div class="ttname"><a href="gfx-types_8h.html#aae91ae7a3ca585293a2c1031652a49f9">GFX_WIDTH</a></div><div class="ttdeci">#define GFX_WIDTH</div><div class="ttdef"><b>Definition:</b> <a href="gfx-types_8h_source.html#l00016">gfx-types.h:16</a></div></div>
<div class="ttc" id="asimulator_2platform_8c_html_a7db97d90c5bcb218e6607991010e45c1"><div class="ttname"><a href="simulator_2platform_8c.html#a7db97d90c5bcb218e6607991010e45c1">_pixels</a></div><div class="ttdeci">static u32 _pixels[GFX_HEIGHT *GFX_WIDTH]</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00038">platform.c:38</a></div></div>
<div class="ttc" id="asimulator_2platform_8c_html_a856c69c0d9d9bc4b29adee2bd02fc8ee"><div class="ttname"><a href="simulator_2platform_8c.html#a856c69c0d9d9bc4b29adee2bd02fc8ee">_abgr_to_argb</a></div><div class="ttdeci">static u32 _abgr_to_argb(u32 color)</div><div class="ttdoc">Convert a ABGR color to a ARGB color.</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00205">platform.c:205</a></div></div>
<div class="ttc" id="asimulator_2platform_8c_html_af6f613b61d5bebc8c982e22e18f37442"><div class="ttname"><a href="simulator_2platform_8c.html#af6f613b61d5bebc8c982e22e18f37442">_memory</a></div><div class="ttdeci">static u8 _memory[3 *128 *1024]</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00035">platform.c:35</a></div></div>
<div class="ttc" id="atypes_8h_html_a48d6cd8e4135fb2ff7e7f2dac84089ec"><div class="ttname"><a href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a></div><div class="ttdeci">int32_t i32</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00020">types.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00205">_abgr_to_argb()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00035">_memory</a>, <a class="el" href="simulator_2platform_8c_source.html#l00038">_pixels</a>, and <a class="el" href="gfx-types_8h_source.html#l00016">GFX_WIDTH</a>.</p>

</div>
</div>
<a id="a7d5a8e615c9cee94d1065f812ff38707" name="a7d5a8e615c9cee94d1065f812ff38707"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d5a8e615c9cee94d1065f812ff38707">&#9670;&#160;</a></span>env_gfx_image_grayscale()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void env_gfx_image_grayscale </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>fg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>bg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a colored grayscale image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>X-Coordinate </td></tr>
    <tr><td class="paramname">y</td><td>Y-Coordinate </td></tr>
    <tr><td class="paramname">w</td><td>Width </td></tr>
    <tr><td class="paramname">h</td><td>Height </td></tr>
    <tr><td class="paramname">addr</td><td>Image memory address </td></tr>
    <tr><td class="paramname">fg</td><td>ABGR foreground color </td></tr>
    <tr><td class="paramname">bg</td><td>ABGR background color </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00318">318</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  320</span>{</div>
<div class="line"><span class="lineno">  321</span>    <a class="code hl_typedef" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> x0, y0;</div>
<div class="line"><span class="lineno">  322</span>    <a class="code hl_typedef" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *image;</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    image = (<a class="code hl_typedef" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *)(<a class="code hl_variable" href="simulator_2platform_8c.html#af6f613b61d5bebc8c982e22e18f37442">_memory</a> + addr);</div>
<div class="line"><span class="lineno">  325</span>    <span class="keywordflow">for</span>(y0 = y; y0 &lt; y + h; ++y0)</div>
<div class="line"><span class="lineno">  326</span>    {</div>
<div class="line"><span class="lineno">  327</span>        <span class="keywordflow">for</span>(x0 = x; x0 &lt; x + w; ++x0)</div>
<div class="line"><span class="lineno">  328</span>        {</div>
<div class="line"><span class="lineno">  329</span>            <a class="code hl_variable" href="simulator_2platform_8c.html#a7db97d90c5bcb218e6607991010e45c1">_pixels</a>[y0 * <a class="code hl_define" href="gfx-types_8h.html#aae91ae7a3ca585293a2c1031652a49f9">GFX_WIDTH</a> + x0] =</div>
<div class="line"><span class="lineno">  330</span>                <a class="code hl_function" href="simulator_2platform_8c.html#a30908338975f39796f517393a86334be">_color_merge</a>(fg, bg, *image++);</div>
<div class="line"><span class="lineno">  331</span>        }</div>
<div class="line"><span class="lineno">  332</span>    }</div>
<div class="line"><span class="lineno">  333</span>}</div>
<div class="ttc" id="asimulator_2platform_8c_html_a30908338975f39796f517393a86334be"><div class="ttname"><a href="simulator_2platform_8c.html#a30908338975f39796f517393a86334be">_color_merge</a></div><div class="ttdeci">static u32 _color_merge(u32 color1, u32 color2, u32 ratio)</div><div class="ttdoc">Mix two colors according to a ratio. A ratio of 255 means 100% of the first color and 0% of the secon...</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00222">platform.c:222</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00222">_color_merge()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00035">_memory</a>, <a class="el" href="simulator_2platform_8c_source.html#l00038">_pixels</a>, and <a class="el" href="gfx-types_8h_source.html#l00016">GFX_WIDTH</a>.</p>

</div>
</div>
<a id="a6ac0a4bc195845f77f7392de411499b8" name="a6ac0a4bc195845f77f7392de411499b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ac0a4bc195845f77f7392de411499b8">&#9670;&#160;</a></span>env_gfx_image_rgb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void env_gfx_image_rgb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw an RGB image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>X-Coordinate </td></tr>
    <tr><td class="paramname">y</td><td>Y-Coordinate </td></tr>
    <tr><td class="paramname">w</td><td>Width </td></tr>
    <tr><td class="paramname">h</td><td>Height </td></tr>
    <tr><td class="paramname">addr</td><td>Image memory address </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00284">284</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  285</span>{</div>
<div class="line"><span class="lineno">  286</span>    <a class="code hl_typedef" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> r, g, b;</div>
<div class="line"><span class="lineno">  287</span>    <a class="code hl_typedef" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> x0, y0;</div>
<div class="line"><span class="lineno">  288</span>    <a class="code hl_typedef" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *image;</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>    image = (<a class="code hl_typedef" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *)(<a class="code hl_variable" href="simulator_2platform_8c.html#af6f613b61d5bebc8c982e22e18f37442">_memory</a> + addr);</div>
<div class="line"><span class="lineno">  291</span>    <span class="keywordflow">for</span>(y0 = y; y0 &lt; y + h; ++y0)</div>
<div class="line"><span class="lineno">  292</span>    {</div>
<div class="line"><span class="lineno">  293</span>        <span class="keywordflow">for</span>(x0 = x; x0 &lt; x + w; ++x0)</div>
<div class="line"><span class="lineno">  294</span>        {</div>
<div class="line"><span class="lineno">  295</span>            r = *image++;</div>
<div class="line"><span class="lineno">  296</span>            g = *image++;</div>
<div class="line"><span class="lineno">  297</span>            b = *image++;</div>
<div class="line"><span class="lineno">  298</span>            <a class="code hl_variable" href="simulator_2platform_8c.html#a7db97d90c5bcb218e6607991010e45c1">_pixels</a>[y0 * <a class="code hl_define" href="gfx-types_8h.html#aae91ae7a3ca585293a2c1031652a49f9">GFX_WIDTH</a> + x0] = <a class="code hl_function" href="simulator_2platform_8c.html#a7cc2bcdce3a6cef65d6e19b8c3bd3c65">gfx_color</a>(r, g, b);</div>
<div class="line"><span class="lineno">  299</span>        }</div>
<div class="line"><span class="lineno">  300</span>    }</div>
<div class="line"><span class="lineno">  301</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00035">_memory</a>, <a class="el" href="simulator_2platform_8c_source.html#l00038">_pixels</a>, <a class="el" href="simulator_2platform_8c_source.html#l00167">gfx_color()</a>, and <a class="el" href="gfx-types_8h_source.html#l00016">GFX_WIDTH</a>.</p>

</div>
</div>
<a id="a6d50f649582cee2b61d52a87fbd0e05f" name="a6d50f649582cee2b61d52a87fbd0e05f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d50f649582cee2b61d52a87fbd0e05f">&#9670;&#160;</a></span>env_gfx_image_rgb565()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void env_gfx_image_rgb565 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw an RGB565 image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>X-Coordinate </td></tr>
    <tr><td class="paramname">y</td><td>Y-Coordinate </td></tr>
    <tr><td class="paramname">w</td><td>Width </td></tr>
    <tr><td class="paramname">h</td><td>Height </td></tr>
    <tr><td class="paramname">addr</td><td>Image memory address </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00303">303</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  304</span>{</div>
<div class="line"><span class="lineno">  305</span>    <a class="code hl_typedef" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> x0, y0;</div>
<div class="line"><span class="lineno">  306</span>    <a class="code hl_typedef" href="types_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a> *image;</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>    image = (<a class="code hl_typedef" href="types_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a> *)(<a class="code hl_variable" href="simulator_2platform_8c.html#af6f613b61d5bebc8c982e22e18f37442">_memory</a> + addr);</div>
<div class="line"><span class="lineno">  309</span>    <span class="keywordflow">for</span>(y0 = y; y0 &lt; y + h; ++y0)</div>
<div class="line"><span class="lineno">  310</span>    {</div>
<div class="line"><span class="lineno">  311</span>        <span class="keywordflow">for</span>(x0 = x; x0 &lt; x + w; ++x0)</div>
<div class="line"><span class="lineno">  312</span>        {</div>
<div class="line"><span class="lineno">  313</span>            <a class="code hl_variable" href="simulator_2platform_8c.html#a7db97d90c5bcb218e6607991010e45c1">_pixels</a>[y0 * <a class="code hl_define" href="gfx-types_8h.html#aae91ae7a3ca585293a2c1031652a49f9">GFX_WIDTH</a> + x0] = <a class="code hl_function" href="simulator_2platform_8c.html#a50ddca19f29fb4e8caa1f0540f72d9c3">_rgb565_to_bgra</a>(*image++);</div>
<div class="line"><span class="lineno">  314</span>        }</div>
<div class="line"><span class="lineno">  315</span>    }</div>
<div class="line"><span class="lineno">  316</span>}</div>
<div class="ttc" id="asimulator_2platform_8c_html_a50ddca19f29fb4e8caa1f0540f72d9c3"><div class="ttname"><a href="simulator_2platform_8c.html#a50ddca19f29fb4e8caa1f0540f72d9c3">_rgb565_to_bgra</a></div><div class="ttdeci">static u32 _rgb565_to_bgra(u16 color)</div><div class="ttdoc">Convert a RGB565 color to an BGRA color.</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00246">platform.c:246</a></div></div>
<div class="ttc" id="atypes_8h_html_ace9d960e74685e2cd84b36132dbbf8aa"><div class="ttname"><a href="types_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a></div><div class="ttdeci">uint16_t u16</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00035">types.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00035">_memory</a>, <a class="el" href="simulator_2platform_8c_source.html#l00038">_pixels</a>, <a class="el" href="simulator_2platform_8c_source.html#l00246">_rgb565_to_bgra()</a>, and <a class="el" href="gfx-types_8h_source.html#l00016">GFX_WIDTH</a>.</p>

</div>
</div>
<a id="a5ec534a76e1a69d2f4667abe4f7f8ff1" name="a5ec534a76e1a69d2f4667abe4f7f8ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ec534a76e1a69d2f4667abe4f7f8ff1">&#9670;&#160;</a></span>env_gfx_image_rgba()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void env_gfx_image_rgba </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw an RGBA image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>X-Coordinate </td></tr>
    <tr><td class="paramname">y</td><td>Y-Coordinate </td></tr>
    <tr><td class="paramname">w</td><td>Width </td></tr>
    <tr><td class="paramname">h</td><td>Height </td></tr>
    <tr><td class="paramname">addr</td><td>Image memory address </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00269">269</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  270</span>{</div>
<div class="line"><span class="lineno">  271</span>    <a class="code hl_typedef" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> x0, y0;</div>
<div class="line"><span class="lineno">  272</span>    <a class="code hl_typedef" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *image;</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>    image = (<a class="code hl_typedef" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *)(<a class="code hl_variable" href="simulator_2platform_8c.html#af6f613b61d5bebc8c982e22e18f37442">_memory</a> + addr);</div>
<div class="line"><span class="lineno">  275</span>    <span class="keywordflow">for</span>(y0 = y; y0 &lt; y + h; ++y0)</div>
<div class="line"><span class="lineno">  276</span>    {</div>
<div class="line"><span class="lineno">  277</span>        <span class="keywordflow">for</span>(x0 = x; x0 &lt; x + w; ++x0)</div>
<div class="line"><span class="lineno">  278</span>        {</div>
<div class="line"><span class="lineno">  279</span>            <a class="code hl_variable" href="simulator_2platform_8c.html#a7db97d90c5bcb218e6607991010e45c1">_pixels</a>[y0 * <a class="code hl_define" href="gfx-types_8h.html#aae91ae7a3ca585293a2c1031652a49f9">GFX_WIDTH</a> + x0] = <a class="code hl_function" href="simulator_2platform_8c.html#a856c69c0d9d9bc4b29adee2bd02fc8ee">_abgr_to_argb</a>(*image++);</div>
<div class="line"><span class="lineno">  280</span>        }</div>
<div class="line"><span class="lineno">  281</span>    }</div>
<div class="line"><span class="lineno">  282</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00205">_abgr_to_argb()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00035">_memory</a>, <a class="el" href="simulator_2platform_8c_source.html#l00038">_pixels</a>, and <a class="el" href="gfx-types_8h_source.html#l00016">GFX_WIDTH</a>.</p>

</div>
</div>
<a id="ac453e2fa7f27ee825e5fd898bbce47ce" name="ac453e2fa7f27ee825e5fd898bbce47ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac453e2fa7f27ee825e5fd898bbce47ce">&#9670;&#160;</a></span>env_gfx_rect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void env_gfx_rect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw rectangle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>X-Coordinate </td></tr>
    <tr><td class="paramname">y</td><td>Y-Coordinate </td></tr>
    <tr><td class="paramname">w</td><td>Width </td></tr>
    <tr><td class="paramname">h</td><td>Height </td></tr>
    <tr><td class="paramname">color</td><td>Fill color </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00255">255</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  256</span>{</div>
<div class="line"><span class="lineno">  257</span>    <a class="code hl_typedef" href="types_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a> x0, y0;</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>    color = <a class="code hl_function" href="simulator_2platform_8c.html#a856c69c0d9d9bc4b29adee2bd02fc8ee">_abgr_to_argb</a>(color);</div>
<div class="line"><span class="lineno">  260</span>    <span class="keywordflow">for</span>(y0 = y; y0 &lt; y + h; ++y0)</div>
<div class="line"><span class="lineno">  261</span>    {</div>
<div class="line"><span class="lineno">  262</span>        <span class="keywordflow">for</span>(x0 = x; x0 &lt; x + w; ++x0)</div>
<div class="line"><span class="lineno">  263</span>        {</div>
<div class="line"><span class="lineno">  264</span>            <a class="code hl_variable" href="simulator_2platform_8c.html#a7db97d90c5bcb218e6607991010e45c1">_pixels</a>[y0 * <a class="code hl_define" href="gfx-types_8h.html#aae91ae7a3ca585293a2c1031652a49f9">GFX_WIDTH</a> + x0] = color;</div>
<div class="line"><span class="lineno">  265</span>        }</div>
<div class="line"><span class="lineno">  266</span>    }</div>
<div class="line"><span class="lineno">  267</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00205">_abgr_to_argb()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00038">_pixels</a>, and <a class="el" href="gfx-types_8h_source.html#l00016">GFX_WIDTH</a>.</p>

</div>
</div>
<a id="ab7ab32a3f56a5eb22459591ded6cb9ec" name="ab7ab32a3f56a5eb22459591ded6cb9ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7ab32a3f56a5eb22459591ded6cb9ec">&#9670;&#160;</a></span>env_memory_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void env_memory_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data from physical memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>Start address </td></tr>
    <tr><td class="paramname">data</td><td>Data buffer </td></tr>
    <tr><td class="paramname">size</td><td>Size in bytes </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00062">62</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   63</span>{</div>
<div class="line"><span class="lineno">   64</span>    <a class="code hl_function" href="string_8c.html#a6ea826c42748b85ae7c74f1e2ccf7c27">memcpy</a>(data, <a class="code hl_variable" href="simulator_2platform_8c.html#af6f613b61d5bebc8c982e22e18f37442">_memory</a> + addr, size);</div>
<div class="line"><span class="lineno">   65</span>}</div>
<div class="ttc" id="astring_8c_html_a6ea826c42748b85ae7c74f1e2ccf7c27"><div class="ttname"><a href="string_8c.html#a6ea826c42748b85ae7c74f1e2ccf7c27">memcpy</a></div><div class="ttdeci">void * memcpy(void *dest, const void *src, u32 count)</div><div class="ttdoc">Copies count bytes from src to dest Source and destination blocks must NOT overlap.</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l00094">string.c:94</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00035">_memory</a>, and <a class="el" href="string_8c_source.html#l00094">memcpy()</a>.</p>

</div>
</div>
<a id="acf57f1ce47563167d4ef978ef1a7ab49" name="acf57f1ce47563167d4ef978ef1a7ab49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf57f1ce47563167d4ef978ef1a7ab49">&#9670;&#160;</a></span>env_memory_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> env_memory_size </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the size of the installed memory. </p>
<dl class="section return"><dt>Returns</dt><dd>The size of the memory in bytes </dd></dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00057">57</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   58</span>{</div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(<a class="code hl_variable" href="simulator_2platform_8c.html#af6f613b61d5bebc8c982e22e18f37442">_memory</a>);</div>
<div class="line"><span class="lineno">   60</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00035">_memory</a>.</p>

</div>
</div>
<a id="a22d4f443fb95499e0acccc1f263e99c7" name="a22d4f443fb95499e0acccc1f263e99c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22d4f443fb95499e0acccc1f263e99c7">&#9670;&#160;</a></span>env_memory_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void env_memory_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data to physical memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>Start address </td></tr>
    <tr><td class="paramname">data</td><td>Data buffer </td></tr>
    <tr><td class="paramname">size</td><td>Size in bytes </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00067">67</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   68</span>{</div>
<div class="line"><span class="lineno">   69</span>    <a class="code hl_function" href="string_8c.html#a6ea826c42748b85ae7c74f1e2ccf7c27">memcpy</a>(<a class="code hl_variable" href="simulator_2platform_8c.html#af6f613b61d5bebc8c982e22e18f37442">_memory</a> + addr, data, size);</div>
<div class="line"><span class="lineno">   70</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00035">_memory</a>, and <a class="el" href="string_8c_source.html#l00094">memcpy()</a>.</p>

</div>
</div>
<a id="a0be14c6c6a205ee06b64f11184884e5e" name="a0be14c6c6a205ee06b64f11184884e5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0be14c6c6a205ee06b64f11184884e5e">&#9670;&#160;</a></span>env_millis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> env_millis </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of milliseconds since boot. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of milliseconds </dd></dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00396">396</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  397</span>{</div>
<div class="line"><span class="lineno">  398</span>    <span class="keyword">struct </span>timeval ts;</div>
<div class="line"><span class="lineno">  399</span>    gettimeofday(&amp;ts, NULL);</div>
<div class="line"><span class="lineno">  400</span>    <span class="keywordflow">return</span> (ts.tv_sec - <a class="code hl_variable" href="simulator_2platform_8c.html#a2b6ea31d89d396e1e9ec6f6a892a10a9">_sec_start</a>) * 1000 +</div>
<div class="line"><span class="lineno">  401</span>        (ts.tv_usec - <a class="code hl_variable" href="simulator_2platform_8c.html#a52810ae9486c3852a18b8a7a3d67df01">_usec_start</a>) / 1000;</div>
<div class="line"><span class="lineno">  402</span>}</div>
<div class="ttc" id="asimulator_2platform_8c_html_a2b6ea31d89d396e1e9ec6f6a892a10a9"><div class="ttname"><a href="simulator_2platform_8c.html#a2b6ea31d89d396e1e9ec6f6a892a10a9">_sec_start</a></div><div class="ttdeci">static u32 _sec_start</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00041">platform.c:41</a></div></div>
<div class="ttc" id="asimulator_2platform_8c_html_a52810ae9486c3852a18b8a7a3d67df01"><div class="ttname"><a href="simulator_2platform_8c.html#a52810ae9486c3852a18b8a7a3d67df01">_usec_start</a></div><div class="ttdeci">static u32 _usec_start</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00044">platform.c:44</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00041">_sec_start</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00044">_usec_start</a>.</p>

</div>
</div>
<a id="ac25a788a06cf437544e5edaf5faf4e2f" name="ac25a788a06cf437544e5edaf5faf4e2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac25a788a06cf437544e5edaf5faf4e2f">&#9670;&#160;</a></span>env_random_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> env_random_get </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a pseudo-random number. </p>
<dl class="section return"><dt>Returns</dt><dd>The number </dd></dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00376">376</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  377</span>{</div>
<div class="line"><span class="lineno">  378</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="rand_8c.html#a9eeb6c44d48cd8ace4b454da982406c9">rand</a>();</div>
<div class="line"><span class="lineno">  379</span>}</div>
<div class="ttc" id="arand_8c_html_a9eeb6c44d48cd8ace4b454da982406c9"><div class="ttname"><a href="rand_8c.html#a9eeb6c44d48cd8ace4b454da982406c9">rand</a></div><div class="ttdeci">i32 rand(void)</div><div class="ttdoc">Returns a pseudo-random integer. Generator is seeded with a hardware noise source.</div><div class="ttdef"><b>Definition:</b> <a href="rand_8c_source.html#l00011">rand.c:11</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="rand_8c_source.html#l00011">rand()</a>.</p>

</div>
</div>
<a id="a10a5a2d20838f25eba5db18f43f94158" name="a10a5a2d20838f25eba5db18f43f94158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10a5a2d20838f25eba5db18f43f94158">&#9670;&#160;</a></span>env_serial_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void env_serial_write </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send data over the serial interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The data to send </td></tr>
    <tr><td class="paramname">len</td><td>The number of bytes </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00368">368</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  369</span>{</div>
<div class="line"><span class="lineno">  370</span>    <span class="comment">/* Debug print */</span></div>
<div class="line"><span class="lineno">  371</span>    printf(<span class="stringliteral">&quot;%.*s&quot;</span>, len, (<span class="keywordtype">char</span> *)data);</div>
<div class="line"><span class="lineno">  372</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7cc2bcdce3a6cef65d6e19b8c3bd3c65" name="a7cc2bcdce3a6cef65d6e19b8c3bd3c65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cc2bcdce3a6cef65d6e19b8c3bd3c65">&#9670;&#160;</a></span>gfx_color()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> gfx_color </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate ABGR color from red, green and blue channel values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>Red channel value (0-255) </td></tr>
    <tr><td class="paramname">g</td><td>Green channel value (0-255) </td></tr>
    <tr><td class="paramname">b</td><td>Blue channel value (0-255) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ABGR color value </dd></dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00167">167</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  168</span>{</div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordflow">return</span> ((<a class="code hl_typedef" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>)0xFF &lt;&lt; 24) |</div>
<div class="line"><span class="lineno">  170</span>        ((<a class="code hl_typedef" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>)r &lt;&lt; 16) |</div>
<div class="line"><span class="lineno">  171</span>        ((<a class="code hl_typedef" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>)g &lt;&lt; 8) |</div>
<div class="line"><span class="lineno">  172</span>        ((<a class="code hl_typedef" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>)b);</div>
<div class="line"><span class="lineno">  173</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="simulator_2platform_8c_source.html#l00205">_abgr_to_argb()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00222">_color_merge()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00246">_rgb565_to_bgra()</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00284">env_gfx_image_rgb()</a>.</p>

</div>
</div>
<a id="a1177d6efdbcd3fccf3d4d83e8489736d" name="a1177d6efdbcd3fccf3d4d83e8489736d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1177d6efdbcd3fccf3d4d83e8489736d">&#9670;&#160;</a></span>gfx_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void gfx_destroy </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor for SDL graphics renderer. </p>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00152">152</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  153</span>{</div>
<div class="line"><span class="lineno">  154</span>    SDL_DestroyRenderer(<a class="code hl_variable" href="simulator_2platform_8c.html#a626c7a4e8aed645a08b05efaa50fdac5">_renderer</a>);</div>
<div class="line"><span class="lineno">  155</span>    SDL_DestroyWindow(<a class="code hl_variable" href="simulator_2platform_8c.html#aa6e721a97183db093899a7a38ff00ba2">_window</a>);</div>
<div class="line"><span class="lineno">  156</span>    SDL_Quit();</div>
<div class="line"><span class="lineno">  157</span>}</div>
<div class="ttc" id="asimulator_2platform_8c_html_a626c7a4e8aed645a08b05efaa50fdac5"><div class="ttname"><a href="simulator_2platform_8c.html#a626c7a4e8aed645a08b05efaa50fdac5">_renderer</a></div><div class="ttdeci">static SDL_Renderer * _renderer</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00053">platform.c:53</a></div></div>
<div class="ttc" id="asimulator_2platform_8c_html_aa6e721a97183db093899a7a38ff00ba2"><div class="ttname"><a href="simulator_2platform_8c.html#aa6e721a97183db093899a7a38ff00ba2">_window</a></div><div class="ttdeci">static SDL_Window * _window</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00050">platform.c:50</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00053">_renderer</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00050">_window</a>.</p>

<p class="reference">Referenced by <a class="el" href="simulator_2platform_8c_source.html#l00454">main()</a>.</p>

</div>
</div>
<a id="a0005c1c8e628e687ab0112a21b96255e" name="a0005c1c8e628e687ab0112a21b96255e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0005c1c8e628e687ab0112a21b96255e">&#9670;&#160;</a></span>gfx_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void gfx_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize SDL graphics. </p>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00109">109</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  110</span>{</div>
<div class="line"><span class="lineno">  111</span>    <span class="comment">/* Init SDL */</span></div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordflow">if</span>(SDL_Init(SDL_INIT_VIDEO) &lt; 0)</div>
<div class="line"><span class="lineno">  113</span>    {</div>
<div class="line"><span class="lineno">  114</span>        printf(<span class="stringliteral">&quot;Error initializing SDL; SDL_Init: %s\n&quot;</span>,</div>
<div class="line"><span class="lineno">  115</span>            SDL_GetError());</div>
<div class="line"><span class="lineno">  116</span>        <a class="code hl_function" href="syscall_8h.html#ad114e0a686a8eb795642407b0abe1ca9">exit</a>(1);</div>
<div class="line"><span class="lineno">  117</span>    }</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>    <span class="comment">/* Create SDL_Window */</span></div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">if</span>(!(<a class="code hl_variable" href="simulator_2platform_8c.html#aa6e721a97183db093899a7a38ff00ba2">_window</a> = SDL_CreateWindow(<a class="code hl_define" href="simulator_2platform_8c.html#a3adf7b7b13572f2baf3379a8f2f4220a">WINDOW_TITLE</a>,</div>
<div class="line"><span class="lineno">  121</span>        SDL_WINDOWPOS_CENTERED, SDL_WINDOWPOS_CENTERED,</div>
<div class="line"><span class="lineno">  122</span>        <a class="code hl_define" href="gfx-types_8h.html#aae91ae7a3ca585293a2c1031652a49f9">GFX_WIDTH</a>, <a class="code hl_define" href="gfx-types_8h.html#a11b59534db467ebd1fb19b758e6fffd7">GFX_HEIGHT</a>, 0)))</div>
<div class="line"><span class="lineno">  123</span>    {</div>
<div class="line"><span class="lineno">  124</span>        printf(<span class="stringliteral">&quot;Error creating SDL_Window: %s\n&quot;</span>,</div>
<div class="line"><span class="lineno">  125</span>            SDL_GetError());</div>
<div class="line"><span class="lineno">  126</span>        SDL_Quit();</div>
<div class="line"><span class="lineno">  127</span>        <a class="code hl_function" href="syscall_8h.html#ad114e0a686a8eb795642407b0abe1ca9">exit</a>(1);</div>
<div class="line"><span class="lineno">  128</span>    }</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>    <span class="comment">/* Create SDL_Renderer */</span></div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">if</span>(!(<a class="code hl_variable" href="simulator_2platform_8c.html#a626c7a4e8aed645a08b05efaa50fdac5">_renderer</a> = SDL_CreateRenderer</div>
<div class="line"><span class="lineno">  132</span>        (<a class="code hl_variable" href="simulator_2platform_8c.html#aa6e721a97183db093899a7a38ff00ba2">_window</a>, -1, SDL_RENDERER_ACCELERATED)))</div>
<div class="line"><span class="lineno">  133</span>    {</div>
<div class="line"><span class="lineno">  134</span>        printf(<span class="stringliteral">&quot;Error creating SDL_Renderer: %s\n&quot;</span>,</div>
<div class="line"><span class="lineno">  135</span>            SDL_GetError());</div>
<div class="line"><span class="lineno">  136</span>        SDL_DestroyWindow(<a class="code hl_variable" href="simulator_2platform_8c.html#aa6e721a97183db093899a7a38ff00ba2">_window</a>);</div>
<div class="line"><span class="lineno">  137</span>        SDL_Quit();</div>
<div class="line"><span class="lineno">  138</span>        <a class="code hl_function" href="syscall_8h.html#ad114e0a686a8eb795642407b0abe1ca9">exit</a>(1);</div>
<div class="line"><span class="lineno">  139</span>    }</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    SDL_SetRenderDrawColor(<a class="code hl_variable" href="simulator_2platform_8c.html#a626c7a4e8aed645a08b05efaa50fdac5">_renderer</a>, 255, 255, 255, 255);</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>    <a class="code hl_variable" href="simulator_2platform_8c.html#aeb4163b750b340c250c11d4db91016b8">_framebuffer</a> = SDL_CreateTexture(<a class="code hl_variable" href="simulator_2platform_8c.html#a626c7a4e8aed645a08b05efaa50fdac5">_renderer</a>,</div>
<div class="line"><span class="lineno">  144</span>        SDL_PIXELFORMAT_ARGB8888,</div>
<div class="line"><span class="lineno">  145</span>        SDL_TEXTUREACCESS_STREAMING,</div>
<div class="line"><span class="lineno">  146</span>        <a class="code hl_define" href="gfx-types_8h.html#aae91ae7a3ca585293a2c1031652a49f9">GFX_WIDTH</a>, <a class="code hl_define" href="gfx-types_8h.html#a11b59534db467ebd1fb19b758e6fffd7">GFX_HEIGHT</a>);</div>
<div class="line"><span class="lineno">  147</span>}</div>
<div class="ttc" id="agfx-types_8h_html_a11b59534db467ebd1fb19b758e6fffd7"><div class="ttname"><a href="gfx-types_8h.html#a11b59534db467ebd1fb19b758e6fffd7">GFX_HEIGHT</a></div><div class="ttdeci">#define GFX_HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="gfx-types_8h_source.html#l00019">gfx-types.h:19</a></div></div>
<div class="ttc" id="asimulator_2platform_8c_html_a3adf7b7b13572f2baf3379a8f2f4220a"><div class="ttname"><a href="simulator_2platform_8c.html#a3adf7b7b13572f2baf3379a8f2f4220a">WINDOW_TITLE</a></div><div class="ttdeci">#define WINDOW_TITLE</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00027">platform.c:27</a></div></div>
<div class="ttc" id="asimulator_2platform_8c_html_aeb4163b750b340c250c11d4db91016b8"><div class="ttname"><a href="simulator_2platform_8c.html#aeb4163b750b340c250c11d4db91016b8">_framebuffer</a></div><div class="ttdeci">static SDL_Texture * _framebuffer</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00047">platform.c:47</a></div></div>
<div class="ttc" id="asyscall_8h_html_ad114e0a686a8eb795642407b0abe1ca9"><div class="ttname"><a href="syscall_8h.html#ad114e0a686a8eb795642407b0abe1ca9">exit</a></div><div class="ttdeci">static void exit(i32 status)</div><div class="ttdoc">End program.</div><div class="ttdef"><b>Definition:</b> <a href="syscall_8h_source.html#l00206">syscall.h:206</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00047">_framebuffer</a>, <a class="el" href="simulator_2platform_8c_source.html#l00053">_renderer</a>, <a class="el" href="simulator_2platform_8c_source.html#l00050">_window</a>, <a class="el" href="syscall_8h_source.html#l00206">exit()</a>, <a class="el" href="gfx-types_8h_source.html#l00019">GFX_HEIGHT</a>, <a class="el" href="gfx-types_8h_source.html#l00016">GFX_WIDTH</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00027">WINDOW_TITLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="simulator_2platform_8c_source.html#l00454">main()</a>.</p>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627" name="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simulator main function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>Number of command line parameters </td></tr>
    <tr><td class="paramname">argv</td><td>Array of command line parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Exit code </dd></dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00454">454</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  455</span>{</div>
<div class="line"><span class="lineno">  456</span>    <span class="keywordtype">bool</span> running = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  457</span>    <span class="keywordtype">size_t</span> len, offset;</div>
<div class="line"><span class="lineno">  458</span>    FILE *fp;</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>    <span class="keywordflow">if</span>(argc != 2)</div>
<div class="line"><span class="lineno">  461</span>    {</div>
<div class="line"><span class="lineno">  462</span>        fprintf(stderr, <span class="stringliteral">&quot;Usage: ./emu rv32i-binary\n&quot;</span>);</div>
<div class="line"><span class="lineno">  463</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  464</span>    }</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>    <span class="comment">/* Load binary into memory */</span></div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">if</span>(!(fp = fopen(argv[1], <span class="stringliteral">&quot;rb&quot;</span>)))</div>
<div class="line"><span class="lineno">  468</span>    {</div>
<div class="line"><span class="lineno">  469</span>        fprintf(stderr, <span class="stringliteral">&quot;Failed to open file \&quot;%s\&quot;\n&quot;</span>, argv[1]);</div>
<div class="line"><span class="lineno">  470</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  471</span>    }</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>    offset = 0;</div>
<div class="line"><span class="lineno">  474</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  475</span>    {</div>
<div class="line"><span class="lineno">  476</span>        len = fread(<a class="code hl_variable" href="simulator_2platform_8c.html#af6f613b61d5bebc8c982e22e18f37442">_memory</a> + offset, 1, <a class="code hl_define" href="simulator_2platform_8c.html#a86e1969b50e55e5d506233078ca0fa4c">READ_SIZE</a>, fp);</div>
<div class="line"><span class="lineno">  477</span>        offset += len;</div>
<div class="line"><span class="lineno">  478</span>    }</div>
<div class="line"><span class="lineno">  479</span>    <span class="keywordflow">while</span>(len == <a class="code hl_define" href="simulator_2platform_8c.html#a86e1969b50e55e5d506233078ca0fa4c">READ_SIZE</a>);</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>    <a class="code hl_function" href="simulator_2platform_8c.html#a2d7a2412663c9b0521415553939b1b05">timer_init</a>();</div>
<div class="line"><span class="lineno">  482</span>    <a class="code hl_function" href="simulator_2platform_8c.html#a0005c1c8e628e687ab0112a21b96255e">gfx_init</a>();</div>
<div class="line"><span class="lineno">  483</span>    <a class="code hl_function" href="emulator_8c.html#a0dbe43a64cbf994bf9189e7767f93342">kernel_init</a>();</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>    <span class="keywordflow">while</span>(running)</div>
<div class="line"><span class="lineno">  486</span>    {</div>
<div class="line"><span class="lineno">  487</span>        SDL_Event e;</div>
<div class="line"><span class="lineno">  488</span>        <span class="keywordflow">while</span>(SDL_PollEvent(&amp;e))</div>
<div class="line"><span class="lineno">  489</span>        {</div>
<div class="line"><span class="lineno">  490</span>            <span class="keywordflow">switch</span>(e.type)</div>
<div class="line"><span class="lineno">  491</span>            {</div>
<div class="line"><span class="lineno">  492</span>            <span class="keywordflow">case</span> SDL_QUIT:</div>
<div class="line"><span class="lineno">  493</span>                running = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  494</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>            <span class="keywordflow">case</span> SDL_KEYDOWN:</div>
<div class="line"><span class="lineno">  497</span>                {</div>
<div class="line"><span class="lineno">  498</span>                    <a class="code hl_typedef" href="keyboard-shared_8h.html#a48752551c4279f8cddf3585f8272092a">Key</a> key;</div>
<div class="line"><span class="lineno">  499</span>                    <span class="keywordflow">if</span>(e.key.keysym.sym == SDLK_ESCAPE)</div>
<div class="line"><span class="lineno">  500</span>                    {</div>
<div class="line"><span class="lineno">  501</span>                        running = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  502</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  503</span>                    }</div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="line"><span class="lineno">  505</span>                    key = <a class="code hl_function" href="simulator_2platform_8c.html#a870f528e9f4763ae4a34304889be51f7">_convert_key</a>(e.key.keysym.scancode, e.key.keysym.mod);</div>
<div class="line"><span class="lineno">  506</span>                    <a class="code hl_function" href="emulator_8c.html#aa3bc14f0f460896525aa26dbf66069a7">keyboard_event</a>(key, <a class="code hl_function" href="german_8c.html#a1a0767e5d023fa8fe76e781df02f7374">key_to_codepoint</a>(key),</div>
<div class="line"><span class="lineno">  507</span>                        e.key.repeat ? KEYSTATE_REPEAT : KEYSTATE_PRESSED);</div>
<div class="line"><span class="lineno">  508</span>                }</div>
<div class="line"><span class="lineno">  509</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>            <span class="keywordflow">case</span> SDL_KEYUP:</div>
<div class="line"><span class="lineno">  512</span>                {</div>
<div class="line"><span class="lineno">  513</span>                    <a class="code hl_typedef" href="keyboard-shared_8h.html#a48752551c4279f8cddf3585f8272092a">Key</a> key = <a class="code hl_function" href="simulator_2platform_8c.html#a870f528e9f4763ae4a34304889be51f7">_convert_key</a>(e.key.keysym.scancode, e.key.keysym.mod);</div>
<div class="line"><span class="lineno">  514</span>                    <a class="code hl_function" href="emulator_8c.html#aa3bc14f0f460896525aa26dbf66069a7">keyboard_event</a>(key, <a class="code hl_function" href="german_8c.html#a1a0767e5d023fa8fe76e781df02f7374">key_to_codepoint</a>(key), KEYSTATE_RELEASED);</div>
<div class="line"><span class="lineno">  515</span>                }</div>
<div class="line"><span class="lineno">  516</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  517</span>            }</div>
<div class="line"><span class="lineno">  518</span>        }</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>        <a class="code hl_function" href="emulator_8c.html#a1554b9b4463db6aa6131522c2ab400eb">os_update</a>();</div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span>        SDL_UpdateTexture(<a class="code hl_variable" href="simulator_2platform_8c.html#aeb4163b750b340c250c11d4db91016b8">_framebuffer</a>, NULL, <a class="code hl_variable" href="simulator_2platform_8c.html#a7db97d90c5bcb218e6607991010e45c1">_pixels</a>, <a class="code hl_define" href="gfx-types_8h.html#aae91ae7a3ca585293a2c1031652a49f9">GFX_WIDTH</a> * <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>));</div>
<div class="line"><span class="lineno">  523</span>        SDL_RenderClear(<a class="code hl_variable" href="simulator_2platform_8c.html#a626c7a4e8aed645a08b05efaa50fdac5">_renderer</a>);</div>
<div class="line"><span class="lineno">  524</span>        SDL_RenderCopy(<a class="code hl_variable" href="simulator_2platform_8c.html#a626c7a4e8aed645a08b05efaa50fdac5">_renderer</a>, <a class="code hl_variable" href="simulator_2platform_8c.html#aeb4163b750b340c250c11d4db91016b8">_framebuffer</a>, NULL, NULL);</div>
<div class="line"><span class="lineno">  525</span>        SDL_RenderPresent(<a class="code hl_variable" href="simulator_2platform_8c.html#a626c7a4e8aed645a08b05efaa50fdac5">_renderer</a>);</div>
<div class="line"><span class="lineno">  526</span>    }</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>    <a class="code hl_function" href="simulator_2platform_8c.html#a1177d6efdbcd3fccf3d4d83e8489736d">gfx_destroy</a>();</div>
<div class="line"><span class="lineno">  529</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  530</span>}</div>
<div class="ttc" id="aemulator_8c_html_a0dbe43a64cbf994bf9189e7767f93342"><div class="ttname"><a href="emulator_8c.html#a0dbe43a64cbf994bf9189e7767f93342">kernel_init</a></div><div class="ttdeci">void kernel_init(void)</div><div class="ttdoc">Initialize emulator kernel and load first process (NOT systemd)</div><div class="ttdef"><b>Definition:</b> <a href="emulator_8c_source.html#l00120">emulator.c:120</a></div></div>
<div class="ttc" id="aemulator_8c_html_a1554b9b4463db6aa6131522c2ab400eb"><div class="ttname"><a href="emulator_8c.html#a1554b9b4463db6aa6131522c2ab400eb">os_update</a></div><div class="ttdeci">void os_update(void)</div><div class="ttdoc">Call this function periodically in main loop.</div><div class="ttdef"><b>Definition:</b> <a href="emulator_8c_source.html#l00129">emulator.c:129</a></div></div>
<div class="ttc" id="aemulator_8c_html_aa3bc14f0f460896525aa26dbf66069a7"><div class="ttname"><a href="emulator_8c.html#aa3bc14f0f460896525aa26dbf66069a7">keyboard_event</a></div><div class="ttdeci">void keyboard_event(Key key, i32 chr, KeyState down)</div><div class="ttdoc">Inform the emulator about a key press.</div><div class="ttdef"><b>Definition:</b> <a href="emulator_8c_source.html#l00138">emulator.c:138</a></div></div>
<div class="ttc" id="agerman_8c_html_a1a0767e5d023fa8fe76e781df02f7374"><div class="ttname"><a href="german_8c.html#a1a0767e5d023fa8fe76e781df02f7374">key_to_codepoint</a></div><div class="ttdeci">i32 key_to_codepoint(Key k)</div><div class="ttdoc">Convert key to codepoint.</div><div class="ttdef"><b>Definition:</b> <a href="german_8c_source.html#l00049">german.c:49</a></div></div>
<div class="ttc" id="asimulator_2platform_8c_html_a0005c1c8e628e687ab0112a21b96255e"><div class="ttname"><a href="simulator_2platform_8c.html#a0005c1c8e628e687ab0112a21b96255e">gfx_init</a></div><div class="ttdeci">static void gfx_init(void)</div><div class="ttdoc">Initialize SDL graphics.</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00109">platform.c:109</a></div></div>
<div class="ttc" id="asimulator_2platform_8c_html_a1177d6efdbcd3fccf3d4d83e8489736d"><div class="ttname"><a href="simulator_2platform_8c.html#a1177d6efdbcd3fccf3d4d83e8489736d">gfx_destroy</a></div><div class="ttdeci">static void gfx_destroy(void)</div><div class="ttdoc">Destructor for SDL graphics renderer.</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00152">platform.c:152</a></div></div>
<div class="ttc" id="asimulator_2platform_8c_html_a2d7a2412663c9b0521415553939b1b05"><div class="ttname"><a href="simulator_2platform_8c.html#a2d7a2412663c9b0521415553939b1b05">timer_init</a></div><div class="ttdeci">static void timer_init(void)</div><div class="ttdoc">Initialize simulated millisecond timer.</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00386">platform.c:386</a></div></div>
<div class="ttc" id="asimulator_2platform_8c_html_a86e1969b50e55e5d506233078ca0fa4c"><div class="ttname"><a href="simulator_2platform_8c.html#a86e1969b50e55e5d506233078ca0fa4c">READ_SIZE</a></div><div class="ttdeci">#define READ_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00030">platform.c:30</a></div></div>
<div class="ttc" id="asimulator_2platform_8c_html_a870f528e9f4763ae4a34304889be51f7"><div class="ttname"><a href="simulator_2platform_8c.html#a870f528e9f4763ae4a34304889be51f7">_convert_key</a></div><div class="ttdeci">static Key _convert_key(i32 scancode, i32 mod)</div><div class="ttdoc">Combine scancode and key modifiers into one value.</div><div class="ttdef"><b>Definition:</b> <a href="simulator_2platform_8c_source.html#l00413">platform.c:413</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00413">_convert_key()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00047">_framebuffer</a>, <a class="el" href="simulator_2platform_8c_source.html#l00035">_memory</a>, <a class="el" href="simulator_2platform_8c_source.html#l00038">_pixels</a>, <a class="el" href="simulator_2platform_8c_source.html#l00053">_renderer</a>, <a class="el" href="simulator_2platform_8c_source.html#l00152">gfx_destroy()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00109">gfx_init()</a>, <a class="el" href="gfx-types_8h_source.html#l00016">GFX_WIDTH</a>, <a class="el" href="emulator_8c_source.html#l00120">kernel_init()</a>, <a class="el" href="german_8c_source.html#l00049">key_to_codepoint()</a>, <a class="el" href="emulator_8c_source.html#l00138">keyboard_event()</a>, <a class="el" href="emulator_8c_source.html#l00129">os_update()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00030">READ_SIZE</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00386">timer_init()</a>.</p>

</div>
</div>
<a id="a778ab3a1d0d6b430c575bd4429ae2c0c" name="a778ab3a1d0d6b430c575bd4429ae2c0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a778ab3a1d0d6b430c575bd4429ae2c0c">&#9670;&#160;</a></span>memory_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void memory_dump </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dump emulator memory from address with length. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Start address </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00078">78</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   79</span>{</div>
<div class="line"><span class="lineno">   80</span>    <a class="code hl_typedef" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> start, end, i;</div>
<div class="line"><span class="lineno">   81</span>    start = (address &gt;&gt; 4) &lt;&lt; 4;</div>
<div class="line"><span class="lineno">   82</span>    end = address + length;</div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">for</span>(; start &lt; end; start += 16)</div>
<div class="line"><span class="lineno">   84</span>    {</div>
<div class="line"><span class="lineno">   85</span>        printf(<span class="stringliteral">&quot;%08X | &quot;</span>, start);</div>
<div class="line"><span class="lineno">   86</span>        <span class="keywordflow">for</span>(i = 0; i &lt; 16; ++i)</div>
<div class="line"><span class="lineno">   87</span>        {</div>
<div class="line"><span class="lineno">   88</span>            printf(<span class="stringliteral">&quot;%02X &quot;</span>, <a class="code hl_variable" href="simulator_2platform_8c.html#af6f613b61d5bebc8c982e22e18f37442">_memory</a>[start + i]);</div>
<div class="line"><span class="lineno">   89</span>        }</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>        printf(<span class="stringliteral">&quot;| &quot;</span>);</div>
<div class="line"><span class="lineno">   92</span>        <span class="keywordflow">for</span>(i = 0; i &lt; 16; ++i)</div>
<div class="line"><span class="lineno">   93</span>        {</div>
<div class="line"><span class="lineno">   94</span>            <span class="keywordtype">char</span> c = <a class="code hl_variable" href="simulator_2platform_8c.html#af6f613b61d5bebc8c982e22e18f37442">_memory</a>[start + i];</div>
<div class="line"><span class="lineno">   95</span>            printf(<span class="stringliteral">&quot;%c&quot;</span>, (c &lt; 32 || c &gt; 126) ? <span class="charliteral">&#39;.&#39;</span> : c);</div>
<div class="line"><span class="lineno">   96</span>        }</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>        printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">   99</span>    }</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  102</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00035">_memory</a>.</p>

</div>
</div>
<a id="a2d7a2412663c9b0521415553939b1b05" name="a2d7a2412663c9b0521415553939b1b05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d7a2412663c9b0521415553939b1b05">&#9670;&#160;</a></span>timer_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void timer_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize simulated millisecond timer. </p>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00386">386</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  387</span>{</div>
<div class="line"><span class="lineno">  388</span>    <span class="keyword">struct </span>timeval ts;</div>
<div class="line"><span class="lineno">  389</span>    gettimeofday(&amp;ts, NULL);</div>
<div class="line"><span class="lineno">  390</span>    <a class="code hl_variable" href="simulator_2platform_8c.html#a2b6ea31d89d396e1e9ec6f6a892a10a9">_sec_start</a> = ts.tv_sec;</div>
<div class="line"><span class="lineno">  391</span>    <a class="code hl_variable" href="simulator_2platform_8c.html#a52810ae9486c3852a18b8a7a3d67df01">_usec_start</a> = ts.tv_usec;</div>
<div class="line"><span class="lineno">  392</span> </div>
<div class="line"><span class="lineno">  393</span>    srand(time(NULL));</div>
<div class="line"><span class="lineno">  394</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="simulator_2platform_8c_source.html#l00041">_sec_start</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00044">_usec_start</a>.</p>

<p class="reference">Referenced by <a class="el" href="simulator_2platform_8c_source.html#l00454">main()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aeb4163b750b340c250c11d4db91016b8" name="aeb4163b750b340c250c11d4db91016b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb4163b750b340c250c11d4db91016b8">&#9670;&#160;</a></span>_framebuffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SDL_Texture* _framebuffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>SDL Framebuffer containing pixel buffer </p>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00047">47</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="simulator_2platform_8c_source.html#l00109">gfx_init()</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00454">main()</a>.</p>

</div>
</div>
<a id="af6f613b61d5bebc8c982e22e18f37442" name="af6f613b61d5bebc8c982e22e18f37442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6f613b61d5bebc8c982e22e18f37442">&#9670;&#160;</a></span>_memory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> _memory[3 *128 *1024]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Emulated memory </p>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00035">35</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="simulator_2platform_8c_source.html#l00335">env_gfx_image_1bit()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00318">env_gfx_image_grayscale()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00284">env_gfx_image_rgb()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00303">env_gfx_image_rgb565()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00269">env_gfx_image_rgba()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00062">env_memory_read()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00057">env_memory_size()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00067">env_memory_write()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00454">main()</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00078">memory_dump()</a>.</p>

</div>
</div>
<a id="a7db97d90c5bcb218e6607991010e45c1" name="a7db97d90c5bcb218e6607991010e45c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7db97d90c5bcb218e6607991010e45c1">&#9670;&#160;</a></span>_pixels</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> _pixels[<a class="el" href="gfx-types_8h.html#a11b59534db467ebd1fb19b758e6fffd7">GFX_HEIGHT</a> *<a class="el" href="gfx-types_8h.html#aae91ae7a3ca585293a2c1031652a49f9">GFX_WIDTH</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Screen pixel array buffer </p>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00038">38</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="simulator_2platform_8c_source.html#l00335">env_gfx_image_1bit()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00318">env_gfx_image_grayscale()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00284">env_gfx_image_rgb()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00303">env_gfx_image_rgb565()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00269">env_gfx_image_rgba()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00255">env_gfx_rect()</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00454">main()</a>.</p>

</div>
</div>
<a id="a626c7a4e8aed645a08b05efaa50fdac5" name="a626c7a4e8aed645a08b05efaa50fdac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a626c7a4e8aed645a08b05efaa50fdac5">&#9670;&#160;</a></span>_renderer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SDL_Renderer* _renderer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>SDL Renderer </p>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00053">53</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="simulator_2platform_8c_source.html#l00152">gfx_destroy()</a>, <a class="el" href="simulator_2platform_8c_source.html#l00109">gfx_init()</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00454">main()</a>.</p>

</div>
</div>
<a id="a2b6ea31d89d396e1e9ec6f6a892a10a9" name="a2b6ea31d89d396e1e9ec6f6a892a10a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b6ea31d89d396e1e9ec6f6a892a10a9">&#9670;&#160;</a></span>_sec_start</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> _sec_start</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Seconds since start </p>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00041">41</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="simulator_2platform_8c_source.html#l00396">env_millis()</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00386">timer_init()</a>.</p>

</div>
</div>
<a id="a52810ae9486c3852a18b8a7a3d67df01" name="a52810ae9486c3852a18b8a7a3d67df01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52810ae9486c3852a18b8a7a3d67df01">&#9670;&#160;</a></span>_usec_start</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> _usec_start</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Microseconds since start </p>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00044">44</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="simulator_2platform_8c_source.html#l00396">env_millis()</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00386">timer_init()</a>.</p>

</div>
</div>
<a id="aa6e721a97183db093899a7a38ff00ba2" name="aa6e721a97183db093899a7a38ff00ba2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6e721a97183db093899a7a38ff00ba2">&#9670;&#160;</a></span>_window</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SDL_Window* _window</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>SDL <a class="el" href="structWindow.html">Window</a> </p>

<p class="definition">Definition at line <a class="el" href="simulator_2platform_8c_source.html#l00050">50</a> of file <a class="el" href="simulator_2platform_8c_source.html">platform.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="simulator_2platform_8c_source.html#l00152">gfx_destroy()</a>, and <a class="el" href="simulator_2platform_8c_source.html#l00109">gfx_init()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
