   1               		.file	"logger.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.file 0 "/home/files/osdev/platform/avr" "logger/logger.c"
  11               	.global	log_boot_P
  13               	log_boot_P:
  14               	.LVL0:
  15               	.LFB2:
  16               		.file 1 "logger/logger.c"
   1:logger/logger.c **** /**
   2:logger/logger.c ****  * @file    logger.c
   3:logger/logger.c ****  * @author  Tim Gabrikowski, Anton Tchekov
   4:logger/logger.c ****  * @version 0.1
   5:logger/logger.c ****  * @date    16.05.2023
   6:logger/logger.c ****  */
   7:logger/logger.c **** 
   8:logger/logger.c **** #include <logger.h>
   9:logger/logger.c **** #include <serial.h>
  10:logger/logger.c **** #include <avr/pgmspace.h>
  11:logger/logger.c **** #include <avr/interrupt.h>
  12:logger/logger.c **** #include <stdarg.h>
  13:logger/logger.c **** #include <stdio.h>
  14:logger/logger.c **** 
  15:logger/logger.c **** void log_boot_P(const char *msg, ...)
  16:logger/logger.c **** {
  17               		.loc 1 16 1 view -0
  18               		.cfi_startproc
  19               		.loc 1 16 1 is_stmt 0 view .LVU1
  20 0000 CF93      		push r28
  21               		.cfi_def_cfa_offset 3
  22               		.cfi_offset 28, -2
  23 0002 DF93      		push r29
  24               		.cfi_def_cfa_offset 4
  25               		.cfi_offset 29, -3
  26 0004 CDB7      		in r28,__SP_L__
  27 0006 DEB7      		in r29,__SP_H__
  28               		.cfi_def_cfa_register 28
  29 0008 C058      		subi r28,-128
  30 000a D109      		sbc r29,__zero_reg__
  31               		.cfi_def_cfa_offset 132
  32 000c 0FB6      		in __tmp_reg__,__SREG__
  33 000e F894      		cli
  34 0010 DEBF      		out __SP_H__,r29
  35 0012 0FBE      		out __SREG__,__tmp_reg__
  36 0014 CDBF      		out __SP_L__,r28
  37               	/* prologue: function */
  38               	/* frame size = 128 */
  39               	/* stack size = 130 */
  40               	.L__stack_usage = 130
  41 0016 9E01      		movw r18,r28
  42 0018 2B57      		subi r18,123
  43 001a 3F4F      		sbci r19,-1
  44               	.LVL1:
  45               		.loc 1 16 1 view .LVU2
  46 001c F901      		movw r30,r18
  47 001e 4191      		ld r20,Z+
  48 0020 5191      		ld r21,Z+
  49               	.LVL2:
  50               		.loc 1 16 1 view .LVU3
  51 0022 9F01      		movw r18,r30
  17:logger/logger.c **** 	char buf[128];
  52               		.loc 1 17 2 is_stmt 1 view .LVU4
  18:logger/logger.c **** 	va_list v;
  53               		.loc 1 18 2 view .LVU5
  19:logger/logger.c **** 
  20:logger/logger.c **** 	va_start(v, msg);
  54               		.loc 1 20 2 view .LVU6
  55               	.LVL3:
  21:logger/logger.c **** 	vsnprintf_P(buf, sizeof(buf), msg, v);
  56               		.loc 1 21 2 view .LVU7
  57 0024 60E8      		ldi r22,lo8(-128)
  58 0026 70E0      		ldi r23,0
  59 0028 CE01      		movw r24,r28
  60 002a 0196      		adiw r24,1
  61 002c 0E94 0000 		call vsnprintf_P
  62               	.LVL4:
  22:logger/logger.c **** 	va_end(v);
  63               		.loc 1 22 2 view .LVU8
  23:logger/logger.c **** 
  24:logger/logger.c **** 	serial_tx_str_P(PSTR("[INIT] "));
  64               		.loc 1 24 2 view .LVU9
  65               	.LBB2:
  66               		.loc 1 24 18 view .LVU10
  67               		.loc 1 24 18 view .LVU11
  68               	.LBE2:
  69               		.loc 1 24 2 is_stmt 0 view .LVU12
  70 0030 80E0      		ldi r24,lo8(__c.2)
  71 0032 90E0      		ldi r25,hi8(__c.2)
  72 0034 0E94 0000 		call serial_tx_str_P
  73               	.LVL5:
  25:logger/logger.c **** 	serial_tx_str(buf);
  74               		.loc 1 25 2 is_stmt 1 view .LVU13
  75 0038 CE01      		movw r24,r28
  76 003a 0196      		adiw r24,1
  77 003c 0E94 0000 		call serial_tx_str
  78               	.LVL6:
  26:logger/logger.c **** 	serial_tx('\n');
  79               		.loc 1 26 2 view .LVU14
  80 0040 8AE0      		ldi r24,lo8(10)
  81 0042 0E94 0000 		call serial_tx
  82               	.LVL7:
  83               	/* epilogue start */
  27:logger/logger.c **** }
  84               		.loc 1 27 1 is_stmt 0 view .LVU15
  85 0046 C058      		subi r28,-128
  86 0048 DF4F      		sbci r29,-1
  87 004a 0FB6      		in __tmp_reg__,__SREG__
  88 004c F894      		cli
  89 004e DEBF      		out __SP_H__,r29
  90 0050 0FBE      		out __SREG__,__tmp_reg__
  91 0052 CDBF      		out __SP_L__,r28
  92 0054 DF91      		pop r29
  93 0056 CF91      		pop r28
  94 0058 0895      		ret
  95               		.cfi_endproc
  96               	.LFE2:
  98               	.global	panic
 100               	panic:
 101               	.LVL8:
 102               	.LFB3:
  28:logger/logger.c **** 
  29:logger/logger.c **** void panic(const char *msg, ...)
  30:logger/logger.c **** {
 103               		.loc 1 30 1 is_stmt 1 view -0
 104               		.cfi_startproc
 105               		.loc 1 30 1 is_stmt 0 view .LVU17
 106 005a CF93      		push r28
 107               		.cfi_def_cfa_offset 3
 108               		.cfi_offset 28, -2
 109 005c DF93      		push r29
 110               		.cfi_def_cfa_offset 4
 111               		.cfi_offset 29, -3
 112 005e CDB7      		in r28,__SP_L__
 113 0060 DEB7      		in r29,__SP_H__
 114               		.cfi_def_cfa_register 28
 115 0062 C058      		subi r28,-128
 116 0064 D109      		sbc r29,__zero_reg__
 117               		.cfi_def_cfa_offset 132
 118 0066 0FB6      		in __tmp_reg__,__SREG__
 119 0068 F894      		cli
 120 006a DEBF      		out __SP_H__,r29
 121 006c 0FBE      		out __SREG__,__tmp_reg__
 122 006e CDBF      		out __SP_L__,r28
 123               	/* prologue: function */
 124               	/* frame size = 128 */
 125               	/* stack size = 130 */
 126               	.L__stack_usage = 130
 127 0070 9E01      		movw r18,r28
 128 0072 2B57      		subi r18,123
 129 0074 3F4F      		sbci r19,-1
 130               	.LVL9:
 131               		.loc 1 30 1 view .LVU18
 132 0076 F901      		movw r30,r18
 133 0078 4191      		ld r20,Z+
 134 007a 5191      		ld r21,Z+
 135               	.LVL10:
 136               		.loc 1 30 1 view .LVU19
 137 007c 9F01      		movw r18,r30
  31:logger/logger.c **** 	char buf[128];
 138               		.loc 1 31 2 is_stmt 1 view .LVU20
  32:logger/logger.c **** 	va_list v;
 139               		.loc 1 32 2 view .LVU21
  33:logger/logger.c **** 
  34:logger/logger.c **** 	va_start(v, msg);
 140               		.loc 1 34 2 view .LVU22
 141               	.LVL11:
  35:logger/logger.c **** 	vsnprintf_P(buf, sizeof(buf), msg, v);
 142               		.loc 1 35 2 view .LVU23
 143 007e 60E8      		ldi r22,lo8(-128)
 144 0080 70E0      		ldi r23,0
 145 0082 CE01      		movw r24,r28
 146 0084 0196      		adiw r24,1
 147 0086 0E94 0000 		call vsnprintf_P
 148               	.LVL12:
  36:logger/logger.c **** 	va_end(v);
 149               		.loc 1 36 2 view .LVU24
  37:logger/logger.c **** 
  38:logger/logger.c **** 	serial_tx_str_P(PSTR("[PANIC] "));
 150               		.loc 1 38 2 view .LVU25
 151               	.LBB3:
 152               		.loc 1 38 18 view .LVU26
 153               		.loc 1 38 18 view .LVU27
 154               	.LBE3:
 155               		.loc 1 38 2 is_stmt 0 view .LVU28
 156 008a 80E0      		ldi r24,lo8(__c.1)
 157 008c 90E0      		ldi r25,hi8(__c.1)
 158 008e 0E94 0000 		call serial_tx_str_P
 159               	.LVL13:
  39:logger/logger.c **** 	serial_tx_str(buf);
 160               		.loc 1 39 2 is_stmt 1 view .LVU29
 161 0092 CE01      		movw r24,r28
 162 0094 0196      		adiw r24,1
 163 0096 0E94 0000 		call serial_tx_str
 164               	.LVL14:
  40:logger/logger.c **** 	serial_tx_str_P(PSTR("\n>>> RESET REQUIRED\n"));
 165               		.loc 1 40 2 view .LVU30
 166               	.LBB4:
 167               		.loc 1 40 18 view .LVU31
 168               		.loc 1 40 18 view .LVU32
 169               	.LBE4:
 170               		.loc 1 40 2 is_stmt 0 view .LVU33
 171 009a 80E0      		ldi r24,lo8(__c.0)
 172 009c 90E0      		ldi r25,hi8(__c.0)
 173 009e 0E94 0000 		call serial_tx_str_P
 174               	.LVL15:
  41:logger/logger.c **** 
  42:logger/logger.c **** 	cli();
 175               		.loc 1 42 2 is_stmt 1 view .LVU34
 176               	/* #APP */
 177               	 ;  42 "logger/logger.c" 1
 178 00a2 F894      		cli
 179               	 ;  0 "" 2
 180               	/* #NOAPP */
 181               	.L3:
  43:logger/logger.c **** 
  44:logger/logger.c **** 	/* Infinite loop */
  45:logger/logger.c **** 	for(;;)
 182               		.loc 1 45 2 discriminator 1 view .LVU35
  46:logger/logger.c **** 	{
  47:logger/logger.c **** 	}
 183               		.loc 1 47 2 discriminator 1 view .LVU36
  45:logger/logger.c **** 	{
 184               		.loc 1 45 2 discriminator 1 view .LVU37
 185 00a4 00C0      		rjmp .L3
 186               		.cfi_endproc
 187               	.LFE3:
 189               		.section	.progmem.data,"a",@progbits
 192               	__c.0:
 193 0000 0A3E 3E3E 		.string	"\n>>> RESET REQUIRED\n"
 193      2052 4553 
 193      4554 2052 
 193      4551 5549 
 193      5245 440A 
 196               	__c.1:
 197 0015 5B50 414E 		.string	"[PANIC] "
 197      4943 5D20 
 197      00
 200               	__c.2:
 201 001e 5B49 4E49 		.string	"[INIT] "
 201      545D 2000 
 202               		.text
 203               	.Letext0:
 204               		.file 2 "/usr/lib/gcc/avr/12.2.0/include/stddef.h"
 205               		.file 3 "/usr/lib/gcc/avr/12.2.0/include/stdarg.h"
 206               		.file 4 "serial/serial.h"
 207               		.file 5 "/usr/avr/include/stdio.h"
DEFINED SYMBOLS
                            *ABS*:00000000 logger.c
     /tmp/ccldLW3A.s:2      *ABS*:0000003e __SP_H__
     /tmp/ccldLW3A.s:3      *ABS*:0000003d __SP_L__
     /tmp/ccldLW3A.s:4      *ABS*:0000003f __SREG__
     /tmp/ccldLW3A.s:5      *ABS*:00000000 __tmp_reg__
     /tmp/ccldLW3A.s:6      *ABS*:00000001 __zero_reg__
     /tmp/ccldLW3A.s:13     .text:00000000 log_boot_P
     /tmp/ccldLW3A.s:17     .text:00000000 .Loc.0
     /tmp/ccldLW3A.s:18     .text:00000000 L0
     /tmp/ccldLW3A.s:19     .text:00000000 .Loc.1
     /tmp/ccldLW3A.s:45     .text:0000001c .Loc.2
     /tmp/ccldLW3A.s:50     .text:00000022 .Loc.3
     /tmp/ccldLW3A.s:52     .text:00000024 .Loc.4
     /tmp/ccldLW3A.s:53     .text:00000024 .Loc.5
     /tmp/ccldLW3A.s:54     .text:00000024 .Loc.6
     /tmp/ccldLW3A.s:56     .text:00000024 .Loc.7
     /tmp/ccldLW3A.s:63     .text:00000030 .Loc.8
     /tmp/ccldLW3A.s:64     .text:00000030 .Loc.9
     /tmp/ccldLW3A.s:66     .text:00000030 .Loc.10
     /tmp/ccldLW3A.s:67     .text:00000030 .Loc.11
     /tmp/ccldLW3A.s:69     .text:00000030 .Loc.12
     /tmp/ccldLW3A.s:200    .progmem.data:0000001e __c.2
     /tmp/ccldLW3A.s:74     .text:00000038 .Loc.13
     /tmp/ccldLW3A.s:79     .text:00000040 .Loc.14
     /tmp/ccldLW3A.s:84     .text:00000046 .Loc.15
     /tmp/ccldLW3A.s:95     .text:0000005a L0
     /tmp/ccldLW3A.s:100    .text:0000005a panic
     /tmp/ccldLW3A.s:103    .text:0000005a .Loc.16
     /tmp/ccldLW3A.s:104    .text:0000005a L0
     /tmp/ccldLW3A.s:105    .text:0000005a .Loc.17
     /tmp/ccldLW3A.s:131    .text:00000076 .Loc.18
     /tmp/ccldLW3A.s:136    .text:0000007c .Loc.19
     /tmp/ccldLW3A.s:138    .text:0000007e .Loc.20
     /tmp/ccldLW3A.s:139    .text:0000007e .Loc.21
     /tmp/ccldLW3A.s:140    .text:0000007e .Loc.22
     /tmp/ccldLW3A.s:142    .text:0000007e .Loc.23
     /tmp/ccldLW3A.s:149    .text:0000008a .Loc.24
     /tmp/ccldLW3A.s:150    .text:0000008a .Loc.25
     /tmp/ccldLW3A.s:152    .text:0000008a .Loc.26
     /tmp/ccldLW3A.s:153    .text:0000008a .Loc.27
     /tmp/ccldLW3A.s:155    .text:0000008a .Loc.28
     /tmp/ccldLW3A.s:196    .progmem.data:00000015 __c.1
     /tmp/ccldLW3A.s:160    .text:00000092 .Loc.29
     /tmp/ccldLW3A.s:165    .text:0000009a .Loc.30
     /tmp/ccldLW3A.s:167    .text:0000009a .Loc.31
     /tmp/ccldLW3A.s:168    .text:0000009a .Loc.32
     /tmp/ccldLW3A.s:170    .text:0000009a .Loc.33
     /tmp/ccldLW3A.s:192    .progmem.data:00000000 __c.0
     /tmp/ccldLW3A.s:175    .text:000000a2 .Loc.34
     /tmp/ccldLW3A.s:182    .text:000000a4 .Loc.35
     /tmp/ccldLW3A.s:183    .text:000000a4 .Loc.36
     /tmp/ccldLW3A.s:184    .text:000000a4 .Loc.37
     /tmp/ccldLW3A.s:186    .text:000000a6 L0
     /tmp/ccldLW3A.s:208    .text:000000a6 L0
                     .debug_frame:00000000 L0
     /tmp/ccldLW3A.s:181    .text:000000a4 .L3
     /tmp/ccldLW3A.s:580    .debug_abbrev:00000000 .Ldebug_abbrev0
     /tmp/ccldLW3A.s:8      .text:00000000 .Ltext0
     /tmp/ccldLW3A.s:203    .text:000000a6 .Letext0
     /tmp/ccldLW3A.s:958    .debug_line:00000000 .Ldebug_line0
     /tmp/ccldLW3A.s:102    .text:0000005a .LFB3
     /tmp/ccldLW3A.s:187    .text:000000a6 .LFE3
     /tmp/ccldLW3A.s:881    .debug_loclists:00000010 .LLST2
     /tmp/ccldLW3A.s:876    .debug_loclists:0000000c .LVUS2
     /tmp/ccldLW3A.s:898    .debug_loclists:00000020 .LLST3
     /tmp/ccldLW3A.s:895    .debug_loclists:0000001e .LVUS3
     /tmp/ccldLW3A.s:151    .text:0000008a .LBB3
     /tmp/ccldLW3A.s:154    .text:0000008a .LBE3
     /tmp/ccldLW3A.s:166    .text:0000009a .LBB4
     /tmp/ccldLW3A.s:169    .text:0000009a .LBE4
     /tmp/ccldLW3A.s:148    .text:0000008a .LVL12
     /tmp/ccldLW3A.s:159    .text:00000092 .LVL13
     /tmp/ccldLW3A.s:164    .text:0000009a .LVL14
     /tmp/ccldLW3A.s:174    .text:000000a2 .LVL15
     /tmp/ccldLW3A.s:15     .text:00000000 .LFB2
     /tmp/ccldLW3A.s:96     .text:0000005a .LFE2
     /tmp/ccldLW3A.s:915    .debug_loclists:00000030 .LLST0
     /tmp/ccldLW3A.s:910    .debug_loclists:0000002c .LVUS0
     /tmp/ccldLW3A.s:932    .debug_loclists:0000003f .LLST1
     /tmp/ccldLW3A.s:929    .debug_loclists:0000003d .LVUS1
     /tmp/ccldLW3A.s:65     .text:00000030 .LBB2
     /tmp/ccldLW3A.s:68     .text:00000030 .LBE2
     /tmp/ccldLW3A.s:62     .text:00000030 .LVL4
     /tmp/ccldLW3A.s:73     .text:00000038 .LVL5
     /tmp/ccldLW3A.s:78     .text:00000040 .LVL6
     /tmp/ccldLW3A.s:82     .text:00000046 .LVL7
     /tmp/ccldLW3A.s:209    .debug_info:00000000 .Ldebug_info0

UNDEFINED SYMBOLS
vsnprintf_P
serial_tx_str_P
serial_tx_str
serial_tx
