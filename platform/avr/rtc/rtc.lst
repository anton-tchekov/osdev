   1               		.file	"rtc.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.file 0 "/home/files/osdev/platform/avr" "rtc/rtc.c"
  11               	.global	rtc_init
  13               	rtc_init:
  14               	.LFB3:
  15               		.file 1 "rtc/rtc.c"
   1:rtc/rtc.c     **** /**
   2:rtc/rtc.c     ****  * @file    rtc.c
   3:rtc/rtc.c     ****  * @author  Tim Gabrikowski, Anton Tchekov
   4:rtc/rtc.c     ****  * @version 0.1
   5:rtc/rtc.c     ****  * @date    16.05.2023
   6:rtc/rtc.c     ****  */
   7:rtc/rtc.c     **** 
   8:rtc/rtc.c     **** #include <rtc.h>
   9:rtc/rtc.c     **** #include <logger.h>
  10:rtc/rtc.c     **** #include <avr/pgmspace.h>
  11:rtc/rtc.c     **** 
  12:rtc/rtc.c     **** void rtc_init(void)
  13:rtc/rtc.c     **** {
  16               		.loc 1 13 1 view -0
  17               		.cfi_startproc
  18               	/* prologue: function */
  19               	/* frame size = 0 */
  20               	/* stack size = 0 */
  21               	.L__stack_usage = 0
  14:rtc/rtc.c     **** 	log_boot_P(LOG_INIT, PSTR("RTC driver initialized"));
  22               		.loc 1 14 2 view .LVU1
  23               	.LBB2:
  24               		.loc 1 14 23 view .LVU2
  25               		.loc 1 14 23 view .LVU3
  26               	.LBE2:
  27               		.loc 1 14 2 is_stmt 0 view .LVU4
  28 0000 80E0      		ldi r24,lo8(__c.0)
  29 0002 90E0      		ldi r25,hi8(__c.0)
  30 0004 9F93      		push r25
  31               		.cfi_def_cfa_offset 3
  32 0006 8F93      		push r24
  33               		.cfi_def_cfa_offset 4
  34 0008 1F92      		push __zero_reg__
  35               		.cfi_def_cfa_offset 5
  36 000a 0E94 0000 		call log_boot_P
  37               	.LVL0:
  15:rtc/rtc.c     **** }
  38               		.loc 1 15 1 view .LVU5
  39 000e 0F90      		pop __tmp_reg__
  40 0010 0F90      		pop __tmp_reg__
  41 0012 0F90      		pop __tmp_reg__
  42               		.cfi_def_cfa_offset 2
  43               	/* epilogue start */
  44 0014 0895      		ret
  45               		.cfi_endproc
  46               	.LFE3:
  48               	.global	datetime_now
  50               	datetime_now:
  51               	.LVL1:
  52               	.LFB4:
  16:rtc/rtc.c     **** 
  17:rtc/rtc.c     **** DateTime *datetime_now(DateTime *now)
  18:rtc/rtc.c     **** {
  53               		.loc 1 18 1 is_stmt 1 view -0
  54               		.cfi_startproc
  55               	/* prologue: function */
  56               	/* frame size = 0 */
  57               	/* stack size = 0 */
  58               	.L__stack_usage = 0
  59               		.loc 1 18 1 is_stmt 0 view .LVU7
  60 0016 FC01      		movw r30,r24
  19:rtc/rtc.c     **** 	now->Year = 1970;
  61               		.loc 1 19 2 is_stmt 1 view .LVU8
  62               		.loc 1 19 12 is_stmt 0 view .LVU9
  63 0018 82EB      		ldi r24,lo8(-78)
  64 001a 97E0      		ldi r25,lo8(7)
  65 001c A0E0      		ldi r26,0
  66 001e B0E0      		ldi r27,0
  67               	.LVL2:
  68               		.loc 1 19 12 view .LVU10
  69 0020 8083      		st Z,r24
  70 0022 9183      		std Z+1,r25
  71 0024 A283      		std Z+2,r26
  72 0026 B383      		std Z+3,r27
  20:rtc/rtc.c     **** 	now->Month = 1;
  73               		.loc 1 20 2 is_stmt 1 view .LVU11
  74               		.loc 1 20 13 is_stmt 0 view .LVU12
  75 0028 81E0      		ldi r24,lo8(1)
  76 002a 90E0      		ldi r25,0
  77 002c A0E0      		ldi r26,0
  78 002e B0E0      		ldi r27,0
  79 0030 8483      		std Z+4,r24
  80 0032 9583      		std Z+5,r25
  81 0034 A683      		std Z+6,r26
  82 0036 B783      		std Z+7,r27
  21:rtc/rtc.c     **** 	now->Day = 1;
  83               		.loc 1 21 2 is_stmt 1 view .LVU13
  84               		.loc 1 21 11 is_stmt 0 view .LVU14
  85 0038 8087      		std Z+8,r24
  86 003a 9187      		std Z+9,r25
  87 003c A287      		std Z+10,r26
  88 003e B387      		std Z+11,r27
  22:rtc/rtc.c     **** 
  23:rtc/rtc.c     **** 	now->Hour = 0;
  89               		.loc 1 23 2 is_stmt 1 view .LVU15
  90               		.loc 1 23 12 is_stmt 0 view .LVU16
  91 0040 1486      		std Z+12,__zero_reg__
  92 0042 1586      		std Z+13,__zero_reg__
  93 0044 1686      		std Z+14,__zero_reg__
  94 0046 1786      		std Z+15,__zero_reg__
  24:rtc/rtc.c     **** 	now->Minute = 0;
  95               		.loc 1 24 2 is_stmt 1 view .LVU17
  96               		.loc 1 24 14 is_stmt 0 view .LVU18
  97 0048 108A      		std Z+16,__zero_reg__
  98 004a 118A      		std Z+17,__zero_reg__
  99 004c 128A      		std Z+18,__zero_reg__
 100 004e 138A      		std Z+19,__zero_reg__
  25:rtc/rtc.c     **** 	now->Second = 0;
 101               		.loc 1 25 2 is_stmt 1 view .LVU19
 102               		.loc 1 25 14 is_stmt 0 view .LVU20
 103 0050 148A      		std Z+20,__zero_reg__
 104 0052 158A      		std Z+21,__zero_reg__
 105 0054 168A      		std Z+22,__zero_reg__
 106 0056 178A      		std Z+23,__zero_reg__
  26:rtc/rtc.c     **** 
  27:rtc/rtc.c     **** 	return now;
 107               		.loc 1 27 2 is_stmt 1 view .LVU21
  28:rtc/rtc.c     **** }
 108               		.loc 1 28 1 is_stmt 0 view .LVU22
 109 0058 CF01      		movw r24,r30
 110               	/* epilogue start */
 111 005a 0895      		ret
 112               		.cfi_endproc
 113               	.LFE4:
 115               		.section	.progmem.data,"a",@progbits
 118               	__c.0:
 119 0000 5254 4320 		.string	"RTC driver initialized"
 119      6472 6976 
 119      6572 2069 
 119      6E69 7469 
 119      616C 697A 
 120               		.text
 121               	.Letext0:
 122               		.file 2 "../../types/types.h"
 123               		.file 3 "/usr/lib/gcc/avr/12.2.0/include/stdint-gcc.h"
 124               		.file 4 "logger/logger.h"
DEFINED SYMBOLS
                            *ABS*:00000000 rtc.c
     /tmp/cc88MpNR.s:2      *ABS*:0000003e __SP_H__
     /tmp/cc88MpNR.s:3      *ABS*:0000003d __SP_L__
     /tmp/cc88MpNR.s:4      *ABS*:0000003f __SREG__
     /tmp/cc88MpNR.s:5      *ABS*:00000000 __tmp_reg__
     /tmp/cc88MpNR.s:6      *ABS*:00000001 __zero_reg__
     /tmp/cc88MpNR.s:13     .text:00000000 rtc_init
     /tmp/cc88MpNR.s:16     .text:00000000 .Loc.0
     /tmp/cc88MpNR.s:17     .text:00000000 L0
     /tmp/cc88MpNR.s:22     .text:00000000 .Loc.1
     /tmp/cc88MpNR.s:24     .text:00000000 .Loc.2
     /tmp/cc88MpNR.s:25     .text:00000000 .Loc.3
     /tmp/cc88MpNR.s:27     .text:00000000 .Loc.4
     /tmp/cc88MpNR.s:118    .progmem.data:00000000 __c.0
     /tmp/cc88MpNR.s:38     .text:0000000e .Loc.5
     /tmp/cc88MpNR.s:45     .text:00000016 L0
     /tmp/cc88MpNR.s:50     .text:00000016 datetime_now
     /tmp/cc88MpNR.s:53     .text:00000016 .Loc.6
     /tmp/cc88MpNR.s:54     .text:00000016 L0
     /tmp/cc88MpNR.s:59     .text:00000016 .Loc.7
     /tmp/cc88MpNR.s:61     .text:00000018 .Loc.8
     /tmp/cc88MpNR.s:62     .text:00000018 .Loc.9
     /tmp/cc88MpNR.s:68     .text:00000020 .Loc.10
     /tmp/cc88MpNR.s:73     .text:00000028 .Loc.11
     /tmp/cc88MpNR.s:74     .text:00000028 .Loc.12
     /tmp/cc88MpNR.s:83     .text:00000038 .Loc.13
     /tmp/cc88MpNR.s:84     .text:00000038 .Loc.14
     /tmp/cc88MpNR.s:89     .text:00000040 .Loc.15
     /tmp/cc88MpNR.s:90     .text:00000040 .Loc.16
     /tmp/cc88MpNR.s:95     .text:00000048 .Loc.17
     /tmp/cc88MpNR.s:96     .text:00000048 .Loc.18
     /tmp/cc88MpNR.s:101    .text:00000050 .Loc.19
     /tmp/cc88MpNR.s:102    .text:00000050 .Loc.20
     /tmp/cc88MpNR.s:107    .text:00000058 .Loc.21
     /tmp/cc88MpNR.s:108    .text:00000058 .Loc.22
     /tmp/cc88MpNR.s:112    .text:0000005c L0
     /tmp/cc88MpNR.s:125    .text:0000005c L0
                     .debug_frame:00000000 L0
     /tmp/cc88MpNR.s:357    .debug_abbrev:00000000 .Ldebug_abbrev0
     /tmp/cc88MpNR.s:8      .text:00000000 .Ltext0
     /tmp/cc88MpNR.s:121    .text:0000005c .Letext0
     /tmp/cc88MpNR.s:738    .debug_line:00000000 .Ldebug_line0
     /tmp/cc88MpNR.s:52     .text:00000016 .LFB4
     /tmp/cc88MpNR.s:113    .text:0000005c .LFE4
     /tmp/cc88MpNR.s:702    .debug_loclists:00000010 .LLST0
     /tmp/cc88MpNR.s:697    .debug_loclists:0000000c .LVUS0
     /tmp/cc88MpNR.s:14     .text:00000000 .LFB3
     /tmp/cc88MpNR.s:46     .text:00000016 .LFE3
     /tmp/cc88MpNR.s:23     .text:00000000 .LBB2
     /tmp/cc88MpNR.s:26     .text:00000000 .LBE2
     /tmp/cc88MpNR.s:37     .text:0000000e .LVL0
     /tmp/cc88MpNR.s:126    .debug_info:00000000 .Ldebug_info0

UNDEFINED SYMBOLS
log_boot_P
