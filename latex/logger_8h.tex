\doxysection{platform/avr/logger/logger.h File Reference}
\hypertarget{logger_8h}{}\label{logger_8h}\index{platform/avr/logger/logger.h@{platform/avr/logger/logger.h}}


Boot message logger.  


{\ttfamily \#include $<$types.\+h$>$}\newline
{\ttfamily \#include $<$avr/pgmspace.\+h$>$}\newline
{\ttfamily \#include $<$logo/logo\+\_\+tiny.\+c$>$}\newline
{\ttfamily \#include $<$logo/logo\+\_\+text.\+c$>$}\newline
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{logger_8h_aca1fd1d8935433e6ba2e3918214e07f9}{Log\+Level}} \{ \newline
{\bfseries LOG\+\_\+\+INIT}
, {\bfseries LOG\+\_\+\+DEBUG}
, {\bfseries LOG\+\_\+\+WARN}
, {\bfseries LOG\+\_\+\+ERROR}
, \newline
{\bfseries LOG\+\_\+\+PANIC}
, {\bfseries LOG\+\_\+\+OFFSET}
, {\bfseries LOG\+\_\+\+NONE}
, {\bfseries LOG\+\_\+\+EXT}
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{logger_8h_a60bd636ef160c97eb51cf31be5954ba2}{log\+\_\+boot\+\_\+P}} (\mbox{\hyperlink{logger_8h_aca1fd1d8935433e6ba2e3918214e07f9}{Log\+Level}} level, const char \texorpdfstring{$\ast$}{*}msg,...)
\begin{DoxyCompactList}\small\item\em Log boot message. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logger_8h_a19a313011d8f478ad9799e546199a9ac}{panic}} (const char \texorpdfstring{$\ast$}{*}msg,...)
\begin{DoxyCompactList}\small\item\em Trigger a kernel panic. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logger_8h_a0108e0dd64eb1971222c219982138866}{memory\+\_\+dump}} (\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} addr, const void \texorpdfstring{$\ast$}{*}data, \mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} len)
\begin{DoxyCompactList}\small\item\em Print a hexdump of a block memory. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logger_8h_aa60037dffd3fce2b3b698663eb11b5dc}{logger\+\_\+lcd\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Initialize LCD Logger. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Boot message logger. 

\begin{DoxyAuthor}{Author}
Tim Gabrikowski, Anton Tchekov 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
16.\+05.\+2023 
\end{DoxyDate}


Definition in file \mbox{\hyperlink{logger_8h_source}{logger.\+h}}.



\doxysubsection{Enumeration Type Documentation}
\Hypertarget{logger_8h_aca1fd1d8935433e6ba2e3918214e07f9}\label{logger_8h_aca1fd1d8935433e6ba2e3918214e07f9} 
\index{logger.h@{logger.h}!LogLevel@{LogLevel}}
\index{LogLevel@{LogLevel}!logger.h@{logger.h}}
\doxysubsubsection{\texorpdfstring{LogLevel}{LogLevel}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{logger_8h_aca1fd1d8935433e6ba2e3918214e07f9}{Log\+Level}}}

Log Level enum 

Definition at line \mbox{\hyperlink{logger_8h_source_l00018}{18}} of file \mbox{\hyperlink{logger_8h_source}{logger.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00019\ \{}
\DoxyCodeLine{00020\ \ \ \ \ LOG\_INIT,}
\DoxyCodeLine{00021\ \ \ \ \ LOG\_DEBUG,}
\DoxyCodeLine{00022\ \ \ \ \ LOG\_WARN,}
\DoxyCodeLine{00023\ \ \ \ \ LOG\_ERROR,}
\DoxyCodeLine{00024\ \ \ \ \ LOG\_PANIC,}
\DoxyCodeLine{00025\ \ \ \ \ LOG\_OFFSET,}
\DoxyCodeLine{00026\ \ \ \ \ LOG\_NONE,}
\DoxyCodeLine{00027\ \ \ \ \ LOG\_EXT}
\DoxyCodeLine{00028\ \}\ \mbox{\hyperlink{logger_8h_aca1fd1d8935433e6ba2e3918214e07f9}{LogLevel}};}

\end{DoxyCode}


\doxysubsection{Function Documentation}
\Hypertarget{logger_8h_a60bd636ef160c97eb51cf31be5954ba2}\label{logger_8h_a60bd636ef160c97eb51cf31be5954ba2} 
\index{logger.h@{logger.h}!log\_boot\_P@{log\_boot\_P}}
\index{log\_boot\_P@{log\_boot\_P}!logger.h@{logger.h}}
\doxysubsubsection{\texorpdfstring{log\_boot\_P()}{log\_boot\_P()}}
{\footnotesize\ttfamily void log\+\_\+boot\+\_\+P (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{logger_8h_aca1fd1d8935433e6ba2e3918214e07f9}{Log\+Level}}}]{level,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{msg,  }\item[{}]{... }\end{DoxyParamCaption})}



Log boot message. 


\begin{DoxyParams}{Parameters}
{\em level} & Log level (see enum above) \\
\hline
{\em msg} & Format string \\
\hline
{\em ...} & Variable arguments \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{logger_8c_source_l00170}{170}} of file \mbox{\hyperlink{logger_8c_source}{logger.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00171\ \{}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keywordtype}{char}\ buf[128];}
\DoxyCodeLine{00173\ \ \ \ \ va\_list\ v;}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \ \ va\_start(v,\ msg);}
\DoxyCodeLine{00176\ \ \ \ \ vsnprintf\_P(buf,\ \textcolor{keyword}{sizeof}(buf),\ msg,\ v);}
\DoxyCodeLine{00177\ \ \ \ \ va\_end(v);}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \ \ \mbox{\hyperlink{logger_8c_af1a6b0255055e7945b2a3ce17fc8a238}{\_lcd\_log}}(level,\ buf);}
\DoxyCodeLine{00180\ \ \ \ \ \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_ad1404aaabd8a723599a89c9b9ca08a65}{serial\_tx}}(\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{00181\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{logger_8c_source_l00095}{\+\_\+lcd\+\_\+log()}}, and \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_source_l00026}{serial\+\_\+tx()}}.



Referenced by \mbox{\hyperlink{xmem_8c_source_l00065}{\+\_\+memtest()}}, \mbox{\hyperlink{sd_8c_source_l00225}{\+\_\+sd\+\_\+info\+\_\+print()}}, \mbox{\hyperlink{adc_8c_source_l00013}{adc\+\_\+init()}}, \mbox{\hyperlink{initrd_8c_source_l00020}{initrd\+\_\+load()}}, \mbox{\hyperlink{lcd_8c_source_l00397}{lcd\+\_\+init()}}, \mbox{\hyperlink{platform_2avr_2main_8c_source_l00029}{main()}}, \mbox{\hyperlink{ps2_8c_source_l00172}{ps2\+\_\+init()}}, \mbox{\hyperlink{random_8c_source_l00014}{random\+\_\+init()}}, \mbox{\hyperlink{sd_8c_source_l00268}{sd\+\_\+init()}}, \mbox{\hyperlink{spi_8c_source_l00013}{spi\+\_\+init()}}, \mbox{\hyperlink{timer_8c_source_l00017}{timer\+\_\+init()}}, and \mbox{\hyperlink{xmem_8c_source_l00279}{xmem\+\_\+init()}}.

\Hypertarget{logger_8h_aa60037dffd3fce2b3b698663eb11b5dc}\label{logger_8h_aa60037dffd3fce2b3b698663eb11b5dc} 
\index{logger.h@{logger.h}!logger\_lcd\_init@{logger\_lcd\_init}}
\index{logger\_lcd\_init@{logger\_lcd\_init}!logger.h@{logger.h}}
\doxysubsubsection{\texorpdfstring{logger\_lcd\_init()}{logger\_lcd\_init()}}
{\footnotesize\ttfamily void logger\+\_\+lcd\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initialize LCD Logger. 



Definition at line \mbox{\hyperlink{logger_8c_source_l00237}{237}} of file \mbox{\hyperlink{logger_8c_source}{logger.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00238\ \{}
\DoxyCodeLine{00239\ \ \ \ \ \mbox{\hyperlink{logger_8c_a4b6e7d1086f87ee156cd12590f8f38eb}{\_lcd\_initialized}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \ \ \ \ \mbox{\hyperlink{lcd_8c_a2b7400cbec8880666bed8cfc105a0f7a}{lcd\_logo\_P}}(}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8c_a88e76882c6f9a1a90f5b714c39be7b37}{LOGO\_X\_OFFSET}},}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8c_a70b1470428ebbc008fc85cfb458820b1}{LOGO\_Y\_OFFSET}},}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ LOGO\_TINY\_WIDTH,}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ LOGO\_TINY\_HEIGHT,}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ logo\_tiny);}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ \ \ \ \ \mbox{\hyperlink{lcd_8c_a2b7400cbec8880666bed8cfc105a0f7a}{lcd\_logo\_P}}(}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8c_a88e76882c6f9a1a90f5b714c39be7b37}{LOGO\_X\_OFFSET}}\ +\ \mbox{\hyperlink{logger_8c_a4bcc8822ee0337ce0c7d0f7086244b6d}{LOGO\_TEXT\_X\_OFFSET}},}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8c_a70b1470428ebbc008fc85cfb458820b1}{LOGO\_Y\_OFFSET}}\ +\ LOGO\_TINY\_HEIGHT\ /\ 2\ -\/\ LOGO\_TEXT\_HEIGHT\ /\ 2,}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ LOGO\_TEXT\_WIDTH,}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ LOGO\_TEXT\_HEIGHT,}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ logo\_text);}
\DoxyCodeLine{00254\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{logger_8c_source_l00084}{\+\_\+lcd\+\_\+initialized}}, \mbox{\hyperlink{lcd_8c_source_l00437}{lcd\+\_\+logo\+\_\+\+P()}}, \mbox{\hyperlink{logger_8c_source_l00042}{LOGO\+\_\+\+TEXT\+\_\+\+X\+\_\+\+OFFSET}}, \mbox{\hyperlink{logger_8c_source_l00036}{LOGO\+\_\+\+X\+\_\+\+OFFSET}}, and \mbox{\hyperlink{logger_8c_source_l00039}{LOGO\+\_\+\+Y\+\_\+\+OFFSET}}.



Referenced by \mbox{\hyperlink{platform_2avr_2main_8c_source_l00029}{main()}}.

\Hypertarget{logger_8h_a0108e0dd64eb1971222c219982138866}\label{logger_8h_a0108e0dd64eb1971222c219982138866} 
\index{logger.h@{logger.h}!memory\_dump@{memory\_dump}}
\index{memory\_dump@{memory\_dump}!logger.h@{logger.h}}
\doxysubsubsection{\texorpdfstring{memory\_dump()}{memory\_dump()}}
{\footnotesize\ttfamily void memory\+\_\+dump (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{addr,  }\item[{const void \texorpdfstring{$\ast$}{*}}]{data,  }\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{len }\end{DoxyParamCaption})}



Print a hexdump of a block memory. 


\begin{DoxyParams}{Parameters}
{\em addr} & Start address only for printing \\
\hline
{\em data} & Data buffer \\
\hline
{\em len} & Buffer size in bytes \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{logger_8c_source_l00206}{206}} of file \mbox{\hyperlink{logger_8c_source}{logger.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00207\ \{}
\DoxyCodeLine{00208\ \ \ \ \ \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}}\ j;}
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}}\ *data8;}
\DoxyCodeLine{00210\ \ \ \ \ \mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}\ i;}
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{keywordtype}{char}\ c,\ buf[32];}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \ \ \ \ data8\ =\ data;}
\DoxyCodeLine{00214\ \ \ \ \ \textcolor{keywordflow}{for}(i\ =\ 0;\ i\ <\ len;\ i\ +=\ \mbox{\hyperlink{logger_8c_a7e605a71d397f16aa436a31c4d459a82}{DUMP\_BYTES\_PER\_LINE}},\ addr\ +=\ \mbox{\hyperlink{logger_8c_a7e605a71d397f16aa436a31c4d459a82}{DUMP\_BYTES\_PER\_LINE}})}
\DoxyCodeLine{00215\ \ \ \ \ \{}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{format_8h_a8be7c8a106186419f86b1bf42b225275}{snprintf}}(buf,\ \textcolor{keyword}{sizeof}(buf),\ \textcolor{stringliteral}{"{}\%08X\ |\ "{}},\ addr);}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_a38ab89a81b380ccbfe63ba026d92b54b}{serial\_tx\_str}}(buf);}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(j\ =\ 0;\ j\ <\ \mbox{\hyperlink{logger_8c_a7e605a71d397f16aa436a31c4d459a82}{DUMP\_BYTES\_PER\_LINE}};\ ++j)}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{format_8h_a8be7c8a106186419f86b1bf42b225275}{snprintf}}(buf,\ \textcolor{keyword}{sizeof}(buf),\ \textcolor{stringliteral}{"{}\%02X\ "{}},\ data8[i\ +\ j]);}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_a38ab89a81b380ccbfe63ba026d92b54b}{serial\_tx\_str}}(buf);}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_a38ab89a81b380ccbfe63ba026d92b54b}{serial\_tx\_str}}(\textcolor{stringliteral}{"{}|\ "{}});}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(j\ =\ 0;\ j\ <\ \mbox{\hyperlink{logger_8c_a7e605a71d397f16aa436a31c4d459a82}{DUMP\_BYTES\_PER\_LINE}};\ ++j)}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ c\ =\ data8[i\ +\ j];}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_ad1404aaabd8a723599a89c9b9ca08a65}{serial\_tx}}(\mbox{\hyperlink{ctype_8c_a86defca79be1f892ba604d42dbd5524e}{isprint}}(c)\ ?\ c\ :\ \textcolor{stringliteral}{'.'});}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_ad1404aaabd8a723599a89c9b9ca08a65}{serial\_tx}}(\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{00232\ \ \ \ \ \}}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \ \ \ \ \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_ad1404aaabd8a723599a89c9b9ca08a65}{serial\_tx}}(\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{00235\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{logger_8c_source_l00018}{DUMP\+\_\+\+BYTES\+\_\+\+PER\+\_\+\+LINE}}, \mbox{\hyperlink{ctype_8c_source_l00041}{isprint()}}, \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_source_l00026}{serial\+\_\+tx()}}, \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_source_l00032}{serial\+\_\+tx\+\_\+str()}}, and \mbox{\hyperlink{format_8h_a8be7c8a106186419f86b1bf42b225275}{snprintf()}}.

\Hypertarget{logger_8h_a19a313011d8f478ad9799e546199a9ac}\label{logger_8h_a19a313011d8f478ad9799e546199a9ac} 
\index{logger.h@{logger.h}!panic@{panic}}
\index{panic@{panic}!logger.h@{logger.h}}
\doxysubsubsection{\texorpdfstring{panic()}{panic()}}
{\footnotesize\ttfamily void panic (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{msg,  }\item[{}]{... }\end{DoxyParamCaption})}



Trigger a kernel panic. 


\begin{DoxyParams}{Parameters}
{\em msg} & Format string \\
\hline
{\em ...} & Variable arguments \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{logger_8c_source_l00183}{183}} of file \mbox{\hyperlink{logger_8c_source}{logger.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00184\ \{}
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordtype}{char}\ buf[128];}
\DoxyCodeLine{00186\ \ \ \ \ va\_list\ v;}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ va\_start(v,\ msg);}
\DoxyCodeLine{00189\ \ \ \ \ vsnprintf\_P(buf,\ \textcolor{keyword}{sizeof}(buf),\ msg,\ v);}
\DoxyCodeLine{00190\ \ \ \ \ va\_end(v);}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \ \ \mbox{\hyperlink{logger_8c_af1a6b0255055e7945b2a3ce17fc8a238}{\_lcd\_log}}(LOG\_PANIC,\ buf);}
\DoxyCodeLine{00193\ \ \ \ \ \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_ad1404aaabd8a723599a89c9b9ca08a65}{serial\_tx}}(\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{00194\ \ \ \ \ strcpy\_P(buf,\ PSTR(\textcolor{stringliteral}{"{}\(\backslash\)n>>>\ RESET\ REQUIRED\(\backslash\)n"{}}));}
\DoxyCodeLine{00195\ \ \ \ \ \mbox{\hyperlink{logger_8c_af1a6b0255055e7945b2a3ce17fc8a238}{\_lcd\_log}}(LOG\_NONE,\ buf);}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{comment}{/*\ Disable\ interrupt\ */}}
\DoxyCodeLine{00198\ \ \ \ \ cli();}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{comment}{/*\ Infinite\ loop\ */}}
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{keywordflow}{for}(;;)}
\DoxyCodeLine{00202\ \ \ \ \ \{}
\DoxyCodeLine{00203\ \ \ \ \ \}}
\DoxyCodeLine{00204\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{logger_8c_source_l00095}{\+\_\+lcd\+\_\+log()}}, and \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_source_l00026}{serial\+\_\+tx()}}.



Referenced by \mbox{\hyperlink{xmem_8c_source_l00065}{\+\_\+memtest()}}, \mbox{\hyperlink{sd_8c_source_l00129}{\+\_\+sd\+\_\+error()}}, \mbox{\hyperlink{sd_8c_source_l00120}{\+\_\+sd\+\_\+timeout()}}, \mbox{\hyperlink{initrd_8c_source_l00020}{initrd\+\_\+load()}}, and \mbox{\hyperlink{spi_8c_source_l00025}{spi\+\_\+xchg()}}.

