\doxysection{atfs/atfs.h File Reference}
\hypertarget{atfs_8h}{}\label{atfs_8h}\index{atfs/atfs.h@{atfs/atfs.h}}


ATFS File System (ATFS = Amazing Technology File System)  


{\ttfamily \#include $<$types.\+h$>$}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{atfs_8h_a92b9c24f31f47693e78b3f27be5905ed}{ATFS\+\_\+\+BLOCK\+\_\+\+SIZE}}~512
\item 
\#define \mbox{\hyperlink{atfs_8h_abef1527b5f0917d3ca73ac7a60435ae3}{ATFS\+\_\+\+SECTOR\+\_\+\+BOOT}}~0
\item 
\#define \mbox{\hyperlink{atfs_8h_a67b9aeb5e631302051d8d928509fd379}{ATFS\+\_\+\+SIZE\+\_\+\+BOOT}}~1
\item 
\#define \mbox{\hyperlink{atfs_8h_a57c1cdf2546cad6e7458aa3f4b19f527}{ATFS\+\_\+\+REVISION}}~1
\item 
\#define \mbox{\hyperlink{atfs_8h_a2ea0d3fde1f46a1b5b3d1ab55b7e3d5b}{ATFS\+\_\+\+OFFSET\+\_\+\+SIGNATURE}}~0
\item 
\#define \mbox{\hyperlink{atfs_8h_afa4c7c978e0253bb3c3e2b6828b49afd}{ATFS\+\_\+\+OFFSET\+\_\+\+REVISION}}~4
\item 
\#define \mbox{\hyperlink{atfs_8h_a7d10d042743a7e70205c1d82f8b3785b}{ATFS\+\_\+\+OFFSET\+\_\+\+INIT\+\_\+\+BLOCK}}~8
\item 
\#define \mbox{\hyperlink{atfs_8h_ac61a5c871bbbb33f1f12c644bb7b105a}{ATFS\+\_\+\+OFFSET\+\_\+\+INIT\+\_\+\+SIZE}}~12
\item 
\#define \mbox{\hyperlink{atfs_8h_a2c43a1d72edfe3950bea1899e0fa11d3}{ATFS\+\_\+\+OFFSET\+\_\+\+ROOT\+\_\+\+BLOCK}}~16
\item 
\#define \mbox{\hyperlink{atfs_8h_acaaa3f9e7dad1ec7fd869ff474ed09e0}{ATFS\+\_\+\+OFFSET\+\_\+\+ROOT\+\_\+\+SIZE}}~20
\item 
\#define \mbox{\hyperlink{atfs_8h_a1a1c9d810524a9b631adf2cf5aaf52e3}{ATFS\+\_\+\+DIR\+\_\+\+OFFSET\+\_\+\+NUM\+\_\+\+ENTRIES}}~0
\item 
\#define \mbox{\hyperlink{atfs_8h_aee9bd507ba70162e1a4a9ae8f53d9ce4}{ATFS\+\_\+\+DIR\+\_\+\+SEPARATOR}}~\textquotesingle{}.\textquotesingle{}
\item 
\#define \mbox{\hyperlink{atfs_8h_aa26cdea9ea502ca73d60b46f6dcdbb9d}{ATFS\+\_\+\+DIR\+\_\+\+ENTRY\+\_\+\+SIZE}}~64
\item 
\#define \mbox{\hyperlink{atfs_8h_af9d9e1ccb68e5a9b9d093092865fb2ea}{ATFS\+\_\+\+MAX\+\_\+\+FILE\+\_\+\+NAME\+\_\+\+LENGTH}}~54
\item 
\#define \mbox{\hyperlink{atfs_8h_a5fb2cbba92503dca0902503f7e5053a7}{ATFS\+\_\+\+DIR\+\_\+\+ENTRY\+\_\+\+OFFSET\+\_\+\+START}}~0
\item 
\#define \mbox{\hyperlink{atfs_8h_add13918b17f428d1aa235dafdd1c13df}{ATFS\+\_\+\+DIR\+\_\+\+ENTRY\+\_\+\+OFFSET\+\_\+\+SIZE}}~4
\item 
\#define \mbox{\hyperlink{atfs_8h_a41c530d07df7214112e721ae454793d5}{ATFS\+\_\+\+DIR\+\_\+\+ENTRY\+\_\+\+OFFSET\+\_\+\+NAME}}~8
\item 
\#define \mbox{\hyperlink{atfs_8h_ac9b5213e9fc612a727edd811963d7131}{ATFS\+\_\+\+DIR\+\_\+\+ENTRY\+\_\+\+OFFSET\+\_\+\+TYPE}}~63
\item 
\#define \mbox{\hyperlink{atfs_8h_ae1b6e15fd706a2eb4f19aefbf5ebbe28}{ATFS\+\_\+\+FREE\+\_\+\+OFFSET\+\_\+\+NEXT}}~504
\item 
\#define \mbox{\hyperlink{atfs_8h_a971ae5c8dad96b5ede6d14bec1359379}{ATFS\+\_\+\+FREE\+\_\+\+OFFSET\+\_\+\+SIZE}}~508
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{atfs_8h_a62a1835558e5a5dfeade49e10d2682b8}{write\+\_\+le\+\_\+32}} (\mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \texorpdfstring{$\ast$}{*}buf, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} val)
\begin{DoxyCompactList}\small\item\em Write a 32-\/bit little endian value to a buffer. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} \mbox{\hyperlink{atfs_8h_a58dff0b38327e2389ba33ca793d2b633}{load\+\_\+le\+\_\+32}} (\mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \texorpdfstring{$\ast$}{*}buf)
\begin{DoxyCompactList}\small\item\em Load a 32-\/bit little endian value from a buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \mbox{\hyperlink{atfs_8h_adf3e5683d8b4681edf588f58e4a02494}{\+\_\+atfs\+\_\+signature}} \mbox{[}$\,$\mbox{]} = \{ \textquotesingle{}A\textquotesingle{}, \textquotesingle{}T\textquotesingle{}, \textquotesingle{}F\textquotesingle{}, \textquotesingle{}S\textquotesingle{} \}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
ATFS File System (ATFS = Amazing Technology File System) 

\begin{DoxyAuthor}{Author}
Anton Tchekov 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
29.\+05.\+2023 
\end{DoxyDate}

\begin{DoxyItemize}
\item All integers are stored as little endian
\item All files are contiguous
\item Filename separator is a dot \textquotesingle{}.\textquotesingle{} not slash \textquotesingle{}/\textquotesingle{}
\item Filenames may only contain lowercase letters (\textquotesingle{}a\textquotesingle{} to \textquotesingle{}z\textquotesingle{}), numbers (\textquotesingle{}0\textquotesingle{} to \textquotesingle{}9\textquotesingle{}) and underscore (\textquotesingle{}\+\_\+\textquotesingle{}) and may not start with a number. File extensions are not supported.
\item Example path\+: \"{}root.\+images.\+vacation.\+me\+\_\+on\+\_\+the\+\_\+beach\"{} 
\end{DoxyItemize}

Definition in file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.



\doxysubsection{Macro Definition Documentation}
\Hypertarget{atfs_8h_a92b9c24f31f47693e78b3f27be5905ed}\label{atfs_8h_a92b9c24f31f47693e78b3f27be5905ed} 
\index{atfs.h@{atfs.h}!ATFS\_BLOCK\_SIZE@{ATFS\_BLOCK\_SIZE}}
\index{ATFS\_BLOCK\_SIZE@{ATFS\_BLOCK\_SIZE}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_BLOCK\_SIZE}{ATFS\_BLOCK\_SIZE}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+BLOCK\+\_\+\+SIZE~512}

Disk sector size (512 bytes) 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00024}{24}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_a41c530d07df7214112e721ae454793d5}\label{atfs_8h_a41c530d07df7214112e721ae454793d5} 
\index{atfs.h@{atfs.h}!ATFS\_DIR\_ENTRY\_OFFSET\_NAME@{ATFS\_DIR\_ENTRY\_OFFSET\_NAME}}
\index{ATFS\_DIR\_ENTRY\_OFFSET\_NAME@{ATFS\_DIR\_ENTRY\_OFFSET\_NAME}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_DIR\_ENTRY\_OFFSET\_NAME}{ATFS\_DIR\_ENTRY\_OFFSET\_NAME}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+DIR\+\_\+\+ENTRY\+\_\+\+OFFSET\+\_\+\+NAME~8}

Byte offset of the entry name 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00078}{78}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_add13918b17f428d1aa235dafdd1c13df}\label{atfs_8h_add13918b17f428d1aa235dafdd1c13df} 
\index{atfs.h@{atfs.h}!ATFS\_DIR\_ENTRY\_OFFSET\_SIZE@{ATFS\_DIR\_ENTRY\_OFFSET\_SIZE}}
\index{ATFS\_DIR\_ENTRY\_OFFSET\_SIZE@{ATFS\_DIR\_ENTRY\_OFFSET\_SIZE}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_DIR\_ENTRY\_OFFSET\_SIZE}{ATFS\_DIR\_ENTRY\_OFFSET\_SIZE}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+DIR\+\_\+\+ENTRY\+\_\+\+OFFSET\+\_\+\+SIZE~4}

Byte offset of the size in blocks 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00075}{75}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_a5fb2cbba92503dca0902503f7e5053a7}\label{atfs_8h_a5fb2cbba92503dca0902503f7e5053a7} 
\index{atfs.h@{atfs.h}!ATFS\_DIR\_ENTRY\_OFFSET\_START@{ATFS\_DIR\_ENTRY\_OFFSET\_START}}
\index{ATFS\_DIR\_ENTRY\_OFFSET\_START@{ATFS\_DIR\_ENTRY\_OFFSET\_START}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_DIR\_ENTRY\_OFFSET\_START}{ATFS\_DIR\_ENTRY\_OFFSET\_START}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+DIR\+\_\+\+ENTRY\+\_\+\+OFFSET\+\_\+\+START~0}

Byte offset of the starting block 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00072}{72}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_ac9b5213e9fc612a727edd811963d7131}\label{atfs_8h_ac9b5213e9fc612a727edd811963d7131} 
\index{atfs.h@{atfs.h}!ATFS\_DIR\_ENTRY\_OFFSET\_TYPE@{ATFS\_DIR\_ENTRY\_OFFSET\_TYPE}}
\index{ATFS\_DIR\_ENTRY\_OFFSET\_TYPE@{ATFS\_DIR\_ENTRY\_OFFSET\_TYPE}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_DIR\_ENTRY\_OFFSET\_TYPE}{ATFS\_DIR\_ENTRY\_OFFSET\_TYPE}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+DIR\+\_\+\+ENTRY\+\_\+\+OFFSET\+\_\+\+TYPE~63}

Byte offset of the entry type 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00081}{81}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_aa26cdea9ea502ca73d60b46f6dcdbb9d}\label{atfs_8h_aa26cdea9ea502ca73d60b46f6dcdbb9d} 
\index{atfs.h@{atfs.h}!ATFS\_DIR\_ENTRY\_SIZE@{ATFS\_DIR\_ENTRY\_SIZE}}
\index{ATFS\_DIR\_ENTRY\_SIZE@{ATFS\_DIR\_ENTRY\_SIZE}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_DIR\_ENTRY\_SIZE}{ATFS\_DIR\_ENTRY\_SIZE}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+DIR\+\_\+\+ENTRY\+\_\+\+SIZE~64}

Size of a directory entry in bytes 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00066}{66}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_a1a1c9d810524a9b631adf2cf5aaf52e3}\label{atfs_8h_a1a1c9d810524a9b631adf2cf5aaf52e3} 
\index{atfs.h@{atfs.h}!ATFS\_DIR\_OFFSET\_NUM\_ENTRIES@{ATFS\_DIR\_OFFSET\_NUM\_ENTRIES}}
\index{ATFS\_DIR\_OFFSET\_NUM\_ENTRIES@{ATFS\_DIR\_OFFSET\_NUM\_ENTRIES}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_DIR\_OFFSET\_NUM\_ENTRIES}{ATFS\_DIR\_OFFSET\_NUM\_ENTRIES}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+DIR\+\_\+\+OFFSET\+\_\+\+NUM\+\_\+\+ENTRIES~0}

Byte offset for number of directory entries field 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00058}{58}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_aee9bd507ba70162e1a4a9ae8f53d9ce4}\label{atfs_8h_aee9bd507ba70162e1a4a9ae8f53d9ce4} 
\index{atfs.h@{atfs.h}!ATFS\_DIR\_SEPARATOR@{ATFS\_DIR\_SEPARATOR}}
\index{ATFS\_DIR\_SEPARATOR@{ATFS\_DIR\_SEPARATOR}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_DIR\_SEPARATOR}{ATFS\_DIR\_SEPARATOR}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+DIR\+\_\+\+SEPARATOR~\textquotesingle{}.\textquotesingle{}}

Character used to separate directories in a path 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00061}{61}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_ae1b6e15fd706a2eb4f19aefbf5ebbe28}\label{atfs_8h_ae1b6e15fd706a2eb4f19aefbf5ebbe28} 
\index{atfs.h@{atfs.h}!ATFS\_FREE\_OFFSET\_NEXT@{ATFS\_FREE\_OFFSET\_NEXT}}
\index{ATFS\_FREE\_OFFSET\_NEXT@{ATFS\_FREE\_OFFSET\_NEXT}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_FREE\_OFFSET\_NEXT}{ATFS\_FREE\_OFFSET\_NEXT}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+FREE\+\_\+\+OFFSET\+\_\+\+NEXT~504}

Byte offset of the Pointer to the next free area 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00085}{85}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_a971ae5c8dad96b5ede6d14bec1359379}\label{atfs_8h_a971ae5c8dad96b5ede6d14bec1359379} 
\index{atfs.h@{atfs.h}!ATFS\_FREE\_OFFSET\_SIZE@{ATFS\_FREE\_OFFSET\_SIZE}}
\index{ATFS\_FREE\_OFFSET\_SIZE@{ATFS\_FREE\_OFFSET\_SIZE}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_FREE\_OFFSET\_SIZE}{ATFS\_FREE\_OFFSET\_SIZE}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+FREE\+\_\+\+OFFSET\+\_\+\+SIZE~508}

Byte offset of the Size of the current free area in blocks 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00088}{88}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_af9d9e1ccb68e5a9b9d093092865fb2ea}\label{atfs_8h_af9d9e1ccb68e5a9b9d093092865fb2ea} 
\index{atfs.h@{atfs.h}!ATFS\_MAX\_FILE\_NAME\_LENGTH@{ATFS\_MAX\_FILE\_NAME\_LENGTH}}
\index{ATFS\_MAX\_FILE\_NAME\_LENGTH@{ATFS\_MAX\_FILE\_NAME\_LENGTH}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_MAX\_FILE\_NAME\_LENGTH}{ATFS\_MAX\_FILE\_NAME\_LENGTH}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+MAX\+\_\+\+FILE\+\_\+\+NAME\+\_\+\+LENGTH~54}

Maximum length of a file name 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00069}{69}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_a7d10d042743a7e70205c1d82f8b3785b}\label{atfs_8h_a7d10d042743a7e70205c1d82f8b3785b} 
\index{atfs.h@{atfs.h}!ATFS\_OFFSET\_INIT\_BLOCK@{ATFS\_OFFSET\_INIT\_BLOCK}}
\index{ATFS\_OFFSET\_INIT\_BLOCK@{ATFS\_OFFSET\_INIT\_BLOCK}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_OFFSET\_INIT\_BLOCK}{ATFS\_OFFSET\_INIT\_BLOCK}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+OFFSET\+\_\+\+INIT\+\_\+\+BLOCK~8}

Offset of init block address in ATFS bootsector 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00044}{44}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_ac61a5c871bbbb33f1f12c644bb7b105a}\label{atfs_8h_ac61a5c871bbbb33f1f12c644bb7b105a} 
\index{atfs.h@{atfs.h}!ATFS\_OFFSET\_INIT\_SIZE@{ATFS\_OFFSET\_INIT\_SIZE}}
\index{ATFS\_OFFSET\_INIT\_SIZE@{ATFS\_OFFSET\_INIT\_SIZE}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_OFFSET\_INIT\_SIZE}{ATFS\_OFFSET\_INIT\_SIZE}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+OFFSET\+\_\+\+INIT\+\_\+\+SIZE~12}

Offset of init program size in ATFS bootsector 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00047}{47}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_afa4c7c978e0253bb3c3e2b6828b49afd}\label{atfs_8h_afa4c7c978e0253bb3c3e2b6828b49afd} 
\index{atfs.h@{atfs.h}!ATFS\_OFFSET\_REVISION@{ATFS\_OFFSET\_REVISION}}
\index{ATFS\_OFFSET\_REVISION@{ATFS\_OFFSET\_REVISION}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_OFFSET\_REVISION}{ATFS\_OFFSET\_REVISION}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+OFFSET\+\_\+\+REVISION~4}

Offset of revision in ATFS bootsector 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00041}{41}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_a2c43a1d72edfe3950bea1899e0fa11d3}\label{atfs_8h_a2c43a1d72edfe3950bea1899e0fa11d3} 
\index{atfs.h@{atfs.h}!ATFS\_OFFSET\_ROOT\_BLOCK@{ATFS\_OFFSET\_ROOT\_BLOCK}}
\index{ATFS\_OFFSET\_ROOT\_BLOCK@{ATFS\_OFFSET\_ROOT\_BLOCK}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_OFFSET\_ROOT\_BLOCK}{ATFS\_OFFSET\_ROOT\_BLOCK}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+OFFSET\+\_\+\+ROOT\+\_\+\+BLOCK~16}

Offset of root block address in ATFS bootsector 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00050}{50}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_acaaa3f9e7dad1ec7fd869ff474ed09e0}\label{atfs_8h_acaaa3f9e7dad1ec7fd869ff474ed09e0} 
\index{atfs.h@{atfs.h}!ATFS\_OFFSET\_ROOT\_SIZE@{ATFS\_OFFSET\_ROOT\_SIZE}}
\index{ATFS\_OFFSET\_ROOT\_SIZE@{ATFS\_OFFSET\_ROOT\_SIZE}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_OFFSET\_ROOT\_SIZE}{ATFS\_OFFSET\_ROOT\_SIZE}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+OFFSET\+\_\+\+ROOT\+\_\+\+SIZE~20}

Offset of root block size in ATFS bootsector 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00053}{53}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_a2ea0d3fde1f46a1b5b3d1ab55b7e3d5b}\label{atfs_8h_a2ea0d3fde1f46a1b5b3d1ab55b7e3d5b} 
\index{atfs.h@{atfs.h}!ATFS\_OFFSET\_SIGNATURE@{ATFS\_OFFSET\_SIGNATURE}}
\index{ATFS\_OFFSET\_SIGNATURE@{ATFS\_OFFSET\_SIGNATURE}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_OFFSET\_SIGNATURE}{ATFS\_OFFSET\_SIGNATURE}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+OFFSET\+\_\+\+SIGNATURE~0}

Offset of signature in ATFS bootsector 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00038}{38}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_a57c1cdf2546cad6e7458aa3f4b19f527}\label{atfs_8h_a57c1cdf2546cad6e7458aa3f4b19f527} 
\index{atfs.h@{atfs.h}!ATFS\_REVISION@{ATFS\_REVISION}}
\index{ATFS\_REVISION@{ATFS\_REVISION}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_REVISION}{ATFS\_REVISION}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+REVISION~1}

Current FS Revision 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00033}{33}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_abef1527b5f0917d3ca73ac7a60435ae3}\label{atfs_8h_abef1527b5f0917d3ca73ac7a60435ae3} 
\index{atfs.h@{atfs.h}!ATFS\_SECTOR\_BOOT@{ATFS\_SECTOR\_BOOT}}
\index{ATFS\_SECTOR\_BOOT@{ATFS\_SECTOR\_BOOT}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_SECTOR\_BOOT}{ATFS\_SECTOR\_BOOT}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+SECTOR\+\_\+\+BOOT~0}

Boot sector offset in blocks 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00027}{27}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.

\Hypertarget{atfs_8h_a67b9aeb5e631302051d8d928509fd379}\label{atfs_8h_a67b9aeb5e631302051d8d928509fd379} 
\index{atfs.h@{atfs.h}!ATFS\_SIZE\_BOOT@{ATFS\_SIZE\_BOOT}}
\index{ATFS\_SIZE\_BOOT@{ATFS\_SIZE\_BOOT}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{ATFS\_SIZE\_BOOT}{ATFS\_SIZE\_BOOT}}
{\footnotesize\ttfamily \#define ATFS\+\_\+\+SIZE\+\_\+\+BOOT~1}

Boot sector size 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00030}{30}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.



\doxysubsection{Function Documentation}
\Hypertarget{atfs_8h_a58dff0b38327e2389ba33ca793d2b633}\label{atfs_8h_a58dff0b38327e2389ba33ca793d2b633} 
\index{atfs.h@{atfs.h}!load\_le\_32@{load\_le\_32}}
\index{load\_le\_32@{load\_le\_32}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{load\_le\_32()}{load\_le\_32()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} load\+\_\+le\+\_\+32 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \texorpdfstring{$\ast$}{*}}]{buf }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Load a 32-\/bit little endian value from a buffer. 


\begin{DoxyParams}{Parameters}
{\em buf} & Buffer to read little endian value from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
32-\/bit result 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{atfs_8h_source_l00115}{115}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00116\ \{}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{comment}{/*\ The\ cast\ is\ important\ for\ systems\ with\ small\ integer\ size\ */}}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}})(buf[0])\ |}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ ((\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}})(buf[1])\ <<\ 8)\ |}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ ((\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}})(buf[2])\ <<\ 16)\ |}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ ((\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}})(buf[3])\ <<\ 24);}
\DoxyCodeLine{00122\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{initrd_8c_source_l00020}{initrd\+\_\+load()}}.

\Hypertarget{atfs_8h_a62a1835558e5a5dfeade49e10d2682b8}\label{atfs_8h_a62a1835558e5a5dfeade49e10d2682b8} 
\index{atfs.h@{atfs.h}!write\_le\_32@{write\_le\_32}}
\index{write\_le\_32@{write\_le\_32}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{write\_le\_32()}{write\_le\_32()}}
{\footnotesize\ttfamily static void write\+\_\+le\+\_\+32 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \texorpdfstring{$\ast$}{*}}]{buf,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{val }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Write a 32-\/bit little endian value to a buffer. 


\begin{DoxyParams}{Parameters}
{\em buf} & Buffer to write to \\
\hline
{\em val} & 32-\/bit value to write as little endian \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{atfs_8h_source_l00101}{101}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00102\ \{}
\DoxyCodeLine{00103\ \ \ \ \ buf[0]\ =\ val\ \&\ 0xFF;}
\DoxyCodeLine{00104\ \ \ \ \ buf[1]\ =\ (val\ >>\ 8)\ \&\ 0xFF;}
\DoxyCodeLine{00105\ \ \ \ \ buf[2]\ =\ (val\ >>\ 16)\ \&\ 0xFF;}
\DoxyCodeLine{00106\ \ \ \ \ buf[3]\ =\ (val\ >>\ 24)\ \&\ 0xFF;}
\DoxyCodeLine{00107\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{mkinitrd_2main_8c_source_l00022}{main()}}.



\doxysubsection{Variable Documentation}
\Hypertarget{atfs_8h_adf3e5683d8b4681edf588f58e4a02494}\label{atfs_8h_adf3e5683d8b4681edf588f58e4a02494} 
\index{atfs.h@{atfs.h}!\_atfs\_signature@{\_atfs\_signature}}
\index{\_atfs\_signature@{\_atfs\_signature}!atfs.h@{atfs.h}}
\doxysubsubsection{\texorpdfstring{\_atfs\_signature}{\_atfs\_signature}}
{\footnotesize\ttfamily const \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \+\_\+atfs\+\_\+signature\mbox{[}$\,$\mbox{]} = \{ \textquotesingle{}A\textquotesingle{}, \textquotesingle{}T\textquotesingle{}, \textquotesingle{}F\textquotesingle{}, \textquotesingle{}S\textquotesingle{} \}\hspace{0.3cm}{\ttfamily [static]}}

FS Signature (bytes 0-\/4) 

Definition at line \mbox{\hyperlink{atfs_8h_source_l00091}{91}} of file \mbox{\hyperlink{atfs_8h_source}{atfs.\+h}}.



Referenced by \mbox{\hyperlink{initrd_8c_source_l00020}{initrd\+\_\+load()}}, and \mbox{\hyperlink{mkinitrd_2main_8c_source_l00022}{main()}}.

