\hypertarget{avr_2platform_8c}{}\doxysection{platform/avr/platform.c File Reference}
\label{avr_2platform_8c}\index{platform/avr/platform.c@{platform/avr/platform.c}}


Platform specific functions for AVR.  


{\ttfamily \#include $<$platform.\+h$>$}\newline
{\ttfamily \#include $<$serial.\+h$>$}\newline
{\ttfamily \#include $<$lcd.\+h$>$}\newline
{\ttfamily \#include $<$xmem.\+h$>$}\newline
{\ttfamily \#include $<$random.\+h$>$}\newline
{\ttfamily \#include $<$timer.\+h$>$}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} \mbox{\hyperlink{avr_2platform_8c_acf57f1ce47563167d4ef978ef1a7ab49}{env\+\_\+memory\+\_\+size}} (void)
\begin{DoxyCompactList}\small\item\em Get the size of the installed memory. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{avr_2platform_8c_ab7ab32a3f56a5eb22459591ded6cb9ec}{env\+\_\+memory\+\_\+read}} (\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} addr, void $\ast$data, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} size)
\begin{DoxyCompactList}\small\item\em Read data from physical memory. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{avr_2platform_8c_a22d4f443fb95499e0acccc1f263e99c7}{env\+\_\+memory\+\_\+write}} (\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} addr, const void $\ast$data, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} size)
\begin{DoxyCompactList}\small\item\em Write data to physical memory. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \mbox{\hyperlink{avr_2platform_8c_ad2f53b0384a6be55e7d9bda545a7c29d}{\+\_\+abgr\+\_\+r}} (\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} color)
\item 
static \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \mbox{\hyperlink{avr_2platform_8c_a276cadc53afdd89636035fe4ad8e8084}{\+\_\+abgr\+\_\+g}} (\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} color)
\item 
static \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \mbox{\hyperlink{avr_2platform_8c_aa2b02d48400d091151747b4a2ee85b7f}{\+\_\+abgr\+\_\+b}} (\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} color)
\item 
static \mbox{\hyperlink{lcd_8h_a9a75b3f378a8d443f893bd9eceb09642}{RGB565}} \mbox{\hyperlink{avr_2platform_8c_a5f91a233a54a301e040fe44f33561ef8}{\+\_\+abgr\+\_\+to\+\_\+rgb565}} (\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} color)
\item 
void \mbox{\hyperlink{avr_2platform_8c_ac453e2fa7f27ee825e5fd898bbce47ce}{env\+\_\+gfx\+\_\+rect}} (\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} x, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} y, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} w, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} h, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} color)
\begin{DoxyCompactList}\small\item\em Draw rectangle. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{avr_2platform_8c_a5ec534a76e1a69d2f4667abe4f7f8ff1}{env\+\_\+gfx\+\_\+image\+\_\+rgba}} (\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} x, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} y, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} w, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} h, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} addr)
\begin{DoxyCompactList}\small\item\em Draw an RGBA image. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{avr_2platform_8c_a6ac0a4bc195845f77f7392de411499b8}{env\+\_\+gfx\+\_\+image\+\_\+rgb}} (\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} x, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} y, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} w, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} h, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} addr)
\begin{DoxyCompactList}\small\item\em Draw an RGB image. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{avr_2platform_8c_a6d50f649582cee2b61d52a87fbd0e05f}{env\+\_\+gfx\+\_\+image\+\_\+rgb565}} (\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} x, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} y, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} w, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} h, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} addr)
\begin{DoxyCompactList}\small\item\em Draw an RGB565 image. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{avr_2platform_8c_a55913cd59e2637b9dcc8a17ef6276f77}{env\+\_\+gfx\+\_\+image\+\_\+grayscale}} (\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} x, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} y, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} w, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} h, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} fg, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} bg, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} addr)
\begin{DoxyCompactList}\small\item\em Draw a colored grayscale image. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{avr_2platform_8c_a0ffe1491054827b5d5f647eef1ad596f}{env\+\_\+gfx\+\_\+image\+\_\+1bit}} (\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} x, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} y, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} w, \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} h, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} fg, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} bg, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} addr)
\begin{DoxyCompactList}\small\item\em Draw a colored 1-\/bit image. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{avr_2platform_8c_a10a5a2d20838f25eba5db18f43f94158}{env\+\_\+serial\+\_\+write}} (const void $\ast$data, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} len)
\begin{DoxyCompactList}\small\item\em Send data over the serial interface. \end{DoxyCompactList}\item 
\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} \mbox{\hyperlink{avr_2platform_8c_ac25a788a06cf437544e5edaf5faf4e2f}{env\+\_\+random\+\_\+get}} (void)
\begin{DoxyCompactList}\small\item\em Generate a pseudo-\/random number. \end{DoxyCompactList}\item 
\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} \mbox{\hyperlink{avr_2platform_8c_a0be14c6c6a205ee06b64f11184884e5e}{env\+\_\+millis}} (void)
\begin{DoxyCompactList}\small\item\em Get the number of milliseconds since boot. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Platform specific functions for AVR. 

\begin{DoxyAuthor}{Author}
Anton Tchekov 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
22.\+05.\+2023 
\end{DoxyDate}


Definition in file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{avr_2platform_8c_aa2b02d48400d091151747b4a2ee85b7f}\label{avr_2platform_8c_aa2b02d48400d091151747b4a2ee85b7f}} 
\index{platform.c@{platform.c}!\_abgr\_b@{\_abgr\_b}}
\index{\_abgr\_b@{\_abgr\_b}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{\_abgr\_b()}{\_abgr\_b()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \+\_\+abgr\+\_\+b (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{color }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

Extract blue channel from ABGR color 

Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00043}{43}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00043\ \{\ \textcolor{keywordflow}{return}\ (color\ >>\ \ 8)\ \&\ 0xFF;\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{avr_2platform_8c_source_l00046}{\+\_\+abgr\+\_\+to\+\_\+rgb565()}}.

\mbox{\Hypertarget{avr_2platform_8c_a276cadc53afdd89636035fe4ad8e8084}\label{avr_2platform_8c_a276cadc53afdd89636035fe4ad8e8084}} 
\index{platform.c@{platform.c}!\_abgr\_g@{\_abgr\_g}}
\index{\_abgr\_g@{\_abgr\_g}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{\_abgr\_g()}{\_abgr\_g()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \+\_\+abgr\+\_\+g (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{color }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

Extract green channel from ABGR color 

Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00040}{40}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00040\ \{\ \textcolor{keywordflow}{return}\ (color\ >>\ 16)\ \&\ 0xFF;\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{avr_2platform_8c_source_l00046}{\+\_\+abgr\+\_\+to\+\_\+rgb565()}}.

\mbox{\Hypertarget{avr_2platform_8c_ad2f53b0384a6be55e7d9bda545a7c29d}\label{avr_2platform_8c_ad2f53b0384a6be55e7d9bda545a7c29d}} 
\index{platform.c@{platform.c}!\_abgr\_r@{\_abgr\_r}}
\index{\_abgr\_r@{\_abgr\_r}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{\_abgr\_r()}{\_abgr\_r()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \+\_\+abgr\+\_\+r (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{color }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

Extract red channel from ABGR color 

Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00037}{37}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00037\ \{\ \textcolor{keywordflow}{return}\ (color\ >>\ 24)\ \&\ 0xFF;\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{avr_2platform_8c_source_l00046}{\+\_\+abgr\+\_\+to\+\_\+rgb565()}}.

\mbox{\Hypertarget{avr_2platform_8c_a5f91a233a54a301e040fe44f33561ef8}\label{avr_2platform_8c_a5f91a233a54a301e040fe44f33561ef8}} 
\index{platform.c@{platform.c}!\_abgr\_to\_rgb565@{\_abgr\_to\_rgb565}}
\index{\_abgr\_to\_rgb565@{\_abgr\_to\_rgb565}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{\_abgr\_to\_rgb565()}{\_abgr\_to\_rgb565()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{lcd_8h_a9a75b3f378a8d443f893bd9eceb09642}{RGB565}} \+\_\+abgr\+\_\+to\+\_\+rgb565 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{color }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Convert ABGR8888 to RGB565 

Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00046}{46}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00047\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{lcd_8c_a9077e33ab871138bf5da6043bfe48266}{lcd\_color}}(}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{avr_2platform_8c_ad2f53b0384a6be55e7d9bda545a7c29d}{\_abgr\_r}}(color),}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{avr_2platform_8c_a276cadc53afdd89636035fe4ad8e8084}{\_abgr\_g}}(color),}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{avr_2platform_8c_aa2b02d48400d091151747b4a2ee85b7f}{\_abgr\_b}}(color));}
\DoxyCodeLine{00052\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{avr_2platform_8c_source_l00043}{\+\_\+abgr\+\_\+b()}}, \mbox{\hyperlink{avr_2platform_8c_source_l00040}{\+\_\+abgr\+\_\+g()}}, \mbox{\hyperlink{avr_2platform_8c_source_l00037}{\+\_\+abgr\+\_\+r()}}, and \mbox{\hyperlink{lcd_8c_source_l00462}{lcd\+\_\+color()}}.



Referenced by \mbox{\hyperlink{avr_2platform_8c_source_l00054}{env\+\_\+gfx\+\_\+rect()}}.

\mbox{\Hypertarget{avr_2platform_8c_a0ffe1491054827b5d5f647eef1ad596f}\label{avr_2platform_8c_a0ffe1491054827b5d5f647eef1ad596f}} 
\index{platform.c@{platform.c}!env\_gfx\_image\_1bit@{env\_gfx\_image\_1bit}}
\index{env\_gfx\_image\_1bit@{env\_gfx\_image\_1bit}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{env\_gfx\_image\_1bit()}{env\_gfx\_image\_1bit()}}
{\footnotesize\ttfamily void env\+\_\+gfx\+\_\+image\+\_\+1bit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{x,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{y,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{w,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{h,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{addr,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{fg,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{bg }\end{DoxyParamCaption})}



Draw a colored 1-\/bit image. 


\begin{DoxyParams}{Parameters}
{\em x} & X-\/\+Coordinate \\
\hline
{\em y} & Y-\/\+Coordinate \\
\hline
{\em w} & Width \\
\hline
{\em h} & Height \\
\hline
{\em addr} & Image memory address \\
\hline
{\em fg} & ABGR foreground color \\
\hline
{\em bg} & ABGR background color \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00094}{94}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00096\ \{}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00098\ \textcolor{comment}{\ \ \ \ lcd\_image\_1bit(}}
\DoxyCodeLine{00099\ \textcolor{comment}{\ \ \ \ \ \ \ \ u16\ x,\ u16\ y,\ u16\ w,\ u16\ h,\ RGB565\ fg,\ RGB565\ bg,\ u32\ addr);}}
\DoxyCodeLine{00100\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00101\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{avr_2platform_8c_a55913cd59e2637b9dcc8a17ef6276f77}\label{avr_2platform_8c_a55913cd59e2637b9dcc8a17ef6276f77}} 
\index{platform.c@{platform.c}!env\_gfx\_image\_grayscale@{env\_gfx\_image\_grayscale}}
\index{env\_gfx\_image\_grayscale@{env\_gfx\_image\_grayscale}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{env\_gfx\_image\_grayscale()}{env\_gfx\_image\_grayscale()}}
{\footnotesize\ttfamily void env\+\_\+gfx\+\_\+image\+\_\+grayscale (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{x,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{y,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{w,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{h,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{addr,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{fg,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{bg }\end{DoxyParamCaption})}



Draw a colored grayscale image. 


\begin{DoxyParams}{Parameters}
{\em x} & X-\/\+Coordinate \\
\hline
{\em y} & Y-\/\+Coordinate \\
\hline
{\em w} & Width \\
\hline
{\em h} & Height \\
\hline
{\em addr} & Image memory address \\
\hline
{\em fg} & ABGR foreground color \\
\hline
{\em bg} & ABGR background color \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00085}{85}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00087\ \{}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00089\ \textcolor{comment}{\ \ \ \ lcd\_image\_grayscale(}}
\DoxyCodeLine{00090\ \textcolor{comment}{\ \ \ \ \ \ \ \ u16\ x,\ u16\ y,\ u16\ w,\ u16\ h,\ RGB565\ fg,\ RGB565\ bg,\ u32\ addr);}}
\DoxyCodeLine{00091\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00092\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{avr_2platform_8c_a6ac0a4bc195845f77f7392de411499b8}\label{avr_2platform_8c_a6ac0a4bc195845f77f7392de411499b8}} 
\index{platform.c@{platform.c}!env\_gfx\_image\_rgb@{env\_gfx\_image\_rgb}}
\index{env\_gfx\_image\_rgb@{env\_gfx\_image\_rgb}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{env\_gfx\_image\_rgb()}{env\_gfx\_image\_rgb()}}
{\footnotesize\ttfamily void env\+\_\+gfx\+\_\+image\+\_\+rgb (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{x,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{y,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{w,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{h,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{addr }\end{DoxyParamCaption})}



Draw an RGB image. 


\begin{DoxyParams}{Parameters}
{\em x} & X-\/\+Coordinate \\
\hline
{\em y} & Y-\/\+Coordinate \\
\hline
{\em w} & Width \\
\hline
{\em h} & Height \\
\hline
{\em addr} & Image memory address \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00071}{71}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00072\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00074\ \textcolor{comment}{\ \ \ \ lcd\_image\_rgb(u16\ x,\ u16\ y,\ u16\ w,\ u16\ h,\ u32\ addr);}}
\DoxyCodeLine{00075\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00076\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{avr_2platform_8c_a6d50f649582cee2b61d52a87fbd0e05f}\label{avr_2platform_8c_a6d50f649582cee2b61d52a87fbd0e05f}} 
\index{platform.c@{platform.c}!env\_gfx\_image\_rgb565@{env\_gfx\_image\_rgb565}}
\index{env\_gfx\_image\_rgb565@{env\_gfx\_image\_rgb565}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{env\_gfx\_image\_rgb565()}{env\_gfx\_image\_rgb565()}}
{\footnotesize\ttfamily void env\+\_\+gfx\+\_\+image\+\_\+rgb565 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{x,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{y,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{w,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{h,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{addr }\end{DoxyParamCaption})}



Draw an RGB565 image. 


\begin{DoxyParams}{Parameters}
{\em x} & X-\/\+Coordinate \\
\hline
{\em y} & Y-\/\+Coordinate \\
\hline
{\em w} & Width \\
\hline
{\em h} & Height \\
\hline
{\em addr} & Image memory address \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00078}{78}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00079\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00081\ \textcolor{comment}{\ \ \ \ lcd\_image\_rgb565(u16\ x,\ u16\ y,\ u16\ w,\ u16\ h,\ u32\ addr);}}
\DoxyCodeLine{00082\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00083\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{avr_2platform_8c_a5ec534a76e1a69d2f4667abe4f7f8ff1}\label{avr_2platform_8c_a5ec534a76e1a69d2f4667abe4f7f8ff1}} 
\index{platform.c@{platform.c}!env\_gfx\_image\_rgba@{env\_gfx\_image\_rgba}}
\index{env\_gfx\_image\_rgba@{env\_gfx\_image\_rgba}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{env\_gfx\_image\_rgba()}{env\_gfx\_image\_rgba()}}
{\footnotesize\ttfamily void env\+\_\+gfx\+\_\+image\+\_\+rgba (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{x,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{y,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{w,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{h,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{addr }\end{DoxyParamCaption})}



Draw an RGBA image. 


\begin{DoxyParams}{Parameters}
{\em x} & X-\/\+Coordinate \\
\hline
{\em y} & Y-\/\+Coordinate \\
\hline
{\em w} & Width \\
\hline
{\em h} & Height \\
\hline
{\em addr} & Image memory address \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00059}{59}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00060\ \{}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00062\ \textcolor{comment}{\ \ \ \ xmem\_read(args[0],\ \&r,\ sizeof(r));}}
\DoxyCodeLine{00063\ \textcolor{comment}{}}
\DoxyCodeLine{00064\ \textcolor{comment}{\ \ \ \ fg\ =\ \_abgr\_to\_rgb565(args[2]);}}
\DoxyCodeLine{00065\ \textcolor{comment}{\ \ \ \ bg\ =\ \_abgr\_to\_rgb565(args[3]);}}
\DoxyCodeLine{00066\ \textcolor{comment}{}}
\DoxyCodeLine{00067\ \textcolor{comment}{\ \ \ \ lcd\_image\_rgba(u16\ x,\ u16\ y,\ u16\ w,\ u16\ h,\ u32\ addr);}}
\DoxyCodeLine{00068\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00069\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{avr_2platform_8c_ac453e2fa7f27ee825e5fd898bbce47ce}\label{avr_2platform_8c_ac453e2fa7f27ee825e5fd898bbce47ce}} 
\index{platform.c@{platform.c}!env\_gfx\_rect@{env\_gfx\_rect}}
\index{env\_gfx\_rect@{env\_gfx\_rect}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{env\_gfx\_rect()}{env\_gfx\_rect()}}
{\footnotesize\ttfamily void env\+\_\+gfx\+\_\+rect (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{x,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{y,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{w,  }\item[{\mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{h,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{color }\end{DoxyParamCaption})}



Draw rectangle. 


\begin{DoxyParams}{Parameters}
{\em x} & X-\/\+Coordinate \\
\hline
{\em y} & Y-\/\+Coordinate \\
\hline
{\em w} & Width \\
\hline
{\em h} & Height \\
\hline
{\em color} & Fill color \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00054}{54}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00055\ \{}
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{lcd_8c_a010620f3d9dc0536cc9551d7aabd8d17}{lcd\_rect}}(x,\ y,\ w,\ h,\ \mbox{\hyperlink{avr_2platform_8c_a5f91a233a54a301e040fe44f33561ef8}{\_abgr\_to\_rgb565}}(color));}
\DoxyCodeLine{00057\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{avr_2platform_8c_source_l00046}{\+\_\+abgr\+\_\+to\+\_\+rgb565()}}, and \mbox{\hyperlink{lcd_8c_source_l00446}{lcd\+\_\+rect()}}.

\mbox{\Hypertarget{avr_2platform_8c_ab7ab32a3f56a5eb22459591ded6cb9ec}\label{avr_2platform_8c_ab7ab32a3f56a5eb22459591ded6cb9ec}} 
\index{platform.c@{platform.c}!env\_memory\_read@{env\_memory\_read}}
\index{env\_memory\_read@{env\_memory\_read}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{env\_memory\_read()}{env\_memory\_read()}}
{\footnotesize\ttfamily void env\+\_\+memory\+\_\+read (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{addr,  }\item[{void $\ast$}]{data,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{size }\end{DoxyParamCaption})}



Read data from physical memory. 


\begin{DoxyParams}{Parameters}
{\em addr} & Start address \\
\hline
{\em data} & Data buffer \\
\hline
{\em size} & Size in bytes \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00024}{24}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00025\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \mbox{\hyperlink{xmem_8c_ac439854f5a1e0bd1b2f52c1028fc900a}{xmem\_read}}(addr,\ data,\ size);}
\DoxyCodeLine{00027\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{xmem_8c_source_l00286}{xmem\+\_\+read()}}.



Referenced by \mbox{\hyperlink{emulator_8c_source_l00244}{memory\+\_\+lb()}}, \mbox{\hyperlink{emulator_8c_source_l00304}{memory\+\_\+lbu()}}, \mbox{\hyperlink{emulator_8c_source_l00264}{memory\+\_\+lh()}}, \mbox{\hyperlink{emulator_8c_source_l00324}{memory\+\_\+lhu()}}, and \mbox{\hyperlink{emulator_8c_source_l00284}{memory\+\_\+lw()}}.

\mbox{\Hypertarget{avr_2platform_8c_acf57f1ce47563167d4ef978ef1a7ab49}\label{avr_2platform_8c_acf57f1ce47563167d4ef978ef1a7ab49}} 
\index{platform.c@{platform.c}!env\_memory\_size@{env\_memory\_size}}
\index{env\_memory\_size@{env\_memory\_size}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{env\_memory\_size()}{env\_memory\_size()}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} env\+\_\+memory\+\_\+size (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get the size of the installed memory. 

\begin{DoxyReturn}{Returns}
The size of the memory in bytes 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00019}{19}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00020\ \{}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{xmem_8c_a4164d03f7168bc7c7d3ce75d27bc6547}{xmem\_size}}();}
\DoxyCodeLine{00022\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{xmem_8c_source_l00320}{xmem\+\_\+size()}}.



Referenced by \mbox{\hyperlink{emulator_8c_source_l00117}{kernel\+\_\+init()}}.

\mbox{\Hypertarget{avr_2platform_8c_a22d4f443fb95499e0acccc1f263e99c7}\label{avr_2platform_8c_a22d4f443fb95499e0acccc1f263e99c7}} 
\index{platform.c@{platform.c}!env\_memory\_write@{env\_memory\_write}}
\index{env\_memory\_write@{env\_memory\_write}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{env\_memory\_write()}{env\_memory\_write()}}
{\footnotesize\ttfamily void env\+\_\+memory\+\_\+write (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{addr,  }\item[{const void $\ast$}]{data,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{size }\end{DoxyParamCaption})}



Write data to physical memory. 


\begin{DoxyParams}{Parameters}
{\em addr} & Start address \\
\hline
{\em data} & Data buffer \\
\hline
{\em size} & Size in bytes \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00029}{29}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00030\ \{}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{xmem_8c_afef9c92490450d98f177f53f2b174f20}{xmem\_write}}(addr,\ data,\ size);}
\DoxyCodeLine{00032\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{xmem_8c_source_l00297}{xmem\+\_\+write()}}.



Referenced by \mbox{\hyperlink{emulator_8c_source_l00187}{memory\+\_\+sb()}}, \mbox{\hyperlink{emulator_8c_source_l00206}{memory\+\_\+sh()}}, and \mbox{\hyperlink{emulator_8c_source_l00225}{memory\+\_\+sw()}}.

\mbox{\Hypertarget{avr_2platform_8c_a0be14c6c6a205ee06b64f11184884e5e}\label{avr_2platform_8c_a0be14c6c6a205ee06b64f11184884e5e}} 
\index{platform.c@{platform.c}!env\_millis@{env\_millis}}
\index{env\_millis@{env\_millis}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{env\_millis()}{env\_millis()}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} env\+\_\+millis (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get the number of milliseconds since boot. 

\begin{DoxyReturn}{Returns}
The number of milliseconds 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00124}{124}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00125\ \{}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{timer_8c_aee701eeb891b748ed2e12da119816882}{millis}}();}
\DoxyCodeLine{00127\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{timer_8c_source_l00036}{millis()}}.

\mbox{\Hypertarget{avr_2platform_8c_ac25a788a06cf437544e5edaf5faf4e2f}\label{avr_2platform_8c_ac25a788a06cf437544e5edaf5faf4e2f}} 
\index{platform.c@{platform.c}!env\_random\_get@{env\_random\_get}}
\index{env\_random\_get@{env\_random\_get}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{env\_random\_get()}{env\_random\_get()}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} env\+\_\+random\+\_\+get (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Generate a pseudo-\/random number. 

\begin{DoxyReturn}{Returns}
The number 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00117}{117}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00118\ \{}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{random_8c_acd70dc015ebddf28c8650af3a91480f8}{random\_get}}();}
\DoxyCodeLine{00120\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{random_8c_source_l00020}{random\+\_\+get()}}.

\mbox{\Hypertarget{avr_2platform_8c_a10a5a2d20838f25eba5db18f43f94158}\label{avr_2platform_8c_a10a5a2d20838f25eba5db18f43f94158}} 
\index{platform.c@{platform.c}!env\_serial\_write@{env\_serial\_write}}
\index{env\_serial\_write@{env\_serial\_write}!platform.c@{platform.c}}
\doxysubsubsection{\texorpdfstring{env\_serial\_write()}{env\_serial\_write()}}
{\footnotesize\ttfamily void env\+\_\+serial\+\_\+write (\begin{DoxyParamCaption}\item[{const void $\ast$}]{data,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{len }\end{DoxyParamCaption})}



Send data over the serial interface. 


\begin{DoxyParams}{Parameters}
{\em data} & The data to send \\
\hline
{\em len} & The number of bytes \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00105}{105}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00106\ \{}
\DoxyCodeLine{00107\ \ \ \ \ \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}\ i;}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *data8\ =\ data;}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordflow}{for}(i\ =\ 0;\ i\ <\ len;\ ++i)}
\DoxyCodeLine{00110\ \ \ \ \ \{}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_ad1404aaabd8a723599a89c9b9ca08a65}{serial\_tx}}(data8[i]);}
\DoxyCodeLine{00112\ \ \ \ \ \}}
\DoxyCodeLine{00113\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_source_l00026}{serial\+\_\+tx()}}.

