\doxysection{platform/avr/ps2/ps2.h File Reference}
\hypertarget{ps2_8h}{}\label{ps2_8h}\index{platform/avr/ps2/ps2.h@{platform/avr/ps2/ps2.h}}


PS/2 Keyboard Driver with Interrupts.  


{\ttfamily \#include $<$types.\+h$>$}\newline
{\ttfamily \#include $<$avr/io.\+h$>$}\newline
{\ttfamily \#include $<$avr/interrupt.\+h$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{ps2_8h_af0a83745146d1ce5fe4ef4372520e372}{ps2\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Initialize PS/2 keyboard driver and interrupt, Interrupts must be enabled afterwards using {\ttfamily sei()}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
PS/2 Keyboard Driver with Interrupts. 

\begin{DoxyAuthor}{Author}
Haron Nazari, Anton Tchekov 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
16.\+05.\+2023 
\end{DoxyDate}


Definition in file \mbox{\hyperlink{ps2_8h_source}{ps2.\+h}}.



\doxysubsection{Function Documentation}
\Hypertarget{ps2_8h_af0a83745146d1ce5fe4ef4372520e372}\label{ps2_8h_af0a83745146d1ce5fe4ef4372520e372} 
\index{ps2.h@{ps2.h}!ps2\_init@{ps2\_init}}
\index{ps2\_init@{ps2\_init}!ps2.h@{ps2.h}}
\doxysubsubsection{\texorpdfstring{ps2\_init()}{ps2\_init()}}
{\footnotesize\ttfamily void ps2\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initialize PS/2 keyboard driver and interrupt, Interrupts must be enabled afterwards using {\ttfamily sei()}. 



Definition at line \mbox{\hyperlink{ps2_8c_source_l00172}{172}} of file \mbox{\hyperlink{ps2_8c_source}{ps2.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00173\ \{}
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{comment}{/*\ Enable\ external\ interrupt\ 0\ (PORTB2)\ */}}
\DoxyCodeLine{00175\ \ \ \ \ EIMSK\ |=\ (1\ <<\ \mbox{\hyperlink{gpio_8h_a34ea49db58f76f1619e460765995f599}{PS2\_EXT\_INTERRUPT}});}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{comment}{/*\ Trigger\ interrupt\ on\ falling\ edge\ */}}
\DoxyCodeLine{00178\ \ \ \ \ EICRA\ |=\ (1\ <<\ ISC01);}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \mbox{\hyperlink{logger_8c_a60bd636ef160c97eb51cf31be5954ba2}{log\_boot\_P}}(LOG\_INIT,\ PSTR(\textcolor{stringliteral}{"{}PS/2\ keyboard\ initialized"{}}));}
\DoxyCodeLine{00181\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{logger_8c_source_l00170}{log\+\_\+boot\+\_\+\+P()}}, and \mbox{\hyperlink{gpio_8h_source_l00129}{PS2\+\_\+\+EXT\+\_\+\+INTERRUPT}}.



Referenced by \mbox{\hyperlink{platform_2avr_2main_8c_source_l00029}{main()}}.

