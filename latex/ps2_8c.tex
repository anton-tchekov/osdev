\doxysection{platform/avr/ps2/ps2.c File Reference}
\hypertarget{ps2_8c}{}\label{ps2_8c}\index{platform/avr/ps2/ps2.c@{platform/avr/ps2/ps2.c}}
{\ttfamily \#include $<$ps2.\+h$>$}\newline
{\ttfamily \#include $<$logger.\+h$>$}\newline
{\ttfamily \#include $<$gpio.\+h$>$}\newline
{\ttfamily \#include $<$avr/pgmspace.\+h$>$}\newline
{\ttfamily \#include $<$keys.\+h$>$}\newline
{\ttfamily \#include $<$keyboard-\/shared.\+h$>$}\newline
{\ttfamily \#include $<$layout.\+h$>$}\newline
{\ttfamily \#include $<$emulator.\+h$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{ps2_8c_af0a83745146d1ce5fe4ef4372520e372}{ps2\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Initialize PS/2 keyboard driver and interrupt, Interrupts must be enabled afterwards using {\ttfamily sei()}. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{ps2_8c_a55b59e916e2a43fe71ec584c7f2810b6}{ps2\+\_\+event}} (\mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} byte)
\begin{DoxyCompactList}\small\item\em Event function that is called when a byte is received from the keyboard. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \mbox{\hyperlink{ps2_8c_ad3a3737fe89541c8d9a4d1e2720352e6}{\+\_\+ps2\+\_\+data\+\_\+read}} (void)
\begin{DoxyCompactList}\small\item\em Get the PS/2 data line state. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{ps2_8c_a34ac3f4ba7a6a188c75b585f69bdded6}{\+\_\+ps2\+\_\+clock\+\_\+falling\+\_\+edge}} (void)
\begin{DoxyCompactList}\small\item\em Called when a falling edge is detected on the PS/2 clock pin. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ps2_8c_afea150fcd685610cb9f7672fce361e53}{ISR}} (INT0\+\_\+vect)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \mbox{\hyperlink{ps2_8c_aa117bb08f41b6564dbe438b3648d9ae7}{\+\_\+byte}}
\item 
static \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \mbox{\hyperlink{ps2_8c_aa4a39acdc6c6f92da3da447491d71b72}{\+\_\+bit}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyAuthor}{Author}
Haron Nazari, Anton Tchekov 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
16.\+05.\+2023 
\end{DoxyDate}


Definition in file \mbox{\hyperlink{ps2_8c_source}{ps2.\+c}}.



\doxysubsection{Function Documentation}
\Hypertarget{ps2_8c_a34ac3f4ba7a6a188c75b585f69bdded6}\label{ps2_8c_a34ac3f4ba7a6a188c75b585f69bdded6} 
\index{ps2.c@{ps2.c}!\_ps2\_clock\_falling\_edge@{\_ps2\_clock\_falling\_edge}}
\index{\_ps2\_clock\_falling\_edge@{\_ps2\_clock\_falling\_edge}!ps2.c@{ps2.c}}
\doxysubsubsection{\texorpdfstring{\_ps2\_clock\_falling\_edge()}{\_ps2\_clock\_falling\_edge()}}
{\footnotesize\ttfamily static void \+\_\+ps2\+\_\+clock\+\_\+falling\+\_\+edge (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Called when a falling edge is detected on the PS/2 clock pin. 



Definition at line \mbox{\hyperlink{ps2_8c_source_l00407}{407}} of file \mbox{\hyperlink{ps2_8c_source}{ps2.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00408\ \{}
\DoxyCodeLine{00409\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{ps2_8c_aa4a39acdc6c6f92da3da447491d71b72}{\_bit}}\ ==\ 0)}
\DoxyCodeLine{00410\ \ \ \ \ \{}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Start\ bit,\ reset\ byte\ */}}
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ps2_8c_aa117bb08f41b6564dbe438b3648d9ae7}{\_byte}}\ =\ 0;}
\DoxyCodeLine{00413\ \ \ \ \ \}}
\DoxyCodeLine{00414\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(\mbox{\hyperlink{ps2_8c_aa4a39acdc6c6f92da3da447491d71b72}{\_bit}}\ >=\ 1\ \&\&\ \mbox{\hyperlink{ps2_8c_aa4a39acdc6c6f92da3da447491d71b72}{\_bit}}\ <=\ 8)}
\DoxyCodeLine{00415\ \ \ \ \ \{}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Data\ bit\ */}}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{ps2_8c_ad3a3737fe89541c8d9a4d1e2720352e6}{\_ps2\_data\_read}}())}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Set\ bit\ */}}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ps2_8c_aa117bb08f41b6564dbe438b3648d9ae7}{\_byte}}\ |=\ (1\ <<\ (\mbox{\hyperlink{ps2_8c_aa4a39acdc6c6f92da3da447491d71b72}{\_bit}}\ -\/\ 1));}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00422\ \ \ \ \ \}}
\DoxyCodeLine{00423\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(\mbox{\hyperlink{ps2_8c_aa4a39acdc6c6f92da3da447491d71b72}{\_bit}}\ ==\ 9)}
\DoxyCodeLine{00424\ \ \ \ \ \{}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Ignore\ parity\ bit\ */}}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ TODO:\ Check\ parity\ bit\ */}}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ps2_8c_a55b59e916e2a43fe71ec584c7f2810b6}{ps2\_event}}(\mbox{\hyperlink{ps2_8c_aa117bb08f41b6564dbe438b3648d9ae7}{\_byte}});}
\DoxyCodeLine{00428\ \ \ \ \ \}}
\DoxyCodeLine{00429\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(\mbox{\hyperlink{ps2_8c_aa4a39acdc6c6f92da3da447491d71b72}{\_bit}}\ ==\ 10)}
\DoxyCodeLine{00430\ \ \ \ \ \{}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Stop\ bit,\ reset\ bit\ counter\ */}}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ps2_8c_aa4a39acdc6c6f92da3da447491d71b72}{\_bit}}\ =\ 0;}
\DoxyCodeLine{00433\ }
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Return\ immediately\ so\ it\ stays\ 0\ */}}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00436\ \ \ \ \ \}}
\DoxyCodeLine{00437\ }
\DoxyCodeLine{00438\ \ \ \ \ ++\mbox{\hyperlink{ps2_8c_aa4a39acdc6c6f92da3da447491d71b72}{\_bit}};}
\DoxyCodeLine{00439\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{ps2_8c_source_l00170}{\+\_\+bit}}, \mbox{\hyperlink{ps2_8c_source_l00160}{\+\_\+byte}}, \mbox{\hyperlink{ps2_8c_source_l00398}{\+\_\+ps2\+\_\+data\+\_\+read()}}, and \mbox{\hyperlink{ps2_8c_source_l00189}{ps2\+\_\+event()}}.



Referenced by \mbox{\hyperlink{ps2_8c_source_l00442}{ISR()}}.

\Hypertarget{ps2_8c_ad3a3737fe89541c8d9a4d1e2720352e6}\label{ps2_8c_ad3a3737fe89541c8d9a4d1e2720352e6} 
\index{ps2.c@{ps2.c}!\_ps2\_data\_read@{\_ps2\_data\_read}}
\index{\_ps2\_data\_read@{\_ps2\_data\_read}!ps2.c@{ps2.c}}
\doxysubsubsection{\texorpdfstring{\_ps2\_data\_read()}{\_ps2\_data\_read()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \+\_\+ps2\+\_\+data\+\_\+read (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Get the PS/2 data line state. 

\begin{DoxyReturn}{Returns}
0 if LOW, non-\/zero if HIGH 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ps2_8c_source_l00398}{398}} of file \mbox{\hyperlink{ps2_8c_source}{ps2.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00399\ \{}
\DoxyCodeLine{00400\ \ \ \ \ \textcolor{comment}{/*\ Read\ keyboard\ data\ pin\ */}}
\DoxyCodeLine{00401\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{gpio_8h_a85a6dfc067aff42f3ff68450bc72e728}{PS2\_DATA\_PORT\_IN}}\ \&\ (1\ <<\ \mbox{\hyperlink{gpio_8h_a9de0e05d896f00ad46cc166cd0d0146b}{PS2\_DATA\_PIN}});}
\DoxyCodeLine{00402\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{gpio_8h_source_l00142}{PS2\+\_\+\+DATA\+\_\+\+PIN}}, and \mbox{\hyperlink{gpio_8h_source_l00136}{PS2\+\_\+\+DATA\+\_\+\+PORT\+\_\+\+IN}}.



Referenced by \mbox{\hyperlink{ps2_8c_source_l00407}{\+\_\+ps2\+\_\+clock\+\_\+falling\+\_\+edge()}}.

\Hypertarget{ps2_8c_afea150fcd685610cb9f7672fce361e53}\label{ps2_8c_afea150fcd685610cb9f7672fce361e53} 
\index{ps2.c@{ps2.c}!ISR@{ISR}}
\index{ISR@{ISR}!ps2.c@{ps2.c}}
\doxysubsubsection{\texorpdfstring{ISR()}{ISR()}}
{\footnotesize\ttfamily ISR (\begin{DoxyParamCaption}\item[{INT0\+\_\+vect}]{ }\end{DoxyParamCaption})}

External interrupt 

Definition at line \mbox{\hyperlink{ps2_8c_source_l00442}{442}} of file \mbox{\hyperlink{ps2_8c_source}{ps2.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00443\ \{}
\DoxyCodeLine{00444\ \ \ \ \ \mbox{\hyperlink{ps2_8c_a34ac3f4ba7a6a188c75b585f69bdded6}{\_ps2\_clock\_falling\_edge}}();}
\DoxyCodeLine{00445\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{ps2_8c_source_l00407}{\+\_\+ps2\+\_\+clock\+\_\+falling\+\_\+edge()}}.

\Hypertarget{ps2_8c_a55b59e916e2a43fe71ec584c7f2810b6}\label{ps2_8c_a55b59e916e2a43fe71ec584c7f2810b6} 
\index{ps2.c@{ps2.c}!ps2\_event@{ps2\_event}}
\index{ps2\_event@{ps2\_event}!ps2.c@{ps2.c}}
\doxysubsubsection{\texorpdfstring{ps2\_event()}{ps2\_event()}}
{\footnotesize\ttfamily static void ps2\+\_\+event (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}}}]{byte }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Event function that is called when a byte is received from the keyboard. 


\begin{DoxyParams}{Parameters}
{\em byte} & The byte \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{ps2_8c_source_l00189}{189}} of file \mbox{\hyperlink{ps2_8c_source}{ps2.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00190\ \{}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}}\ state;}
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{keyboard-shared_8h_a48752551c4279f8cddf3585f8272092a}{Key}}\ mods;}
\DoxyCodeLine{00193\ \ \ \ \ \mbox{\hyperlink{keyboard-shared_8h_a48752551c4279f8cddf3585f8272092a}{Key}}\ key;}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{comment}{/*\ TODO:\ Doesn't\ work,\ All\ keys,\ Buffering\ */}}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00198\ \textcolor{comment}{\ \ \ \ \ *\ The\ following\ code\ translates\ PS/2\ keyboard\ scancodes\ to\ USB\ HID}}
\DoxyCodeLine{00199\ \textcolor{comment}{\ \ \ \ \ *\ scancodes,\ which\ are\ then\ converted\ to\ characters\ by\ another}}
\DoxyCodeLine{00200\ \textcolor{comment}{\ \ \ \ \ *\ equally\ bad\ piece\ of\ code.\ This\ is\ horrible,\ but\ at\ least\ somewhat}}
\DoxyCodeLine{00201\ \textcolor{comment}{\ \ \ \ \ *\ maintainable.}}
\DoxyCodeLine{00202\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ key\ =\ 0;}
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{keywordflow}{if}(\textcolor{keywordtype}{byte}\ ==\ PS2\_BREAK)}
\DoxyCodeLine{00206\ \ \ \ \ \{}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ state\ |=\ PS2\_STATE\_RELEASE;}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00209\ \ \ \ \ \}}
\DoxyCodeLine{00210\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(\textcolor{keywordtype}{byte}\ ==\ PS2\_EXTRA)}
\DoxyCodeLine{00211\ \ \ \ \ \{}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ state\ |=\ PS2\_STATE\_EXTRA;}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00214\ \ \ \ \ \}}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keywordflow}{if}(state\ \&\ PS2\_STATE\_EXTRA)}
\DoxyCodeLine{00217\ \ \ \ \ \{}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}(\textcolor{keywordtype}{byte})}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ -\/-\/-\/\ Keycodes\ with\ E0\ prefix\ -\/-\/-\/\ */}}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_R\_ALT:\ \ \ \ \ \ \ key\ =\ KEY\_R\_ALT;\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_R\_CTRL:\ \ \ \ \ \ key\ =\ KEY\_R\_CTRL;\ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_L\_GUI:\ \ \ \ \ \ \ key\ =\ KEY\_L\_GUI;\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_R\_GUI:\ \ \ \ \ \ \ key\ =\ KEY\_R\_GUI;\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_END:\ \ \ \ \ \ \ \ \ key\ =\ KEY\_END;\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_HOME:\ \ \ \ \ \ \ \ key\ =\ KEY\_HOME;\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_INSERT:\ \ \ \ \ \ key\ =\ KEY\_INSERT;\ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_DELETE:\ \ \ \ \ \ key\ =\ KEY\_DELETE;\ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_UP:\ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_UP;\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_DOWN:\ \ \ \ \ \ \ \ key\ =\ KEY\_DOWN;\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_RIGHT:\ \ \ \ \ \ \ key\ =\ KEY\_RIGHT;\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_LEFT:\ \ \ \ \ \ \ \ key\ =\ KEY\_LEFT;\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_PAGE\_UP:\ \ \ \ \ key\ =\ KEY\_PAGE\_UP;\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_PAGE\_DOWN:\ \ \ key\ =\ KEY\_PAGE\_DOWN;\ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_DIVIDE:\ \ \ key\ =\ KEY\_KP\_DIVIDE;\ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_ENTER:\ \ \ \ key\ =\ KEY\_KP\_ENTER;\ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ state\ \&=\ \string~PS2\_STATE\_EXTRA;}
\DoxyCodeLine{00240\ \ \ \ \ \}}
\DoxyCodeLine{00241\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00242\ \ \ \ \ \{}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}(\textcolor{keywordtype}{byte})}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ -\/-\/-\/\ 0\ to\ 9\ -\/-\/-\/\ */}}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_0:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_0;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_1:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_1;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_2:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_2;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_3:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_3;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_4:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_4;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_5:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_5;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_6:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_6;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_7:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_7;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_8:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_8;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_9:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_9;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ -\/-\/-\/\ A\ to\ Z\ -\/-\/-\/\ */}}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_A:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_A;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_B:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_B;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_C:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_C;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_D:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_D;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_E:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_E;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_F:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_F;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_G:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_G;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_H:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_H;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_I:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_I;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_J:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_J;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_K:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_K;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_L:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_L;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_M:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_M;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_N:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_N;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_O:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_O;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_P:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_P;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_Q:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_Q;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_R:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_R;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_S:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_S;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_T:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_T;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_U:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_U;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_V:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_V;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_W:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_W;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_X:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_X;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_Y:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_Y;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_Z:\ \ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_Z;\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00284\ }
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ -\/-\/-\/\ Function\ Keys\ -\/-\/-\/\ */}}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_F1:\ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_F1;\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_F2:\ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_F2;\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_F3:\ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_F3;\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_F4:\ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_F4;\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_F5:\ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_F5;\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_F6:\ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_F6;\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_F7:\ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_F7;\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_F8:\ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_F8;\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_F9:\ \ \ \ \ \ \ \ \ \ key\ =\ KEY\_F9;\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_F10:\ \ \ \ \ \ \ \ \ key\ =\ KEY\_F10;\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_F11:\ \ \ \ \ \ \ \ \ key\ =\ KEY\_F11;\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_F12:\ \ \ \ \ \ \ \ \ key\ =\ KEY\_F12;\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ -\/-\/-\/\ Keypad\ -\/-\/-\/\ */}}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_0:\ \ \ \ \ \ \ \ key\ =\ KEY\_KP\_0;\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_1:\ \ \ \ \ \ \ \ key\ =\ KEY\_KP\_1;\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_2:\ \ \ \ \ \ \ \ key\ =\ KEY\_KP\_2;\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_3:\ \ \ \ \ \ \ \ key\ =\ KEY\_KP\_3;\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_4:\ \ \ \ \ \ \ \ key\ =\ KEY\_KP\_4;\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_5:\ \ \ \ \ \ \ \ key\ =\ KEY\_KP\_5;\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_6:\ \ \ \ \ \ \ \ key\ =\ KEY\_KP\_6;\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_7:\ \ \ \ \ \ \ \ key\ =\ KEY\_KP\_7;\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_8:\ \ \ \ \ \ \ \ key\ =\ KEY\_KP\_8;\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_9:\ \ \ \ \ \ \ \ key\ =\ KEY\_KP\_9;\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_PERIOD:\ \ \ key\ =\ KEY\_KP\_PERIOD;\ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_PLUS:\ \ \ \ \ key\ =\ KEY\_KP\_PLUS;\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_MINUS:\ \ \ \ key\ =\ KEY\_KP\_MINUS;\ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_KP\_MULTIPLY:\ key\ =\ KEY\_KP\_MULTIPLY;\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ -\/-\/-\/\ Modifiers\ -\/-\/-\/\ */}}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_L\_ALT:\ \ \ \ \ \ \ key\ =\ KEY\_L\_ALT;\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_L\_SHIFT:\ \ \ \ \ key\ =\ KEY\_L\_SHIFT;\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_L\_CTRL:\ \ \ \ \ \ key\ =\ KEY\_L\_CTRL;\ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ -\/-\/-\/\ Other\ -\/-\/-\/\ */}}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_ESCAPE:\ \ \ \ \ \ key\ =\ KEY\_ESCAPE;\ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_TAB:\ \ \ \ \ \ \ \ \ key\ =\ KEY\_TAB;\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_SPACE:\ \ \ \ \ \ \ key\ =\ KEY\_SPACE;\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_BACKSPACE:\ \ \ key\ =\ KEY\_BACKSPACE;\ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_CAPSLOCK:\ \ \ \ key\ =\ KEY\_CAPSLOCK;\ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ PS2\_RETURN:\ \ \ \ \ \ key\ =\ KEY\_RETURN;\ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00328\ \textcolor{comment}{/*}}
\DoxyCodeLine{00329\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ case\ PS2\_COMMA:\ \ \ \ \ \ \ key\ =\ KEY\_COMMA;\ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00330\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ case\ PS2\_BACKTICK:\ \ \ \ key\ =\ KEY\_BACKTICK;\ \ \ \ break;}}
\DoxyCodeLine{00331\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ case\ PS2\_PERIOD:\ \ \ \ \ \ key\ =\ KEY\_PERIOD;\ \ \ \ \ \ break;}}
\DoxyCodeLine{00332\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ case\ PS2\_SLASH:\ \ \ \ \ \ \ key\ =\ KEY\_SLASH;\ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00333\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ case\ PS2\_SEMICOLON:\ \ \ key\ =\ KEY\_SEMICOLON;\ \ \ break;}}
\DoxyCodeLine{00334\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ case\ PS2\_MINUS:\ \ \ \ \ \ \ key\ =\ KEY\_MINUS;\ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00335\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ case\ PS2\_APOSTROPHE:\ \ key\ =\ KEY\_APOSTROPHE;\ \ break;}}
\DoxyCodeLine{00336\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ case\ PS2\_L\_BRACKET:\ \ \ key\ =\ KEY\_L\_BRACKET;\ \ \ break;}}
\DoxyCodeLine{00337\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ case\ PS2\_EQUAL:\ \ \ \ \ \ \ key\ =\ KEY\_EQUAL;\ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00338\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ case\ PS2\_R\_SHIFT:\ \ \ \ \ key\ =\ KEY\_R\_SHIFT;\ \ \ \ \ break;}}
\DoxyCodeLine{00339\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ case\ PS2\_R\_BRACKET:\ \ \ key\ =\ KEY\_R\_BRACKET;\ \ \ break;}}
\DoxyCodeLine{00340\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ case\ PS2\_BACKSLASH:\ \ \ key\ =\ KEY\_BACKSLASH;\ \ \ break;}}
\DoxyCodeLine{00341\ \textcolor{comment}{*/}}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00343\ \ \ \ \ \}}
\DoxyCodeLine{00344\ }
\DoxyCodeLine{00345\ \ \ \ \ \textcolor{keywordflow}{if}(key)}
\DoxyCodeLine{00346\ \ \ \ \ \{}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{keyboard-shared_8h_a48752551c4279f8cddf3585f8272092a}{Key}}\ mod;}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ handle\ modifiers\ */}}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ mod\ =\ 0;}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(key\ ==\ KEY\_L\_ALT)}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ \ \ \ mod\ =\ MOD\_ALT;}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(key\ ==\ KEY\_R\_ALT)}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ mod\ =\ MOD\_ALT\_GR;}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(key\ ==\ KEY\_L\_SHIFT\ ||\ key\ ==\ KEY\_R\_SHIFT)}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ \ \ mod\ =\ MOD\_SHIFT;}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(key\ ==\ KEY\_L\_CTRL\ ||\ key\ ==\ KEY\_R\_CTRL)}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \ \ \ \ mod\ =\ MOD\_CTRL;}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(key\ ==\ KEY\_L\_GUI\ ||\ key\ ==\ KEY\_R\_GUI)}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \ \ \ \ mod\ =\ MOD\_OS;}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(mod)}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(state\ \&\ PS2\_STATE\_RELEASE)}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mods\ \&=\ \string~mod;}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mods\ |=\ mod;}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00383\ }
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ trigger\ key\ event\ */}}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ key\ |=\ mods;}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{emulator_8c_aa3bc14f0f460896525aa26dbf66069a7}{keyboard\_event}}(key,\ \mbox{\hyperlink{german_8c_a1a0767e5d023fa8fe76e781df02f7374}{key\_to\_codepoint}}(key),}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \ \ \ \ state\ \&\ PS2\_STATE\_RELEASE\ ?\ KEYSTATE\_RELEASED\ :\ KEYSTATE\_PRESSED);}
\DoxyCodeLine{00388\ \ \ \ \ \}}
\DoxyCodeLine{00389\ }
\DoxyCodeLine{00390\ \ \ \ \ state\ \&=\ \string~PS2\_STATE\_RELEASE;}
\DoxyCodeLine{00391\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{german_8c_source_l00049}{key\+\_\+to\+\_\+codepoint()}}, and \mbox{\hyperlink{emulator_8c_source_l00141}{keyboard\+\_\+event()}}.



Referenced by \mbox{\hyperlink{ps2_8c_source_l00407}{\+\_\+ps2\+\_\+clock\+\_\+falling\+\_\+edge()}}.

\Hypertarget{ps2_8c_af0a83745146d1ce5fe4ef4372520e372}\label{ps2_8c_af0a83745146d1ce5fe4ef4372520e372} 
\index{ps2.c@{ps2.c}!ps2\_init@{ps2\_init}}
\index{ps2\_init@{ps2\_init}!ps2.c@{ps2.c}}
\doxysubsubsection{\texorpdfstring{ps2\_init()}{ps2\_init()}}
{\footnotesize\ttfamily void ps2\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initialize PS/2 keyboard driver and interrupt, Interrupts must be enabled afterwards using {\ttfamily sei()}. 



Definition at line \mbox{\hyperlink{ps2_8c_source_l00172}{172}} of file \mbox{\hyperlink{ps2_8c_source}{ps2.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00173\ \{}
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{comment}{/*\ Enable\ external\ interrupt\ 0\ (PORTB2)\ */}}
\DoxyCodeLine{00175\ \ \ \ \ EIMSK\ |=\ (1\ <<\ \mbox{\hyperlink{gpio_8h_a34ea49db58f76f1619e460765995f599}{PS2\_EXT\_INTERRUPT}});}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{comment}{/*\ Trigger\ interrupt\ on\ falling\ edge\ */}}
\DoxyCodeLine{00178\ \ \ \ \ EICRA\ |=\ (1\ <<\ ISC01);}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \mbox{\hyperlink{logger_8c_a60bd636ef160c97eb51cf31be5954ba2}{log\_boot\_P}}(LOG\_INIT,\ PSTR(\textcolor{stringliteral}{"{}PS/2\ keyboard\ initialized"{}}));}
\DoxyCodeLine{00181\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{logger_8c_source_l00170}{log\+\_\+boot\+\_\+\+P()}}, and \mbox{\hyperlink{gpio_8h_source_l00129}{PS2\+\_\+\+EXT\+\_\+\+INTERRUPT}}.



Referenced by \mbox{\hyperlink{platform_2avr_2main_8c_source_l00029}{main()}}.



\doxysubsection{Variable Documentation}
\Hypertarget{ps2_8c_aa4a39acdc6c6f92da3da447491d71b72}\label{ps2_8c_aa4a39acdc6c6f92da3da447491d71b72} 
\index{ps2.c@{ps2.c}!\_bit@{\_bit}}
\index{\_bit@{\_bit}!ps2.c@{ps2.c}}
\doxysubsubsection{\texorpdfstring{\_bit}{\_bit}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \+\_\+bit\hspace{0.3cm}{\ttfamily [static]}}

The number of the current bit\+:

0\+: Start bit 1-\/8\+: Data bit 9\+: Parity bit 10\+: Stop bit 

Definition at line \mbox{\hyperlink{ps2_8c_source_l00170}{170}} of file \mbox{\hyperlink{ps2_8c_source}{ps2.\+c}}.



Referenced by \mbox{\hyperlink{ps2_8c_source_l00407}{\+\_\+ps2\+\_\+clock\+\_\+falling\+\_\+edge()}}.

\Hypertarget{ps2_8c_aa117bb08f41b6564dbe438b3648d9ae7}\label{ps2_8c_aa117bb08f41b6564dbe438b3648d9ae7} 
\index{ps2.c@{ps2.c}!\_byte@{\_byte}}
\index{\_byte@{\_byte}!ps2.c@{ps2.c}}
\doxysubsubsection{\texorpdfstring{\_byte}{\_byte}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}} \+\_\+byte\hspace{0.3cm}{\ttfamily [static]}}

The byte that is currently being received 

Definition at line \mbox{\hyperlink{ps2_8c_source_l00160}{160}} of file \mbox{\hyperlink{ps2_8c_source}{ps2.\+c}}.



Referenced by \mbox{\hyperlink{ps2_8c_source_l00407}{\+\_\+ps2\+\_\+clock\+\_\+falling\+\_\+edge()}}.

