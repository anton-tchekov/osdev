\doxysection{platform/platform.h File Reference}
\hypertarget{platform_8h}{}\label{platform_8h}\index{platform/platform.h@{platform/platform.h}}


Interface between \doxylink{structEmulator}{Emulator} and Drivers. Arguably the most important file in this project.  


{\ttfamily \#include $<$types.\+h$>$}\newline
{\ttfamily \#include $<$keyboard-\/shared.\+h$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} \mbox{\hyperlink{platform_8h_acf57f1ce47563167d4ef978ef1a7ab49}{env\+\_\+memory\+\_\+size}} (void)
\begin{DoxyCompactList}\small\item\em Get the size of the installed memory. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{platform_8h_ab7ab32a3f56a5eb22459591ded6cb9ec}{env\+\_\+memory\+\_\+read}} (\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} addr, void \texorpdfstring{$\ast$}{*}data, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} size)
\begin{DoxyCompactList}\small\item\em Read data from physical memory. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{platform_8h_a22d4f443fb95499e0acccc1f263e99c7}{env\+\_\+memory\+\_\+write}} (\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} addr, const void \texorpdfstring{$\ast$}{*}data, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} size)
\begin{DoxyCompactList}\small\item\em Write data to physical memory. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{platform_8h_a7dc0a6f0c7591bb3a8a1ba7ebbb8085e}{env\+\_\+gfx\+\_\+rect}} (\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} x, \mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} y, \mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} w, \mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} h, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} color)
\begin{DoxyCompactList}\small\item\em Draw rectangle. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{platform_8h_a9c0002575d2ee2eae556e5e9f3fd6dfd}{env\+\_\+gfx\+\_\+image\+\_\+rgb565}} (\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} x, \mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} y, \mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} w, \mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} h, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} addr)
\begin{DoxyCompactList}\small\item\em Draw an RGB565 image. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{platform_8h_a6ea7c49d1f435686931e8c57b756033c}{env\+\_\+gfx\+\_\+image\+\_\+grayscale}} (\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} x, \mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} y, \mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} w, \mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} h, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} addr, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} fg, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} bg)
\begin{DoxyCompactList}\small\item\em Draw a colored grayscale image. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{platform_8h_adeb038ecb970d7a1a13afac52fcc6df9}{env\+\_\+gfx\+\_\+image\+\_\+1bit}} (\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} x, \mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} y, \mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} w, \mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} h, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} addr, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} fg, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} bg)
\begin{DoxyCompactList}\small\item\em Draw a colored 1-\/bit image. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{platform_8h_a10a5a2d20838f25eba5db18f43f94158}{env\+\_\+serial\+\_\+write}} (const void \texorpdfstring{$\ast$}{*}data, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} len)
\begin{DoxyCompactList}\small\item\em Send data over the serial interface. \end{DoxyCompactList}\item 
\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} \mbox{\hyperlink{platform_8h_ac25a788a06cf437544e5edaf5faf4e2f}{env\+\_\+random\+\_\+get}} (void)
\begin{DoxyCompactList}\small\item\em Generate a pseudo-\/random number. \end{DoxyCompactList}\item 
\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} \mbox{\hyperlink{platform_8h_a0be14c6c6a205ee06b64f11184884e5e}{env\+\_\+millis}} (void)
\begin{DoxyCompactList}\small\item\em Get the number of milliseconds since boot. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Interface between \doxylink{structEmulator}{Emulator} and Drivers. Arguably the most important file in this project. 

\begin{DoxyAuthor}{Author}
Anton Tchekov 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+3 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
16.\+05.\+2023 
\end{DoxyDate}


Definition in file \mbox{\hyperlink{platform_8h_source}{platform.\+h}}.



\doxysubsection{Function Documentation}
\Hypertarget{platform_8h_adeb038ecb970d7a1a13afac52fcc6df9}\label{platform_8h_adeb038ecb970d7a1a13afac52fcc6df9} 
\index{platform.h@{platform.h}!env\_gfx\_image\_1bit@{env\_gfx\_image\_1bit}}
\index{env\_gfx\_image\_1bit@{env\_gfx\_image\_1bit}!platform.h@{platform.h}}
\doxysubsubsection{\texorpdfstring{env\_gfx\_image\_1bit()}{env\_gfx\_image\_1bit()}}
{\footnotesize\ttfamily void env\+\_\+gfx\+\_\+image\+\_\+1bit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{x,  }\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{y,  }\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{w,  }\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{h,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{addr,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{fg,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{bg }\end{DoxyParamCaption})}



Draw a colored 1-\/bit image. 


\begin{DoxyParams}{Parameters}
{\em x} & X-\/\+Coordinate \\
\hline
{\em y} & Y-\/\+Coordinate \\
\hline
{\em w} & Width \\
\hline
{\em h} & Height \\
\hline
{\em addr} & Image memory address \\
\hline
{\em fg} & ABGR foreground color \\
\hline
{\em bg} & ABGR background color \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00108}{108}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00110\ \{}
\DoxyCodeLine{00111\ \ \ \ \ \mbox{\hyperlink{lcd_8c_a36037dfa0a1d1f9afe0d858bf63070cc}{lcd\_image\_1bit}}(x,\ y,\ w,\ h,\ addr,}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{avr_2platform_8c_a5f91a233a54a301e040fe44f33561ef8}{\_abgr\_to\_rgb565}}(fg),}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{avr_2platform_8c_a5f91a233a54a301e040fe44f33561ef8}{\_abgr\_to\_rgb565}}(bg));}
\DoxyCodeLine{00114\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{simulator_2platform_8c_source_l00205}{\+\_\+abgr\+\_\+to\+\_\+argb()}}, \mbox{\hyperlink{avr_2platform_8c_source_l00084}{\+\_\+abgr\+\_\+to\+\_\+rgb565()}}, \mbox{\hyperlink{simulator_2platform_8c_source_l00035}{\+\_\+memory}}, \mbox{\hyperlink{simulator_2platform_8c_source_l00038}{\+\_\+pixels}}, \mbox{\hyperlink{gfx-types_8h_source_l00016}{GFX\+\_\+\+WIDTH}}, and \mbox{\hyperlink{lcd_8c_source_l00570}{lcd\+\_\+image\+\_\+1bit()}}.



Referenced by \mbox{\hyperlink{emulator_8c_source_l00578}{syscall\+\_\+gfx\+\_\+image\+\_\+1bit()}}.

\Hypertarget{platform_8h_a6ea7c49d1f435686931e8c57b756033c}\label{platform_8h_a6ea7c49d1f435686931e8c57b756033c} 
\index{platform.h@{platform.h}!env\_gfx\_image\_grayscale@{env\_gfx\_image\_grayscale}}
\index{env\_gfx\_image\_grayscale@{env\_gfx\_image\_grayscale}!platform.h@{platform.h}}
\doxysubsubsection{\texorpdfstring{env\_gfx\_image\_grayscale()}{env\_gfx\_image\_grayscale()}}
{\footnotesize\ttfamily void env\+\_\+gfx\+\_\+image\+\_\+grayscale (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{x,  }\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{y,  }\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{w,  }\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{h,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{addr,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{fg,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{bg }\end{DoxyParamCaption})}



Draw a colored grayscale image. 


\begin{DoxyParams}{Parameters}
{\em x} & X-\/\+Coordinate \\
\hline
{\em y} & Y-\/\+Coordinate \\
\hline
{\em w} & Width \\
\hline
{\em h} & Height \\
\hline
{\em addr} & Image memory address \\
\hline
{\em fg} & ABGR foreground color \\
\hline
{\em bg} & ABGR background color \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00102}{102}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00104\ \{}
\DoxyCodeLine{00105\ \ \ \ \ \mbox{\hyperlink{lcd_8c_abc4eb78d0c4113a8bec610bd74c6969f}{lcd\_image\_grayscale}}(x,\ y,\ w,\ h,\ addr,\ fg,\ bg);}
\DoxyCodeLine{00106\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{simulator_2platform_8c_source_l00222}{\+\_\+color\+\_\+merge()}}, \mbox{\hyperlink{simulator_2platform_8c_source_l00035}{\+\_\+memory}}, \mbox{\hyperlink{simulator_2platform_8c_source_l00038}{\+\_\+pixels}}, \mbox{\hyperlink{gfx-types_8h_source_l00016}{GFX\+\_\+\+WIDTH}}, and \mbox{\hyperlink{lcd_8c_source_l00549}{lcd\+\_\+image\+\_\+grayscale()}}.



Referenced by \mbox{\hyperlink{emulator_8c_source_l00534}{syscall\+\_\+gfx\+\_\+image\+\_\+grayscale()}}.

\Hypertarget{platform_8h_a9c0002575d2ee2eae556e5e9f3fd6dfd}\label{platform_8h_a9c0002575d2ee2eae556e5e9f3fd6dfd} 
\index{platform.h@{platform.h}!env\_gfx\_image\_rgb565@{env\_gfx\_image\_rgb565}}
\index{env\_gfx\_image\_rgb565@{env\_gfx\_image\_rgb565}!platform.h@{platform.h}}
\doxysubsubsection{\texorpdfstring{env\_gfx\_image\_rgb565()}{env\_gfx\_image\_rgb565()}}
{\footnotesize\ttfamily void env\+\_\+gfx\+\_\+image\+\_\+rgb565 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{x,  }\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{y,  }\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{w,  }\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{h,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{addr }\end{DoxyParamCaption})}



Draw an RGB565 image. 


\begin{DoxyParams}{Parameters}
{\em x} & X-\/\+Coordinate \\
\hline
{\em y} & Y-\/\+Coordinate \\
\hline
{\em w} & Width \\
\hline
{\em h} & Height \\
\hline
{\em addr} & Image memory address \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00097}{97}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00098\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \mbox{\hyperlink{lcd_8c_aa974eda613ffac18ecf6b119a8a5329b}{lcd\_image\_rgb565}}(x,\ y,\ w,\ h,\ addr);}
\DoxyCodeLine{00100\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{simulator_2platform_8c_source_l00035}{\+\_\+memory}}, \mbox{\hyperlink{simulator_2platform_8c_source_l00038}{\+\_\+pixels}}, \mbox{\hyperlink{simulator_2platform_8c_source_l00246}{\+\_\+rgb565\+\_\+to\+\_\+bgra()}}, \mbox{\hyperlink{gfx-types_8h_source_l00016}{GFX\+\_\+\+WIDTH}}, and \mbox{\hyperlink{lcd_8c_source_l00501}{lcd\+\_\+image\+\_\+rgb565()}}.



Referenced by \mbox{\hyperlink{emulator_8c_source_l00500}{syscall\+\_\+gfx\+\_\+image\+\_\+rgb565()}}.

\Hypertarget{platform_8h_a7dc0a6f0c7591bb3a8a1ba7ebbb8085e}\label{platform_8h_a7dc0a6f0c7591bb3a8a1ba7ebbb8085e} 
\index{platform.h@{platform.h}!env\_gfx\_rect@{env\_gfx\_rect}}
\index{env\_gfx\_rect@{env\_gfx\_rect}!platform.h@{platform.h}}
\doxysubsubsection{\texorpdfstring{env\_gfx\_rect()}{env\_gfx\_rect()}}
{\footnotesize\ttfamily void env\+\_\+gfx\+\_\+rect (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{x,  }\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{y,  }\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{w,  }\item[{\mbox{\hyperlink{types_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{h,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{color }\end{DoxyParamCaption})}



Draw rectangle. 


\begin{DoxyParams}{Parameters}
{\em x} & X-\/\+Coordinate \\
\hline
{\em y} & Y-\/\+Coordinate \\
\hline
{\em w} & Width \\
\hline
{\em h} & Height \\
\hline
{\em color} & Fill color \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00092}{92}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00093\ \{}
\DoxyCodeLine{00094\ \ \ \ \ \mbox{\hyperlink{lcd_8c_a010620f3d9dc0536cc9551d7aabd8d17}{lcd\_rect}}(x,\ y,\ w,\ h,\ \mbox{\hyperlink{avr_2platform_8c_a5f91a233a54a301e040fe44f33561ef8}{\_abgr\_to\_rgb565}}(color));}
\DoxyCodeLine{00095\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{simulator_2platform_8c_source_l00205}{\+\_\+abgr\+\_\+to\+\_\+argb()}}, \mbox{\hyperlink{avr_2platform_8c_source_l00084}{\+\_\+abgr\+\_\+to\+\_\+rgb565()}}, \mbox{\hyperlink{simulator_2platform_8c_source_l00038}{\+\_\+pixels}}, \mbox{\hyperlink{gfx-types_8h_source_l00016}{GFX\+\_\+\+WIDTH}}, and \mbox{\hyperlink{lcd_8c_source_l00416}{lcd\+\_\+rect()}}.



Referenced by \mbox{\hyperlink{emulator_8c_source_l00471}{syscall\+\_\+gfx\+\_\+rect()}}.

\Hypertarget{platform_8h_ab7ab32a3f56a5eb22459591ded6cb9ec}\label{platform_8h_ab7ab32a3f56a5eb22459591ded6cb9ec} 
\index{platform.h@{platform.h}!env\_memory\_read@{env\_memory\_read}}
\index{env\_memory\_read@{env\_memory\_read}!platform.h@{platform.h}}
\doxysubsubsection{\texorpdfstring{env\_memory\_read()}{env\_memory\_read()}}
{\footnotesize\ttfamily void env\+\_\+memory\+\_\+read (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{addr,  }\item[{void \texorpdfstring{$\ast$}{*}}]{data,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{size }\end{DoxyParamCaption})}



Read data from physical memory. 


\begin{DoxyParams}{Parameters}
{\em addr} & Start address \\
\hline
{\em data} & Data buffer \\
\hline
{\em size} & Size in bytes \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00024}{24}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00025\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \mbox{\hyperlink{xmem_8c_ac439854f5a1e0bd1b2f52c1028fc900a}{xmem\_read}}(addr,\ data,\ size);}
\DoxyCodeLine{00027\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{simulator_2platform_8c_source_l00035}{\+\_\+memory}}, \mbox{\hyperlink{string_8c_source_l00094}{memcpy()}}, and \mbox{\hyperlink{xmem_8c_source_l00286}{xmem\+\_\+read()}}.



Referenced by \mbox{\hyperlink{emulator_8c_source_l00253}{memory\+\_\+lb()}}, \mbox{\hyperlink{emulator_8c_source_l00316}{memory\+\_\+lbu()}}, \mbox{\hyperlink{emulator_8c_source_l00274}{memory\+\_\+lh()}}, \mbox{\hyperlink{emulator_8c_source_l00337}{memory\+\_\+lhu()}}, \mbox{\hyperlink{emulator_8c_source_l00295}{memory\+\_\+lw()}}, \mbox{\hyperlink{emulator_8c_source_l00578}{syscall\+\_\+gfx\+\_\+image\+\_\+1bit()}}, \mbox{\hyperlink{emulator_8c_source_l00534}{syscall\+\_\+gfx\+\_\+image\+\_\+grayscale()}}, and \mbox{\hyperlink{emulator_8c_source_l00436}{syscall\+\_\+serial\+\_\+write()}}.

\Hypertarget{platform_8h_acf57f1ce47563167d4ef978ef1a7ab49}\label{platform_8h_acf57f1ce47563167d4ef978ef1a7ab49} 
\index{platform.h@{platform.h}!env\_memory\_size@{env\_memory\_size}}
\index{env\_memory\_size@{env\_memory\_size}!platform.h@{platform.h}}
\doxysubsubsection{\texorpdfstring{env\_memory\_size()}{env\_memory\_size()}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} env\+\_\+memory\+\_\+size (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get the size of the installed memory. 

\begin{DoxyReturn}{Returns}
The size of the memory in bytes 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00019}{19}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00020\ \{}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{xmem_8c_a4164d03f7168bc7c7d3ce75d27bc6547}{xmem\_size}}();}
\DoxyCodeLine{00022\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{simulator_2platform_8c_source_l00035}{\+\_\+memory}}, and \mbox{\hyperlink{xmem_8c_source_l00320}{xmem\+\_\+size()}}.



Referenced by \mbox{\hyperlink{emulator_8c_source_l00123}{kernel\+\_\+init()}}.

\Hypertarget{platform_8h_a22d4f443fb95499e0acccc1f263e99c7}\label{platform_8h_a22d4f443fb95499e0acccc1f263e99c7} 
\index{platform.h@{platform.h}!env\_memory\_write@{env\_memory\_write}}
\index{env\_memory\_write@{env\_memory\_write}!platform.h@{platform.h}}
\doxysubsubsection{\texorpdfstring{env\_memory\_write()}{env\_memory\_write()}}
{\footnotesize\ttfamily void env\+\_\+memory\+\_\+write (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{addr,  }\item[{const void \texorpdfstring{$\ast$}{*}}]{data,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{size }\end{DoxyParamCaption})}



Write data to physical memory. 


\begin{DoxyParams}{Parameters}
{\em addr} & Start address \\
\hline
{\em data} & Data buffer \\
\hline
{\em size} & Size in bytes \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00029}{29}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00030\ \{}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{xmem_8c_afef9c92490450d98f177f53f2b174f20}{xmem\_write}}(addr,\ data,\ size);}
\DoxyCodeLine{00032\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{simulator_2platform_8c_source_l00035}{\+\_\+memory}}, \mbox{\hyperlink{string_8c_source_l00094}{memcpy()}}, and \mbox{\hyperlink{xmem_8c_source_l00297}{xmem\+\_\+write()}}.



Referenced by \mbox{\hyperlink{emulator_8c_source_l00193}{memory\+\_\+sb()}}, \mbox{\hyperlink{emulator_8c_source_l00213}{memory\+\_\+sh()}}, and \mbox{\hyperlink{emulator_8c_source_l00233}{memory\+\_\+sw()}}.

\Hypertarget{platform_8h_a0be14c6c6a205ee06b64f11184884e5e}\label{platform_8h_a0be14c6c6a205ee06b64f11184884e5e} 
\index{platform.h@{platform.h}!env\_millis@{env\_millis}}
\index{env\_millis@{env\_millis}!platform.h@{platform.h}}
\doxysubsubsection{\texorpdfstring{env\_millis()}{env\_millis()}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} env\+\_\+millis (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get the number of milliseconds since boot. 

\begin{DoxyReturn}{Returns}
The number of milliseconds 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00137}{137}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00138\ \{}
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{timer_8c_aee701eeb891b748ed2e12da119816882}{millis}}();}
\DoxyCodeLine{00140\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{simulator_2platform_8c_source_l00041}{\+\_\+sec\+\_\+start}}, \mbox{\hyperlink{simulator_2platform_8c_source_l00044}{\+\_\+usec\+\_\+start}}, and \mbox{\hyperlink{timer_8c_source_l00036}{millis()}}.



Referenced by \mbox{\hyperlink{emulator_8c_source_l00409}{syscall\+\_\+millis()}}.

\Hypertarget{platform_8h_ac25a788a06cf437544e5edaf5faf4e2f}\label{platform_8h_ac25a788a06cf437544e5edaf5faf4e2f} 
\index{platform.h@{platform.h}!env\_random\_get@{env\_random\_get}}
\index{env\_random\_get@{env\_random\_get}!platform.h@{platform.h}}
\doxysubsubsection{\texorpdfstring{env\_random\_get()}{env\_random\_get()}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} env\+\_\+random\+\_\+get (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Generate a pseudo-\/random number. 

\begin{DoxyReturn}{Returns}
The number 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00130}{130}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00131\ \{}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{random_8c_acd70dc015ebddf28c8650af3a91480f8}{random\_get}}();}
\DoxyCodeLine{00133\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{rand_8c_source_l00011}{rand()}}, and \mbox{\hyperlink{random_8c_source_l00020}{random\+\_\+get()}}.



Referenced by \mbox{\hyperlink{emulator_8c_source_l00422}{syscall\+\_\+rand()}}.

\Hypertarget{platform_8h_a10a5a2d20838f25eba5db18f43f94158}\label{platform_8h_a10a5a2d20838f25eba5db18f43f94158} 
\index{platform.h@{platform.h}!env\_serial\_write@{env\_serial\_write}}
\index{env\_serial\_write@{env\_serial\_write}!platform.h@{platform.h}}
\doxysubsubsection{\texorpdfstring{env\_serial\_write()}{env\_serial\_write()}}
{\footnotesize\ttfamily void env\+\_\+serial\+\_\+write (\begin{DoxyParamCaption}\item[{const void \texorpdfstring{$\ast$}{*}}]{data,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{len }\end{DoxyParamCaption})}



Send data over the serial interface. 


\begin{DoxyParams}{Parameters}
{\em data} & The data to send \\
\hline
{\em len} & The number of bytes \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{avr_2platform_8c_source_l00118}{118}} of file \mbox{\hyperlink{avr_2platform_8c_source}{platform.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00119\ \{}
\DoxyCodeLine{00120\ \ \ \ \ \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}\ i;}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *data8\ =\ data;}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordflow}{for}(i\ =\ 0;\ i\ <\ len;\ ++i)}
\DoxyCodeLine{00123\ \ \ \ \ \{}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_ad1404aaabd8a723599a89c9b9ca08a65}{serial\_tx}}(data8[i]);}
\DoxyCodeLine{00125\ \ \ \ \ \}}
\DoxyCodeLine{00126\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{platform_2avr_2serial_2serial_8c_source_l00026}{serial\+\_\+tx()}}.



Referenced by \mbox{\hyperlink{emulator_8c_source_l00436}{syscall\+\_\+serial\+\_\+write()}}.

