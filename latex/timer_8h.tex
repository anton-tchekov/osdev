\hypertarget{timer_8h}{}\doxysection{platform/avr/timer/timer.h File Reference}
\label{timer_8h}\index{platform/avr/timer/timer.h@{platform/avr/timer/timer.h}}


Timer module.  


{\ttfamily \#include $<$types.\+h$>$}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{timer_8h_a7b8ab79df77b57475a5494f5f81c3bd9}{timer\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Initialize hardware timer/counter. \end{DoxyCompactList}\item 
\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} \mbox{\hyperlink{timer_8h_aee701eeb891b748ed2e12da119816882}{millis}} (void)
\begin{DoxyCompactList}\small\item\em Get milliseconds since startup. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Timer module. 

\begin{DoxyAuthor}{Author}
Tim Gabrikowski, Anton Tchekov 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
01.\+05.\+2023 
\end{DoxyDate}


Definition in file \mbox{\hyperlink{timer_8h_source}{timer.\+h}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{timer_8h_aee701eeb891b748ed2e12da119816882}\label{timer_8h_aee701eeb891b748ed2e12da119816882}} 
\index{timer.h@{timer.h}!millis@{millis}}
\index{millis@{millis}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{millis()}{millis()}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} millis (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get milliseconds since startup. 

\begin{DoxyReturn}{Returns}
Number of milliseconds 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{timer_8c_source_l00036}{36}} of file \mbox{\hyperlink{timer_8c_source}{timer.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00037\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{comment}{/*\ Return\ number\ of\ milliseconds\ since\ boot\ */}}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{timer_8c_a4876578a604b8a6b327e06515ca68bfd}{\_ms}};}
\DoxyCodeLine{00040\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{timer_8h_a7b8ab79df77b57475a5494f5f81c3bd9}\label{timer_8h_a7b8ab79df77b57475a5494f5f81c3bd9}} 
\index{timer.h@{timer.h}!timer\_init@{timer\_init}}
\index{timer\_init@{timer\_init}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{timer\_init()}{timer\_init()}}
{\footnotesize\ttfamily void timer\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initialize hardware timer/counter. 



Definition at line \mbox{\hyperlink{timer_8c_source_l00017}{17}} of file \mbox{\hyperlink{timer_8c_source}{timer.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00018\ \{}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{comment}{/*\ Initialize\ hardware\ timers\ */}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{comment}{/*\ CTC\ Mode\ */}}
\DoxyCodeLine{00022\ \ \ \ \ TCCR0A\ =\ (1\ <<\ WGM01);}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{comment}{/*\ Prescaler\ 64\ */}}
\DoxyCodeLine{00025\ \ \ \ \ TCCR0B\ |=\ (1\ <<\ CS01)\ |\ (1\ <<\ CS00);}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{comment}{/*\ 16000000\ /\ 64\ /\ 1000\ =\ 250\ */}}
\DoxyCodeLine{00028\ \ \ \ \ OCR0A\ =\ 250\ -\/\ 1;}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{comment}{/*\ Enable\ compare\ interrupt\ */}}
\DoxyCodeLine{00031\ \ \ \ \ TIMSK0\ |=\ (1\ <<\ OCIE0A);}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \mbox{\hyperlink{logger_8c_a60bd636ef160c97eb51cf31be5954ba2}{log\_boot\_P}}(LOG\_INIT,\ PSTR(\textcolor{stringliteral}{"{}Millisecond\ timer\ initialized"{}}));}
\DoxyCodeLine{00034\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{logger_8c_source_l00170}{log\+\_\+boot\+\_\+\+P()}}.

