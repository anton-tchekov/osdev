\doxysection{atfs.\+h}
\hypertarget{atfs_8h_source}{}\label{atfs_8h_source}\index{atfs/atfs.h@{atfs/atfs.h}}
\mbox{\hyperlink{atfs_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00018}00018\ \textcolor{preprocessor}{\#ifndef\ \_\_ATFS\_H\_\_}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00019}00019\ \textcolor{preprocessor}{\#define\ \_\_ATFS\_H\_\_}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00021}00021\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{types_8h}{types.h}}>}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00024}\mbox{\hyperlink{atfs_8h_a92b9c24f31f47693e78b3f27be5905ed}{00024}}\ \textcolor{preprocessor}{\#define\ ATFS\_BLOCK\_SIZE\ \ \ \ \ \ \ \ \ \ \ 512}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00027}\mbox{\hyperlink{atfs_8h_abef1527b5f0917d3ca73ac7a60435ae3}{00027}}\ \textcolor{preprocessor}{\#define\ ATFS\_SECTOR\_BOOT\ \ \ \ \ \ \ \ \ \ \ \ 0}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00030}\mbox{\hyperlink{atfs_8h_a67b9aeb5e631302051d8d928509fd379}{00030}}\ \textcolor{preprocessor}{\#define\ ATFS\_SIZE\_BOOT\ \ \ \ \ \ \ \ \ \ \ \ \ \ 1}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00033}\mbox{\hyperlink{atfs_8h_a57c1cdf2546cad6e7458aa3f4b19f527}{00033}}\ \textcolor{preprocessor}{\#define\ ATFS\_REVISION\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 1}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00035}00035\ \textcolor{comment}{/*\ -\/-\/-\/\ Boot\ sector\ byte\ offsets\ -\/-\/-\/\ */}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00038}\mbox{\hyperlink{atfs_8h_a2ea0d3fde1f46a1b5b3d1ab55b7e3d5b}{00038}}\ \textcolor{preprocessor}{\#define\ ATFS\_OFFSET\_SIGNATURE\ \ \ \ \ \ \ 0}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00041}\mbox{\hyperlink{atfs_8h_afa4c7c978e0253bb3c3e2b6828b49afd}{00041}}\ \textcolor{preprocessor}{\#define\ ATFS\_OFFSET\_REVISION\ \ \ \ \ \ \ \ 4}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00042}00042\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00044}\mbox{\hyperlink{atfs_8h_a7d10d042743a7e70205c1d82f8b3785b}{00044}}\ \textcolor{preprocessor}{\#define\ ATFS\_OFFSET\_INIT\_BLOCK\ \ \ \ \ \ 8}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00047}\mbox{\hyperlink{atfs_8h_ac61a5c871bbbb33f1f12c644bb7b105a}{00047}}\ \textcolor{preprocessor}{\#define\ ATFS\_OFFSET\_INIT\_SIZE\ \ \ \ \ \ 12}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00050}\mbox{\hyperlink{atfs_8h_a2c43a1d72edfe3950bea1899e0fa11d3}{00050}}\ \textcolor{preprocessor}{\#define\ ATFS\_OFFSET\_ROOT\_BLOCK\ \ \ \ \ 16}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00053}\mbox{\hyperlink{atfs_8h_acaaa3f9e7dad1ec7fd869ff474ed09e0}{00053}}\ \textcolor{preprocessor}{\#define\ ATFS\_OFFSET\_ROOT\_SIZE\ \ \ \ \ \ 20}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00055}00055\ \textcolor{comment}{/*\ -\/-\/-\/\ Directories\ -\/-\/-\/\ */}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00056}00056\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00058}\mbox{\hyperlink{atfs_8h_a1a1c9d810524a9b631adf2cf5aaf52e3}{00058}}\ \textcolor{preprocessor}{\#define\ ATFS\_DIR\_OFFSET\_NUM\_ENTRIES\ 0}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00061}\mbox{\hyperlink{atfs_8h_aee9bd507ba70162e1a4a9ae8f53d9ce4}{00061}}\ \textcolor{preprocessor}{\#define\ ATFS\_DIR\_SEPARATOR\ \ \ \ \ \ \ \ \ \ \ '.'}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00062}00062\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00063}00063\ \textcolor{comment}{/*\ -\/-\/-\/\ Directory\ entries\ -\/-\/-\/\ */}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00064}00064\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00066}\mbox{\hyperlink{atfs_8h_aa26cdea9ea502ca73d60b46f6dcdbb9d}{00066}}\ \textcolor{preprocessor}{\#define\ ATFS\_DIR\_ENTRY\_SIZE\ \ \ \ \ \ \ \ 64}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00069}\mbox{\hyperlink{atfs_8h_af9d9e1ccb68e5a9b9d093092865fb2ea}{00069}}\ \textcolor{preprocessor}{\#define\ ATFS\_MAX\_FILE\_NAME\_LENGTH\ \ 54}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00072}\mbox{\hyperlink{atfs_8h_a5fb2cbba92503dca0902503f7e5053a7}{00072}}\ \textcolor{preprocessor}{\#define\ ATFS\_DIR\_ENTRY\_OFFSET\_START\ 0}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00075}\mbox{\hyperlink{atfs_8h_add13918b17f428d1aa235dafdd1c13df}{00075}}\ \textcolor{preprocessor}{\#define\ ATFS\_DIR\_ENTRY\_OFFSET\_SIZE\ \ 4}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00078}\mbox{\hyperlink{atfs_8h_a41c530d07df7214112e721ae454793d5}{00078}}\ \textcolor{preprocessor}{\#define\ ATFS\_DIR\_ENTRY\_OFFSET\_NAME\ \ 8}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00081}\mbox{\hyperlink{atfs_8h_ac9b5213e9fc612a727edd811963d7131}{00081}}\ \textcolor{preprocessor}{\#define\ ATFS\_DIR\_ENTRY\_OFFSET\_TYPE\ 63}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00082}00082\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00083}00083\ \textcolor{comment}{/*\ -\/-\/-\/\ Free\ List\ -\/-\/-\/\ */}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00085}\mbox{\hyperlink{atfs_8h_ae1b6e15fd706a2eb4f19aefbf5ebbe28}{00085}}\ \textcolor{preprocessor}{\#define\ ATFS\_FREE\_OFFSET\_NEXT\ \ \ \ \ 504}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00086}00086\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00088}\mbox{\hyperlink{atfs_8h_a971ae5c8dad96b5ede6d14bec1359379}{00088}}\ \textcolor{preprocessor}{\#define\ ATFS\_FREE\_OFFSET\_SIZE\ \ \ \ \ 508}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00089}00089\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00091}\mbox{\hyperlink{atfs_8h_adf3e5683d8b4681edf588f58e4a02494}{00091}}\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}}\ \mbox{\hyperlink{atfs_8h_adf3e5683d8b4681edf588f58e4a02494}{\_atfs\_signature}}[]\ =\ \{\ \textcolor{charliteral}{'A'},\ \textcolor{charliteral}{'T'},\ \textcolor{charliteral}{'F'},\ \textcolor{charliteral}{'S'}\ \};}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00093}00093\ \textcolor{comment}{/*\ -\/-\/-\/\ Utility\ Functions\ -\/-\/-\/\ */}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00094}00094\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00101}\mbox{\hyperlink{atfs_8h_a62a1835558e5a5dfeade49e10d2682b8}{00101}}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{atfs_8h_a62a1835558e5a5dfeade49e10d2682b8}{write\_le\_32}}(\mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}}\ *buf,\ \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}\ val)}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00102}00102\ \{}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00103}00103\ \ \ \ \ buf[0]\ =\ val\ \&\ 0xFF;}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00104}00104\ \ \ \ \ buf[1]\ =\ (val\ >>\ 8)\ \&\ 0xFF;}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00105}00105\ \ \ \ \ buf[2]\ =\ (val\ >>\ 16)\ \&\ 0xFF;}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00106}00106\ \ \ \ \ buf[3]\ =\ (val\ >>\ 24)\ \&\ 0xFF;}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00107}00107\ \}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00108}00108\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00115}\mbox{\hyperlink{atfs_8h_a58dff0b38327e2389ba33ca793d2b633}{00115}}\ \textcolor{keyword}{static}\ \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}\ \mbox{\hyperlink{atfs_8h_a58dff0b38327e2389ba33ca793d2b633}{load\_le\_32}}(\mbox{\hyperlink{types_8h_a92c50087ca0e64fa93fc59402c55f8ca}{u8}}\ *buf)}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00116}00116\ \{}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00117}00117\ \ \ \ \ \textcolor{comment}{/*\ The\ cast\ is\ important\ for\ systems\ with\ small\ integer\ size\ */}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00118}00118\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}})(buf[0])\ |}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00119}00119\ \ \ \ \ \ \ \ \ ((\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}})(buf[1])\ <<\ 8)\ |}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00120}00120\ \ \ \ \ \ \ \ \ ((\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}})(buf[2])\ <<\ 16)\ |}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00121}00121\ \ \ \ \ \ \ \ \ ((\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}})(buf[3])\ <<\ 24);}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00122}00122\ \}}
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{atfs_8h_source_l00124}00124\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_ATFS\_H\_\_\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
