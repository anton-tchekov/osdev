\hypertarget{keyword_8c}{}\doxysection{apps/editor/keyword.c File Reference}
\label{keyword_8c}\index{apps/editor/keyword.c@{apps/editor/keyword.c}}
{\ttfamily \#include \char`\"{}keyword.\+h\char`\"{}}\newline
{\ttfamily \#include $<$std.\+h$>$}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{keyword_8c_a4bae030ca56b5d2942ca7e578dc0bc77}{HASHMAP\+\_\+\+SIZE}}~(\mbox{\hyperlink{util_8h_a5a34c337b71a34ab9a0ecff2d5715d24}{ARRLEN}}(\mbox{\hyperlink{keyword_8c_aae0625ea55665b8276775a584ec72045}{\+\_\+keywords}}) $\ast$ 3)
\item 
\#define \mbox{\hyperlink{keyword_8c_a52f57acae906f0cfb718a8bb026082e1}{COLLISION\+\_\+\+LIMIT}}~4
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} \mbox{\hyperlink{keyword_8c_a0b09947d1f7aa861a82bb4e52c1e148d}{\+\_\+keyword\+\_\+hash}} (const char $\ast$word, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} len)
\begin{DoxyCompactList}\small\item\em Calculate a hash for a string. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{keyword_8c_ac6651733083d3830314758080ea05f15}{keyword\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Initialize keyword module. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{keyword_8c_abb6b5d04672aa03af4d09945411d2da1}{keyword\+\_\+detect}} (const char $\ast$str, \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} len)
\begin{DoxyCompactList}\small\item\em Detects if a string is a keyword. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const char $\ast$ \mbox{\hyperlink{keyword_8c_aae0625ea55665b8276775a584ec72045}{\+\_\+keywords}} \mbox{[}$\,$\mbox{]}
\item 
static \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} \mbox{\hyperlink{keyword_8c_a30bd57a185f2615e8e676875cc3f1c46}{\+\_\+hashmap}} \mbox{[}\mbox{\hyperlink{keyword_8c_a4bae030ca56b5d2942ca7e578dc0bc77}{HASHMAP\+\_\+\+SIZE}}\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyAuthor}{Author}
Anton Tchekov 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
28.\+05.\+2023 
\end{DoxyDate}


Definition in file \mbox{\hyperlink{keyword_8c_source}{keyword.\+c}}.



\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{keyword_8c_a52f57acae906f0cfb718a8bb026082e1}\label{keyword_8c_a52f57acae906f0cfb718a8bb026082e1}} 
\index{keyword.c@{keyword.c}!COLLISION\_LIMIT@{COLLISION\_LIMIT}}
\index{COLLISION\_LIMIT@{COLLISION\_LIMIT}!keyword.c@{keyword.c}}
\doxysubsubsection{\texorpdfstring{COLLISION\_LIMIT}{COLLISION\_LIMIT}}
{\footnotesize\ttfamily \#define COLLISION\+\_\+\+LIMIT~4}

Maximum number of collisions when initializing the hashmap 

Definition at line \mbox{\hyperlink{keyword_8c_source_l00015}{15}} of file \mbox{\hyperlink{keyword_8c_source}{keyword.\+c}}.

\mbox{\Hypertarget{keyword_8c_a4bae030ca56b5d2942ca7e578dc0bc77}\label{keyword_8c_a4bae030ca56b5d2942ca7e578dc0bc77}} 
\index{keyword.c@{keyword.c}!HASHMAP\_SIZE@{HASHMAP\_SIZE}}
\index{HASHMAP\_SIZE@{HASHMAP\_SIZE}!keyword.c@{keyword.c}}
\doxysubsubsection{\texorpdfstring{HASHMAP\_SIZE}{HASHMAP\_SIZE}}
{\footnotesize\ttfamily \#define HASHMAP\+\_\+\+SIZE~(\mbox{\hyperlink{util_8h_a5a34c337b71a34ab9a0ecff2d5715d24}{ARRLEN}}(\mbox{\hyperlink{keyword_8c_aae0625ea55665b8276775a584ec72045}{\+\_\+keywords}}) $\ast$ 3)}

Maximum number of elements in the hashmap 

Definition at line \mbox{\hyperlink{keyword_8c_source_l00012}{12}} of file \mbox{\hyperlink{keyword_8c_source}{keyword.\+c}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{keyword_8c_a0b09947d1f7aa861a82bb4e52c1e148d}\label{keyword_8c_a0b09947d1f7aa861a82bb4e52c1e148d}} 
\index{keyword.c@{keyword.c}!\_keyword\_hash@{\_keyword\_hash}}
\index{\_keyword\_hash@{\_keyword\_hash}!keyword.c@{keyword.c}}
\doxysubsubsection{\texorpdfstring{\_keyword\_hash()}{\_keyword\_hash()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} \+\_\+keyword\+\_\+hash (\begin{DoxyParamCaption}\item[{const char $\ast$}]{word,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{len }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Calculate a hash for a string. 


\begin{DoxyParams}{Parameters}
{\em word} & The string to hash \\
\hline
{\em len} & The length of the string \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Hash value 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{keyword_8c_source_l00106}{106}} of file \mbox{\hyperlink{keyword_8c_source}{keyword.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00107\ \{}
\DoxyCodeLine{00108\ \ \ \ \ \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}\ i,\ hash;}
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}\ c;}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ hash\ =\ 5381;}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordflow}{for}(i\ =\ 0;\ i\ <\ len\ \&\&\ (c\ =\ word[i]);\ ++i)}
\DoxyCodeLine{00113\ \ \ \ \ \{}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ hash\ =\ ((hash\ <<\ 5)\ +\ hash)\ +\ c;}
\DoxyCodeLine{00115\ \ \ \ \ \}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordflow}{return}\ hash;}
\DoxyCodeLine{00118\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{keyword_8c_source_l00146}{keyword\+\_\+detect()}}, and \mbox{\hyperlink{keyword_8c_source_l00120}{keyword\+\_\+init()}}.

\mbox{\Hypertarget{keyword_8c_abb6b5d04672aa03af4d09945411d2da1}\label{keyword_8c_abb6b5d04672aa03af4d09945411d2da1}} 
\index{keyword.c@{keyword.c}!keyword\_detect@{keyword\_detect}}
\index{keyword\_detect@{keyword\_detect}!keyword.c@{keyword.c}}
\doxysubsubsection{\texorpdfstring{keyword\_detect()}{keyword\_detect()}}
{\footnotesize\ttfamily bool keyword\+\_\+detect (\begin{DoxyParamCaption}\item[{const char $\ast$}]{str,  }\item[{\mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{len }\end{DoxyParamCaption})}



Detects if a string is a keyword. 


\begin{DoxyParams}{Parameters}
{\em str} & The string to check for \\
\hline
{\em len} & The length of the string \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the input string is a keyword 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{keyword_8c_source_l00146}{146}} of file \mbox{\hyperlink{keyword_8c_source}{keyword.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00147\ \{}
\DoxyCodeLine{00148\ \ \ \ \ \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}\ i,\ hash;}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ hash\ =\ \mbox{\hyperlink{keyword_8c_a0b09947d1f7aa861a82bb4e52c1e148d}{\_keyword\_hash}}(str,\ len);}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keywordflow}{for}(i\ =\ 0;\ i\ <\ \mbox{\hyperlink{keyword_8c_a52f57acae906f0cfb718a8bb026082e1}{COLLISION\_LIMIT}};\ ++i)}
\DoxyCodeLine{00152\ \ \ \ \ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}\ index\ =\ \mbox{\hyperlink{keyword_8c_a30bd57a185f2615e8e676875cc3f1c46}{\_hashmap}}[hash\ \%\ \mbox{\hyperlink{keyword_8c_a4bae030ca56b5d2942ca7e578dc0bc77}{HASHMAP\_SIZE}}];}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(index\ !=\ -\/1\ \&\&\ len\ ==\ \mbox{\hyperlink{string_8c_adbbf4d6ec8d6b708c64bd6a4a18065dd}{strlen}}(\mbox{\hyperlink{keyword_8c_aae0625ea55665b8276775a584ec72045}{\_keywords}}[index])\ \&\&}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ !\mbox{\hyperlink{string_8c_a43b13467afc2b31f826cd96f13a2389c}{strncmp}}(str,\ \mbox{\hyperlink{keyword_8c_aae0625ea55665b8276775a584ec72045}{\_keywords}}[index],\ len))}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ ++hash;}
\DoxyCodeLine{00161\ \ \ \ \ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00164\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{keyword_8c_source_l00097}{\+\_\+hashmap}}, \mbox{\hyperlink{keyword_8c_source_l00106}{\+\_\+keyword\+\_\+hash()}}, \mbox{\hyperlink{keyword_8c_source_l00018}{\+\_\+keywords}}, \mbox{\hyperlink{keyword_8c_source_l00015}{COLLISION\+\_\+\+LIMIT}}, \mbox{\hyperlink{keyword_8c_source_l00012}{HASHMAP\+\_\+\+SIZE}}, \mbox{\hyperlink{string_8c_source_l00029}{strlen()}}, and \mbox{\hyperlink{string_8c_source_l00052}{strncmp()}}.

\mbox{\Hypertarget{keyword_8c_ac6651733083d3830314758080ea05f15}\label{keyword_8c_ac6651733083d3830314758080ea05f15}} 
\index{keyword.c@{keyword.c}!keyword\_init@{keyword\_init}}
\index{keyword\_init@{keyword\_init}!keyword.c@{keyword.c}}
\doxysubsubsection{\texorpdfstring{keyword\_init()}{keyword\_init()}}
{\footnotesize\ttfamily void keyword\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initialize keyword module. 



Definition at line \mbox{\hyperlink{keyword_8c_source_l00120}{120}} of file \mbox{\hyperlink{keyword_8c_source}{keyword.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00121\ \{}
\DoxyCodeLine{00122\ \ \ \ \ \mbox{\hyperlink{types_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}\ i,\ hash,\ steps;}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keywordflow}{for}(i\ =\ 0;\ i\ <\ \mbox{\hyperlink{keyword_8c_a4bae030ca56b5d2942ca7e578dc0bc77}{HASHMAP\_SIZE}};\ ++i)}
\DoxyCodeLine{00125\ \ \ \ \ \{}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{keyword_8c_a30bd57a185f2615e8e676875cc3f1c46}{\_hashmap}}[i]\ =\ -\/1;}
\DoxyCodeLine{00127\ \ \ \ \ \}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordflow}{for}(i\ =\ 0;\ i\ <\ \mbox{\hyperlink{util_8h_a5a34c337b71a34ab9a0ecff2d5715d24}{ARRLEN}}(\mbox{\hyperlink{keyword_8c_aae0625ea55665b8276775a584ec72045}{\_keywords}});\ ++i)}
\DoxyCodeLine{00130\ \ \ \ \ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ steps\ =\ 0;}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ hash\ =\ \mbox{\hyperlink{keyword_8c_a0b09947d1f7aa861a82bb4e52c1e148d}{\_keyword\_hash}}(\mbox{\hyperlink{keyword_8c_aae0625ea55665b8276775a584ec72045}{\_keywords}}[i],\ UINT32\_MAX);}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(\mbox{\hyperlink{keyword_8c_a30bd57a185f2615e8e676875cc3f1c46}{\_hashmap}}[hash\ \%\ \mbox{\hyperlink{keyword_8c_a4bae030ca56b5d2942ca7e578dc0bc77}{HASHMAP\_SIZE}}]\ !=\ -\/1)}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ ++hash;}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(++steps\ >=\ \mbox{\hyperlink{keyword_8c_a52f57acae906f0cfb718a8bb026082e1}{COLLISION\_LIMIT}})}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{panic_8h_ae3c0c6fb5e69bb687e787ec5c487afa1}{PANIC}}(\textcolor{stringliteral}{"{}Keyword\ hashmap\ collision\ limit\ exceeded"{}});}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{keyword_8c_a30bd57a185f2615e8e676875cc3f1c46}{\_hashmap}}[hash\ \%\ \mbox{\hyperlink{keyword_8c_a4bae030ca56b5d2942ca7e578dc0bc77}{HASHMAP\_SIZE}}]\ =\ i;}
\DoxyCodeLine{00143\ \ \ \ \ \}}
\DoxyCodeLine{00144\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{keyword_8c_source_l00097}{\+\_\+hashmap}}, \mbox{\hyperlink{keyword_8c_source_l00106}{\+\_\+keyword\+\_\+hash()}}, \mbox{\hyperlink{keyword_8c_source_l00018}{\+\_\+keywords}}, \mbox{\hyperlink{util_8h_source_l00013}{ARRLEN}}, \mbox{\hyperlink{keyword_8c_source_l00015}{COLLISION\+\_\+\+LIMIT}}, \mbox{\hyperlink{keyword_8c_source_l00012}{HASHMAP\+\_\+\+SIZE}}, and \mbox{\hyperlink{panic_8h_source_l00032}{PANIC}}.



Referenced by \mbox{\hyperlink{apps_2editor_2main_8c_source_l00289}{setup()}}.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{keyword_8c_a30bd57a185f2615e8e676875cc3f1c46}\label{keyword_8c_a30bd57a185f2615e8e676875cc3f1c46}} 
\index{keyword.c@{keyword.c}!\_hashmap@{\_hashmap}}
\index{\_hashmap@{\_hashmap}!keyword.c@{keyword.c}}
\doxysubsubsection{\texorpdfstring{\_hashmap}{\_hashmap}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} \+\_\+hashmap\mbox{[}\mbox{\hyperlink{keyword_8c_a4bae030ca56b5d2942ca7e578dc0bc77}{HASHMAP\+\_\+\+SIZE}}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

Hashmap is initialized with -\/1 

Definition at line \mbox{\hyperlink{keyword_8c_source_l00097}{97}} of file \mbox{\hyperlink{keyword_8c_source}{keyword.\+c}}.



Referenced by \mbox{\hyperlink{keyword_8c_source_l00146}{keyword\+\_\+detect()}}, and \mbox{\hyperlink{keyword_8c_source_l00120}{keyword\+\_\+init()}}.

\mbox{\Hypertarget{keyword_8c_aae0625ea55665b8276775a584ec72045}\label{keyword_8c_aae0625ea55665b8276775a584ec72045}} 
\index{keyword.c@{keyword.c}!\_keywords@{\_keywords}}
\index{\_keywords@{\_keywords}!keyword.c@{keyword.c}}
\doxysubsubsection{\texorpdfstring{\_keywords}{\_keywords}}
{\footnotesize\ttfamily const char$\ast$ \+\_\+keywords\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

Keyword list 

Definition at line \mbox{\hyperlink{keyword_8c_source_l00018}{18}} of file \mbox{\hyperlink{keyword_8c_source}{keyword.\+c}}.



Referenced by \mbox{\hyperlink{keyword_8c_source_l00146}{keyword\+\_\+detect()}}, and \mbox{\hyperlink{keyword_8c_source_l00120}{keyword\+\_\+init()}}.

